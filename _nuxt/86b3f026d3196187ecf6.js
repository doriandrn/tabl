/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],Array(137).concat([function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.d(e,"h",function(){return m}),n.d(e,"f",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"i",function(){return k}),n.d(e,"m",function(){return x}),n.d(e,"l",function(){return E}),n.d(e,"o",function(){return O}),n.d(e,"s",function(){return j}),n.d(e,"j",function(){return P}),n.d(e,"r",function(){return A}),n.d(e,"t",function(){return R}),n.d(e,"p",function(){return T}),n.d(e,"q",function(){return D}),n.d(e,"k",function(){return M}),n.d(e,"n",function(){return B}),n.d(e,"a",function(){return L}),n.d(e,"b",function(){return I}),n.d(e,"g",function(){return N}),n.d(e,"c",function(){return F}),n.d(e,"e",function(){return U});var r=n(185),o=n.n(r),c=n(139),f=n(191),l=n.n(f),h=n(189),d=n.n(h),v=n(233),y=n.n(v);function m(t){if(!t||"function"!=typeof t.super_)throw c.a.newRxError("UT4",{adapter:t})}function _(t){var e=t;return"string"!=typeof t&&(e=JSON.stringify(t)),d.a.hash(e)}function w(){return o()(10)+":"+(new Date).getTime()}function k(){return new Promise(function(t){return setTimeout(t,0)})}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(e){return setTimeout(e,t)})}function E(t,e){return t.reduce(function(t,e){return t.then(e)},Promise.resolve(e))}function O(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(t)}function j(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}var S="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",C=S.length;function P(t){var e=[];do{var n=t%C;e.push(n),t=Math.floor(t/C)}while(t-- >0);return e.reverse().map(function(t){return S[t]}).join("")}function A(t){for(;"."===t.charAt(0);)t=t.substr(1);for(;"."===t.slice(-1);)t=t.slice(0,-1);return t}function R(t){if("string"!=typeof t||0===t.length)throw c.a.newRxTypeError("UT1",{name:t});if(t.includes("/")||t.includes("\\"))return!0;var e=new RegExp("^[a-z][_$a-z0-9]*$");if(!t.match(e))throw c.a.newRxError("UT2",{regex:"^[a-z][_$a-z0-9]*$",givenName:t});return!0}function T(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return t;if(!e&&Array.isArray(t))return t.sort(function(a,b){return"string"==typeof a&&"string"==typeof b?a.localeCompare(b):"object"==typeof a?1:-1}).map(function(i){return T(i)});if("object"==typeof t){if(t instanceof RegExp)return t;var n={};return Object.keys(t).sort(function(a,b){return a.localeCompare(b)}).forEach(function(e){n[e]=T(t[e])}),n}return t}function D(t,e){return e instanceof RegExp?e.toString():e}function M(t,e){var n=e.pull,r=void 0===n||n,o=e.push,f=void 0===o||o;if(r&&f)return t.sync.bind(t);if(!r&&f)return t.replicate.to.bind(t);if(r&&!f)return t.replicate.from.bind(t);if(!r&&!f)throw c.a.newRxError("UT3",{pull:r,push:f})}function B(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,text="",e="abcdefghijklmnopqrstuvwxyz",i=0;i<t;i++)text+=e.charAt(Math.floor(Math.random()*e.length));return text}function L(t){var e={db:t};return"string"==typeof t&&(e={adapter:t}),e}var I=function(t){return t?l()(t,!1):t},N=y()();function F(t){var e={};for(var i in t)if(t.hasOwnProperty(i))if("object"==typeof t[i]){var n=F(t[i]);for(var r in n)n.hasOwnProperty(r)&&(e[i+"."+r]=n[r])}else e[i]=t[i];return e}function U(t){var e=t.split("-")[0];return parseInt(e)}},function(t,e,n){"use strict";var r=n(149),o=n.n(r),c=n(174),f=n.n(c),l=n(226),h=n.n(l),d=n(138),v=n(163),y=function(t,e){return"RxError:\n"+t+"\n"+function(t){var e="";return 0===Object.keys(t).length?e:(e+="Given parameters: {\n",e+=Object.keys(t).map(function(e){var n="[object Object]";try{n=JSON.stringify(t[e],function(t,e){return void 0===e?null:e},2)}catch(t){}return e+":"+n}).join("\n"),e+="}")}(e)},m=function(t){function e(code,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=y(e,r);return(n=t.call(this,o)||this).code=code,n.message=o,n.parameters=r,n.rxdb=!0,n}return f()(e,t),e.prototype.toString=function(){return this.message},o()(e,[{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!1}}]),e}(h()(Error)),_=function(t){function e(code,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=y(e,r);return(n=t.call(this,o)||this).code=code,n.message=o,n.parameters=r,n.rxdb=!0,n}return f()(e,t),e.prototype.toString=function(){return this.message},o()(e,[{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!0}}]),e}(h()(TypeError));e.a={newRxError:function(code,t){return new m(code,v.a.tunnelErrorMessage(code),t)},newRxTypeError:function(code,t){return new _(code,v.a.tunnelErrorMessage(code),t)},pluginMissing:function(t){return new m("PU","You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n          - es5-require:\n            RxDB.plugin(require('rxdb/plugins/"+t+"'))\n          - es6-import:\n            import "+Object(d.s)(t)+"Plugin from 'rxdb/plugins/"+t+"';\n            RxDB.plugin("+Object(d.s)(t)+"Plugin);\n        ",{pluginKey:t})}}},function(t,e,n){"use strict";n.d(e,"a",function(){return P}),n.d(e,"b",function(){return $}),n.d(e,"c",function(){return B}),n.d(e,"d",function(){return I}),n.d(e,"e",function(){return j}),n.d(e,"f",function(){return F}),n.d(e,"g",function(){return U}),n.d(e,"h",function(){return V}),n.d(e,"i",function(){return z}),n.d(e,"j",function(){return H}),n.d(e,"k",function(){return N}),n.d(e,"l",function(){return L}),n.d(e,"m",function(){return W}),n.d(e,"n",function(){return K}),n.d(e,"o",function(){return Y}),n.d(e,"q",function(){return Q}),n.d(e,"r",function(){return S}),n.d(e,"s",function(){return J}),n.d(e,"t",function(){return A}),n.d(e,"u",function(){return Z}),n.d(e,"v",function(){return G}),n.d(e,"w",function(){return C}),n.d(e,"x",function(){return X}),n.d(e,"y",function(){return tt});var r=n(166),o=n.n(r),c=n(156),f=n(186),l=n.n(f);n.d(e,"p",function(){return l.a});var h=n(147),d=n(137),v=n.n(d),y=n(150),m=n(223),_=n.n(m),w=n(157),k=n(140);function x(object){if(object instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(object);var t=object.size,e=object.type;return"function"==typeof object.slice?object.slice(0,t,e):object.webkitSlice(0,t,e)}var E=Function.prototype.toString,O=E.call(Object);function j(object){var t,i,e;if(!object||"object"!=typeof object)return object;if(Array.isArray(object)){for(t=[],i=0,e=object.length;i<e;i++)t[i]=j(object[i]);return t}if(object instanceof Date)return object.toISOString();if(function(object){return"undefined"!=typeof ArrayBuffer&&object instanceof ArrayBuffer||"undefined"!=typeof Blob&&object instanceof Blob}(object))return x(object);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==O}(object))return object;for(i in t={},object)if(Object.prototype.hasOwnProperty.call(object,i)){var n=j(object[i]);void 0!==n&&(t[i]=n)}return t}function S(t){var e=!1;return o()(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function C(t){return o()(function(e){e=j(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),o=new Promise(function(r,o){var c;try{var f=S(function(t,e){t?o(t):r(e)});e.push(f),(c=t.apply(n,e))&&"function"==typeof c.then&&r(c)}catch(t){o(t)}});return r&&o.then(function(t){r(null,t)},r),o})}function P(t,e){return C(o()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],i=0;i<n.length-1;i++)r.push(n[i]);t.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(n,r){var c=["api",t.name,e];c=c.concat(n?["error",n]:["success",r]),t.constructor.emit("debug",c),o(n,r)}}}(r,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise(function(e,o){r.taskqueue.addTask(function(c){c?o(c):e(r[t].apply(r,n))})})}))}function A(t,e){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];o in t&&(n[o]=t[o])}return n}var R,T=6;function D(t){return t}function M(t){return[{ok:t}]}function B(t,e,n){var r=e.docs,o=new c.a;r.forEach(function(t){o.has(t.id)?o.get(t.id).push(t):o.set(t.id,[t])});var f=o.size,l=0,h=new Array(f);function d(){var t;++l===f&&(t=[],h.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t}))}var v=[];o.forEach(function(t,e){v.push(e)});var i=0;function y(){if(!(i>=v.length)){var n=Math.min(i+T,v.length),r=v.slice(i,n);!function(n,r){n.forEach(function(n,c){var f=r+c,l=o.get(n),v=A(l[0],["atts_since","attachments"]);v.open_revs=l.map(function(t){return t.rev}),v.open_revs=v.open_revs.filter(D);var m=D;0===v.open_revs.length&&(delete v.open_revs,m=M),["revs","attachments","binary","ajax","latest"].forEach(function(param){param in e&&(v[param]=e[param])}),t.get(n,v,function(t,e){var r,o,c;r=t?[{error:t}]:m(e),o=n,c=r,h[f]={id:o,docs:c},d(),y()})})}(r,i),i+=r.length}}y()}try{localStorage.setItem("_pouch_check_localstorage",1),R=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){R=!1}function L(){return R}function I(){var t;h.EventEmitter.call(this),this._listeners={},t=this,L()&&addEventListener("storage",function(e){t.emit(e.key)})}function N(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function F(t){var e=0;return t||(e=2e3),function(t,e){return t=parseInt(t,10)||0,(e=parseInt(e,10))!=e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}(t,e)}function U(t,e){N("info","The above "+t+" is totally normal. "+e)}v()(I,h.EventEmitter),I.prototype.addListener=function(t,e,n,r){if(!this._listeners[e]){var o=this,c=!1;this._listeners[e]=f,this.on(t,f)}function f(){if(o._listeners[e])if(c)c="waiting";else{c=!0;var t=A(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===c&&l()(f),c=!1}).on("error",function(){c=!1})}}},I.prototype.removeListener=function(t,e){e in this._listeners&&(h.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},I.prototype.notifyLocalWindows=function(t){L()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},I.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var $="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function V(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var o=n&&function(filter,t,e){try{return!filter(t,e)}catch(t){var n="Filter function threw: "+t.toString();return Object(y.p)(y.b,n)}}(t.filter,r.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var c in r.doc._attachments)r.doc._attachments.hasOwnProperty(c)&&(r.doc._attachments[c].stub=!0)}else delete r.doc;return!0}}function z(t){for(var e=[],i=0,n=t.length;i<n;i++)e=e.concat(t[i]);return e}var H=function(){}.name?function(t){return t.name}:function(t){var e=t.toString().match(/^\s*function\s*(?:(\S+)\s*)?\(/);return e&&e[1]?e[1]:""};function W(t){var e;if(t?"string"!=typeof t?e=Object(y.p)(y.d):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=Object(y.p)(y.m)):e=Object(y.p)(y.h),e)throw e}function K(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(N("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function Y(t,e){return"listenerCount"in t?t.listenerCount(e):h.EventEmitter.listenerCount(t,e)}function J(s){if(!s)return null;var t=s.split("/");return 2===t.length?t:1===t.length?[s,s]:null}function Q(s){var t=J(s);return t?t.join("/"):null}function G(source,t){var e=[],n=[];for(var r in t)t.hasOwnProperty(r)&&(e.push(r),n.push(t[r]));return e.push(source),Function.apply(null,e).apply(null,n)}function X(t,e,n){return new Promise(function(r,o){t.get(e,function(c,f){if(c){if(404!==c.status)return o(c);f={}}var l=f._rev,h=n(f);if(!h)return r({updated:!1,rev:l});h._id=e,h._rev=l,r(function(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(r){if(409!==r.status)throw r;return X(t,e._id,n)})}(t,h,n))})})}function Z(t,e){var n=Object(k.e)(t);return e?(delete n._rev_tree,Object(w.b)(JSON.stringify(n))):_.a.v4().replace(/-/g,"").toLowerCase()}var tt=_.a.v4},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}},function(t,e,n){"use strict";(function(t){var r=n(230),o=n(231),c=n(232);function f(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(f()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,n){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return y(this,t)}return d(this,t,e,n)}function d(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=m(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!h.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n),o=(t=l(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(h.isBuffer(e)){var n=0|_(e.length);return 0===(t=l(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?l(t,0):m(t,e);if("Buffer"===e.type&&c(e.data))return m(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function v(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function y(t,e){if(v(e),t=l(t,e<0?0:0|_(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function m(t,e){var n=e.length<0?0:0|_(e.length);t=l(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function _(t){if(t>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|t}function w(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(r)return Y(t).length;e=(""+e).toLowerCase(),r=!0}}function k(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function x(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:E(t,e,n,r,o);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):E(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function E(t,e,n,r,o){var i,c=1,f=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;c=2,f/=2,l/=2,n/=2}function h(t,i){return 1===c?t[i]:t.readUInt16BE(i*c)}if(o){var d=-1;for(i=n;i<f;i++)if(h(t,i)===h(e,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===l)return d*c}else-1!==d&&(i-=i-d),d=-1}else for(n+l>f&&(n=f-l),i=n;i>=0;i--){for(var v=!0,y=0;y<l;y++)if(h(t,i+y)!==h(e,y)){v=!1;break}if(v)return i}return-1}function O(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var c=e.length;if(c%2!=0)throw new TypeError("Invalid hex string");r>c/2&&(r=c/2);for(var i=0;i<r;++i){var f=parseInt(e.substr(2*i,2),16);if(isNaN(f))return i;t[n+i]=f}return i}function j(t,e,n,r){return Q(Y(e,t.length-n),t,n,r)}function S(t,e,n,r){return Q(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,n,r)}function C(t,e,n,r){return S(t,e,n,r)}function P(t,e,n,r){return Q(J(e),t,n,r)}function A(t,e,n,r){return Q(function(t,e){for(var n,r,o,c=[],i=0;i<t.length&&!((e-=2)<0);++i)n=t.charCodeAt(i),r=n>>8,o=n%256,c.push(o),c.push(r);return c}(e,t.length-n),t,n,r)}function R(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,c,f,l,h=t[i],d=null,v=h>239?4:h>223?3:h>191?2:1;if(i+v<=n)switch(v){case 1:h<128&&(d=h);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&h)<<6|63&o)>127&&(d=l);break;case 3:o=t[i+1],c=t[i+2],128==(192&o)&&128==(192&c)&&(l=(15&h)<<12|(63&o)<<6|63&c)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=t[i+1],c=t[i+2],f=t[i+3],128==(192&o)&&128==(192&c)&&128==(192&f)&&(l=(15&h)<<18|(63&o)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(d=l)}null===d?(d=65533,v=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=v}return function(t){var e=t.length;if(e<=D)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=D));return n}(r)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=f(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,n){return d(null,t,e,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,n){return function(t,e,n,r){return v(e),e<=0?l(t,e):void 0!==n?"string"==typeof r?l(t,e).fill(n,r):l(t,e).fill(n):l(t,e)}(null,t,e,n)},h.allocUnsafe=function(t){return y(null,t)},h.allocUnsafeSlow=function(t){return y(null,t)},h.isBuffer=function(b){return!(null==b||!b._isBuffer)},h.compare=function(a,b){if(!h.isBuffer(a)||!h.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,n=Math.min(t,e);i<n;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!c(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=h.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)k(this,i,i+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)k(this,i,i+3),k(this,i+1,i+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)k(this,i,i+7),k(this,i+1,i+6),k(this,i+2,i+5),k(this,i+3,i+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return B(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===h.compare(this,b)},h.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,n,r,o){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var c=(o>>>=0)-(r>>>=0),f=(n>>>=0)-(e>>>=0),l=Math.min(c,f),d=this.slice(r,o),v=t.slice(e,n),i=0;i<l;++i)if(d[i]!==v[i]){c=d[i],f=v[i];break}return c<f?-1:f<c?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return x(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return x(this,t,e,n,!1)},h.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var c=!1;;)switch(r){case"hex":return O(this,t,e,n);case"utf8":case"utf-8":return j(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return C(this,t,e,n);case"base64":return P(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(c)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),c=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function B(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=K(t[i]);return o}function I(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,o,c){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<c)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function $(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function V(t,e,n,r,o,c){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,r,c){return c||V(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function H(t,e,n,r,c){return c||V(t,0,n,8),o.write(t,e,n,r,52,8),n+8}h.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=h.prototype;else{var o=e-t;n=new h(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},h.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},h.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},h.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},h.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},h.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):$(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):$(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=0,c=1,sub=0;for(this[e]=255&t;++i<n&&(c*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+n},h.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=n-1,c=1,sub=0;for(this[e+i]=255&t;--i>=0&&(c*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):$(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):$(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},h.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var o=h.isBuffer(t)?t:Y(new h(t,r).toString()),c=o.length;for(i=0;i<n-e;++i)this[i+e]=o[i%c]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function K(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var n;e=e||1/0;for(var r=t.length,o=null,c=[],i=0;i<r;++i){if((n=t.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&c.push(239,191,189);continue}if(i+1===r){(e-=3)>-1&&c.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&c.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&c.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;c.push(n)}else if(n<2048){if((e-=2)<0)break;c.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;c.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;c.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return c}function J(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(28))},,,function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(141),o=n(168),c=n(192),f=n(154),l=n(177),h=n(175),d=n(176),v=function(t){function e(n,r,o){var f=t.call(this)||this;switch(f.syncErrorValue=null,f.syncErrorThrown=!1,f.syncErrorThrowable=!1,f.isStopped=!1,arguments.length){case 0:f.destination=c.a;break;case 1:if(!n){f.destination=c.a;break}if("object"==typeof n){n instanceof e?(f.syncErrorThrowable=n.syncErrorThrowable,f.destination=n,n.add(f)):(f.syncErrorThrowable=!0,f.destination=new y(f,n));break}default:f.syncErrorThrowable=!0,f.destination=new y(f,n,r,o)}return f}return r.a(e,t),e.prototype[l.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(f.a),y=function(t){function e(e,n,r,f){var l,h=t.call(this)||this;h._parentSubscriber=e;var d=h;return Object(o.a)(n)?l=n:n&&(l=n.next,r=n.error,f=n.complete,n!==c.a&&(d=Object.create(n),Object(o.a)(d.unsubscribe)&&h.add(d.unsubscribe.bind(d)),d.unsubscribe=h.unsubscribe.bind(h))),h._context=d,h._next=l,h._error=r,h._complete=f,h}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;h.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=h.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(d.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(d.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};h.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),h.a.useDeprecatedSynchronousErrorHandling)throw t;Object(d.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!h.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return h.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(d.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(v)},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(142).Buffer)},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,c=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var f=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var h=10;function d(t){return void 0===t._maxListeners?l.defaultMaxListeners:t._maxListeners}function v(t,e,n,r){var o,c,f,l;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(c=t._events)?(c=t._events=Object.create(null),t._eventsCount=0):(void 0!==c.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),c=t._events),f=c[e]),void 0===f)f=c[e]=n,++t._eventsCount;else if("function"==typeof f?f=c[e]=r?[n,f]:[f,n]:r?f.unshift(n):f.push(n),(o=d(t))>0&&f.length>o&&!f.warned){f.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=f.length,l=h,console&&console.warn&&console.warn(l)}return t}function y(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,c(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function m(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(o):w(o,o.length)}function _(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function w(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t||t<0||f(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h=t}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||f(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var f=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw f.context=o,f}var l=r[t];if(void 0===l)return!1;if("function"==typeof l)c(l,this,e);else{var h=l.length,d=w(l,h);for(i=0;i<h;++i)c(d[i],this,e)}return!0},l.prototype.addListener=function(t,e){return v(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return v(this,t,e,!0)},l.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,y(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,y(this,t,e)),this},l.prototype.removeListener=function(t,e){var n,r,o,i,c;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){c=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,c||e)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},l.prototype.listeners=function(t){return m(this,t,!0)},l.prototype.rawListeners=function(t){return m(this,t,!1)},l.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},l.prototype.listenerCount=_,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},,,function(t,e,n){"use strict";n.d(e,"f",function(){return c}),n.d(e,"g",function(){return f}),n.d(e,"n",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"h",function(){return d}),n.d(e,"m",function(){return v}),n.d(e,"k",function(){return y}),n.d(e,"o",function(){return m}),n.d(e,"a",function(){return _}),n.d(e,"l",function(){return w}),n.d(e,"c",function(){return k}),n.d(e,"b",function(){return x}),n.d(e,"j",function(){return E}),n.d(e,"e",function(){return O}),n.d(e,"i",function(){return j}),n.d(e,"p",function(){return S}),n.d(e,"q",function(){return C});var r=n(137);function o(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}n.n(r)()(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new o(401,"unauthorized","Name or password is incorrect.");var c=new o(400,"bad_request","Missing JSON list of 'docs'"),f=new o(404,"not_found","missing"),l=new o(409,"conflict","Document update conflict"),h=new o(400,"bad_request","_id field must contain a string"),d=new o(412,"missing_id","_id is required for puts"),v=new o(400,"bad_request","Only reserved document ids may start with underscore."),y=new o(412,"precondition_failed","Database not open"),m=new o(500,"unknown_error","Database encountered an unknown error"),_=new o(500,"badarg","Some query argument is invalid"),w=(new o(400,"invalid_request","Request was invalid"),new o(400,"query_parse_error","Some query parameter is invalid")),k=new o(500,"doc_validation","Bad special document member"),x=new o(400,"bad_request","Something wrong with the request"),E=new o(400,"bad_request","Document must be a JSON object"),O=(new o(404,"not_found","Database not found"),new o(500,"indexed_db_went_bad","unknown"),new o(500,"web_sql_went_bad","unknown"),new o(500,"levelDB_went_went_bad","unknown"),new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),new o(400,"bad_request","Invalid rev format")),j=(new o(412,"file_exists","The database could not be created, the file already exists."),new o(412,"missing_stub","A pre-existing attachment stub wasn't found"));new o(413,"invalid_url","Provided URL is invalid");function S(t,e){function n(e){for(var p in t)"function"!=typeof t[p]&&(this[p]=t[p]);void 0!==e&&(this.reason=e)}return n.prototype=o.prototype,new n(e)}function C(t){if("object"!=typeof t){var data=t;(t=m).data=data}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}},function(t,e,n){var r;t.exports=(r=r||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},o=r.lib={},c=o.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=o.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var c=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=c<<24-(r+i)%4*8}else for(var i=0;i<o;i+=4)e[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],o=function(e){var e=e,n=987654321,mask=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&mask)<<16)+(e=18e3*(65535&e)+(e>>16)&mask)&mask;return r/=4294967296,(r+=.5)*(t.random()>.5?1:-1)}},i=0;i<e;i+=4){var c=o(4294967296*(n||t.random()));n=987654071*c(),r.push(4294967296*c()|0)}return new f.init(r,e)}}),l=r.enc={},h=l.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new f.init(n,e/2)}},d=l.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new f.init(n,e)}},v=l.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},y=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(data){"string"==typeof data&&(data=v.parse(data)),this._data.concat(data),this._nDataBytes+=data.sigBytes},_process:function(e){var data=this._data,n=data.words,r=data.sigBytes,o=this.blockSize,c=4*o,l=r/c,h=(l=e?t.ceil(l):t.max((0|l)-this._minBufferSize,0))*o,d=t.min(4*h,r);if(h){for(var v=0;v<h;v+=o)this._doProcessBlock(n,v);var y=n.splice(0,h);data.sigBytes-=d}return new f.init(y,d)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),m=(o.Hasher=y.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new m.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math),r)},function(t,e,n){"use strict";var r=n(149),o=n.n(r),c=n(138),f=function(){function t(data){this.data=data}var e=t.prototype;return e.toJSON=function(){var t={op:this.data.op,t:this.data.t,db:this.data.db,it:this.data.it,isLocal:this.data.isLocal};return this.data.col&&(t.col=this.data.col),this.data.doc&&(t.doc=this.data.doc),this.data.v&&(t.v=this.data.v),t},e.isIntern=function(){return!(!this.data.col||"_"!==this.data.col.charAt(0))},e.isSocket=function(){return!(!this.data.col||"_socket"!==this.data.col)},o()(t,[{key:"hash",get:function(){return this._hash||(this._hash=Object(c.f)(this.data)),this._hash}}]),t}();e.a={fromJSON:function(data){return new f(data)},fromPouchChange:function(t,e){var n=t._rev.startsWith("1-")?"INSERT":"UPDATE";t._deleted&&(n="REMOVE"),t=e._handleFromPouch(t);var data={op:n,t:(new Date).getTime(),db:"remote",col:e.name,it:e.database.token,doc:t[e.schema.primaryPath],v:t};return new f(data)},create:function(t,e,n,r,o){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],data={op:t,t:(new Date).getTime(),db:e.name,it:e.token,isLocal:c};return n&&(data.col=n.name),r&&(data.doc=r.primary),o&&(data.v=o),new f(data)},isInstanceOf:function(t){return t instanceof f}}},function(t,e,n){"use strict";var r=n(171),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=y;var c=n(146);c.inherits=n(137);var f=n(200),l=n(179);c.inherits(y,f);for(var h=o(l.prototype),d=0;d<h.length;d++){var v=h[d];y.prototype[v]||(y.prototype[v]=l.prototype[v])}function y(t){if(!(this instanceof y))return new y(t);f.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||r.nextTick(_,this)}function _(t){t.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),y.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){"use strict";var r=n(193),o=n(194),c=n(168);function f(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,i){return i+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}f.prototype=Object.create(Error.prototype);var l=f;n.d(e,"a",function(){return h});var h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,f=this._parents,h=this._unsubscribe,v=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var y=-1,m=f?f.length:0;n;)n.remove(this),n=++y<m&&f[y]||null;if(Object(c.a)(h))try{h.call(this)}catch(n){e=!0,t=n instanceof l?d(n.errors):[n]}if(Object(r.a)(v))for(y=-1,m=v.length;++y<m;){var sub=v[y];if(Object(o.a)(sub))try{sub.unsubscribe()}catch(n){e=!0,t=t||[],n instanceof l?t=t.concat(d(n.errors)):t.push(n)}}if(e)throw new l(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var o=this._subscriptions;o?o.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}();function d(t){return t.reduce(function(t,e){return t.concat(e instanceof l?e.errors:e)},[])}},,function(t,e,n){"use strict";function r(t){return"$"+t}function o(t){return t.substring(1)}function c(){this._store={}}function f(t){if(this._store=new c,t&&Array.isArray(t))for(var i=0,e=t.length;i<e;i++)this.add(t[i])}var l,h;n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h}),c.prototype.get=function(t){var e=r(t);return this._store[e]},c.prototype.set=function(t,e){var n=r(t);return this._store[n]=e,!0},c.prototype.has=function(t){return r(t)in this._store},c.prototype.delete=function(t){var e=r(t),n=e in this._store;return delete this._store[e],n},c.prototype.forEach=function(t){for(var e=Object.keys(this._store),i=0,n=e.length;i<n;i++){var r=e[i];t(this._store[r],r=o(r))}},Object.defineProperty(c.prototype,"size",{get:function(){return Object.keys(this._store).length}}),f.prototype.add=function(t){return this._store.set(t,!0)},f.prototype.has=function(t){return this._store.has(t)},f.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})},Object.defineProperty(f.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(l=f,h=c):(l=Set,h=Map)},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y});var r=n(167),o=n(189),c=n.n(o),f=t.setImmediate||t.setTimeout,l=32768;function h(t,e,n,o,c){(n>0||o<e.size)&&(e=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}(e,n,o)),Object(r.h)(e,function(e){t.append(e),c()})}function d(t,e,n,r,o){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),o()}function v(data,t){var e="string"==typeof data,n=e?data.length:data.size,o=Math.min(l,n),v=Math.ceil(n/o),y=0,m=e?new c.a:new c.a.ArrayBuffer,_=e?d:h;function w(){f(x)}function k(){var e=function(t){return Object(r.g)(t)}(m.end(!0));t(e),m.destroy()}function x(){var t=y*o,e=t+o;_(m,data,t,e,++y<v?w:k)}x()}function y(t){return c.a.hash(t)}}).call(this,n(28))},function(t,e,n){"use strict";function r(t){for(var e,n,r,o,c=t.rev_tree.slice();o=c.pop();){var f=o.ids,l=f[2],h=o.pos;if(l.length)for(var i=0,d=l.length;i<d;i++)c.push({pos:h+1,ids:l[i]});else{var v=!!f[1].deleted,y=f[0];e&&!(r!==v?r:n!==h?n<h:e<y)||(e=y,n=h,r=v)}}return n+"-"+e}function o(t,e){for(var n,r=t.slice();n=r.pop();)for(var o=n.pos,c=n.ids,f=c[2],l=e(0===f.length,o,c[0],n.ctx,c[1]),i=0,h=f.length;i<h;i++)r.push({pos:o+1,ids:f[i],ctx:l})}function c(a,b){return a.pos-b.pos}function f(t){var e=[];o(t,function(t,n,r,o,c){t&&e.push({rev:n+"-"+r,pos:n,opts:c})}),e.sort(c).reverse();for(var i=0,n=e.length;i<n;i++)delete e[i].pos;return e}function l(t){for(var e=r(t),n=f(t.rev_tree),o=[],i=0,c=n.length;i<c;i++){var l=n[i];l.rev===e||l.opts.deleted||o.push(l.rev)}return o}function h(t){var e=[];return o(t.rev_tree,function(t,n,r,o,c){"available"!==c.status||t||(e.push(n+"-"+r),c.status="missing")}),e}function d(t){for(var e,n=[],r=t.slice();e=r.pop();){var o=e.pos,c=e.ids,f=c[0],l=c[1],h=c[2],d=0===h.length,v=e.history?e.history.slice():[];v.push({id:f,opts:l}),d&&n.push({pos:o+1-v.length,ids:v});for(var i=0,y=h.length;i<y;i++)r.push({pos:o+1,ids:h[i],history:v})}return n.reverse()}function v(a,b){return a.pos-b.pos}function y(t,e,n){var r=function(t,e,n){for(var r,o=0,c=t.length;o<c;)n(t[r=o+c>>>1],e)<0?o=r+1:c=r;return o}(t,e,n);t.splice(r,0,e)}function m(path,t){for(var e,n,i=t,r=path.length;i<r;i++){var o=path[i],c=[o.id,o.opts,[]];n?(n[2].push(c),n=c):e=n=c}return e}function _(a,b){return a[0]<b[0]?-1:1}function w(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var o=n.pop(),c=o.tree1,f=o.tree2;(c[1].status||f[1].status)&&(c[1].status="available"===c[1].status||"available"===f[1].status?"available":"missing");for(var i=0;i<f[2].length;i++)if(c[2][0]){for(var l=!1,h=0;h<c[2].length;h++)c[2][h][0]===f[2][i][0]&&(n.push({tree1:c[2][h],tree2:f[2][i]}),l=!0);l||(r="new_branch",y(c[2],f[2][i],_))}else r="new_leaf",c[2][0]=f[2][i]}return{conflicts:r,tree:t}}function k(t,path,e){var n,r=[],o=!1,c=!1;if(!t.length)return{tree:[path],conflicts:"new_leaf"};for(var i=0,f=t.length;i<f;i++){var l=t[i];if(l.pos===path.pos&&l.ids[0]===path.ids[0])n=w(l.ids,path.ids),r.push({pos:l.pos,ids:n.tree}),o=o||n.conflicts,c=!0;else if(!0!==e){var h=l.pos<path.pos?l:path,d=l.pos<path.pos?path:l,y=d.pos-h.pos,m=[],_=[];for(_.push({ids:h.ids,diff:y,parent:null,parentIdx:null});_.length>0;){var k=_.pop();if(0!==k.diff)for(var x=k.ids[2],E=0,O=x.length;E<O;E++)_.push({ids:x[E],diff:k.diff-1,parent:k.ids,parentIdx:E});else k.ids[0]===d.ids[0]&&m.push(k)}var j=m[0];j?(n=w(j.ids,d.ids),j.parent[2][j.parentIdx]=n.tree,r.push({pos:h.pos,ids:h.ids}),o=o||n.conflicts,c=!0):r.push(l)}else r.push(l)}return c||r.push(path),r.sort(v),{tree:r,conflicts:o||"internal_node"}}function x(t,path,e){var n=k(t,path),r=function(t,e){for(var n,r,c=d(t),i=0,f=c.length;i<f;i++){var l,path=c[i],h=path.ids;if(h.length>e){n||(n={});var v=h.length-e;l={pos:path.pos+v,ids:m(h,v)};for(var s=0;s<v;s++){var y=path.pos+s+"-"+h[s].id;n[y]=!0}}else l={pos:path.pos,ids:m(h,0)};r=r?k(r,l,!0).tree:[l]}return n&&o(r,function(t,e,r){delete n[e+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}(n.tree,e);return{tree:r.tree,stemmedRevs:r.revs,conflicts:n.conflicts}}function E(t,e){for(var n,r=t.slice(),o=e.split("-"),c=parseInt(o[0],10),f=o[1];n=r.pop();){if(n.pos===c&&n.ids[0]===f)return!0;for(var l=n.ids[2],i=0,h=l.length;i<h;i++)r.push({pos:n.pos+1,ids:l[i]})}return!1}function O(t){return t.ids}function j(t,e){e||(e=r(t));for(var n,o=e.substring(e.indexOf("-")+1),c=t.rev_tree.map(O);n=c.pop();){if(n[0]===o)return!!n[1].deleted;c=c.concat(n[2])}}function S(t){return/^_local/.test(t)}function C(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var o=n.pos,c=n.ids,f=c[0],l=c[1],h=c[2],d=0===h.length,v=n.history?n.history.slice():[];if(v.push({id:f,pos:o,opts:l}),d)for(var i=0,y=v.length;i<y;i++){var m=v[i];if(m.pos+"-"+m.id===t)return o+"-"+f}for(var _=0,w=h.length;_<w;_++)r.push({pos:o+1,ids:h[_],history:v})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}n.d(e,"a",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return j}),n.d(e,"e",function(){return S}),n.d(e,"g",function(){return x}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return d}),n.d(e,"j",function(){return o}),n.d(e,"k",function(){return r}),n.d(e,"f",function(){return C})},function(t,e,n){var r,o,c;!function(n,f){"use strict";"object"==typeof t.exports?t.exports=f():(o=[],void 0===(c="function"==typeof(r=f)?r.apply(e,o):r)||(t.exports=c))}(0,function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(o(t)&&0===t.length)return!0;if("string"!=typeof t){for(var i in t)if(e(t,i))return!1;return!0}return!1}function r(e){return t.call(e)}var o=Array.isArray||function(e){return"[object Array]"===t.call(e)};function c(t){var e=parseInt(t);return e.toString()===t?e:t}function f(t){t=t||{};var f=function(t){return Object.keys(f).reduce(function(e,n){return"create"===n?e:("function"==typeof f[n]&&(e[n]=f[n].bind(f,t)),e)},{})};function l(n,r){return t.includeInheritedProps||"number"==typeof r&&Array.isArray(n)||e(n,r)}function h(t,e){if(l(t,e))return t[e]}function d(t,path,e,n){if("number"==typeof path&&(path=[path]),!path||0===path.length)return t;if("string"==typeof path)return d(t,path.split(".").map(c),e,n);var r=path[0],o=h(t,r);return 1===path.length?(void 0!==o&&n||(t[r]=e),o):(void 0===o&&("number"==typeof path[1]?t[r]=[]:t[r]={}),d(t[r],path.slice(1),e,n))}return f.has=function(n,path){if("number"==typeof path?path=[path]:"string"==typeof path&&(path=path.split(".")),!path||0===path.length)return!!n;for(var i=0;i<path.length;i++){var r=c(path[i]);if(!("number"==typeof r&&o(n)&&r<n.length||(t.includeInheritedProps?r in Object(n):e(n,r))))return!1;n=n[r]}return!0},f.ensureExists=function(t,path,e){return d(t,path,e,!0)},f.set=function(t,path,e,n){return d(t,path,e,n)},f.insert=function(t,path,e,n){var r=f.get(t,path);n=~~n,o(r)||(r=[],f.set(t,path,r)),r.splice(n,0,e)},f.empty=function(t,path){var e,i;if(!n(path)&&(null!=t&&(e=f.get(t,path)))){if("string"==typeof e)return f.set(t,path,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===r(t)}(e))return f.set(t,path,!1);if("number"==typeof e)return f.set(t,path,0);if(o(e))e.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===r(t)}(e))return f.set(t,path,null);for(i in e)l(e,i)&&delete e[i]}}},f.push=function(t,path){var e=f.get(t,path);o(e)||(e=[],f.set(t,path,e)),e.push.apply(e,Array.prototype.slice.call(arguments,2))},f.coalesce=function(t,e,n){for(var r,i=0,o=e.length;i<o;i++)if(void 0!==(r=f.get(t,e[i])))return r;return n},f.get=function(t,path,e){if("number"==typeof path&&(path=[path]),!path||0===path.length)return t;if(null==t)return e;if("string"==typeof path)return f.get(t,path.split("."),e);var n=c(path[0]),r=h(t,n);return void 0===r?e:1===path.length?r:f.get(t[n],path.slice(1),e)},f.del=function(t,path){if("number"==typeof path&&(path=[path]),null==t)return t;if(n(path))return t;if("string"==typeof path)return f.del(t,path.split("."));var e=c(path[0]);return l(t,e)?1!==path.length?f.del(t[e],path.slice(1)):(o(t)?t.splice(e,1):delete t[e],t):t},f}var l=f();return l.create=f,l.withInheritedProps=f({includeInheritedProps:!0}),l})},function(t,e){t.exports=function(){for(var t={},i=0;i<arguments.length;i++){var source=arguments[i];for(var e in source)n.call(source,e)&&(t[e]=source[e])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,c="undefined"!=typeof Reflect&&Reflect.defineMetadata;function f(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach(function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)})}var l={__proto__:[]}instanceof Array;var h=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured"];function d(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach(function(t){if("constructor"!==t)if(h.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"==typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){var e;return(e={})[t]=r.value,e}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach(function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})};var data=new e;e.prototype._init=n;var r={};return Object.keys(data).forEach(function(t){void 0!==data[t]&&(r[t]=data[t])}),r}(this,t)}});var r=t.__decorators__;r&&(r.forEach(function(t){return t(e)}),delete t.__decorators__);var d,v,y=Object.getPrototypeOf(t.prototype),m=y instanceof o?y.constructor:o,_=m.extend(e);return function(t,e,n){Object.getOwnPropertyNames(e).forEach(function(r){if("prototype"!==r){var o=Object.getOwnPropertyDescriptor(t,r);if(!o||o.configurable){var c,f,h=Object.getOwnPropertyDescriptor(e,r);if(!l){if("cid"===r)return;var d=Object.getOwnPropertyDescriptor(n,r);if(c=h.value,f=typeof c,null!=c&&("object"===f||"function"===f)&&d&&d.value===h.value)return}0,Object.defineProperty(t,r,h)}}})}(_,t,m),c&&(f(d=_,v=t),Object.getOwnPropertyNames(v.prototype).forEach(function(t){f(d.prototype,v.prototype,t)}),Object.getOwnPropertyNames(v).forEach(function(t){f(d,v,t)})),_}function v(t){return"function"==typeof t?d(t):function(e){return d(e,t)}}v.registerHooks=function(t){h.push.apply(h,t)},e.default=v,e.createDecorator=function(t){return function(e,n,r){var o="function"==typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push(function(e){return t(e,n,r)})}},e.mixins=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.extend({mixins:t})}},function(t,e){t.exports=!1},function(t,e,n){"use strict";var r=n(139),o={validatePassword:function(){throw r.a.pluginMissing("encryption")},createKeyCompressor:function(){throw r.a.pluginMissing("key-compression")},createLeaderElector:function(){throw r.a.pluginMissing("leaderelection")},checkAdapter:function(){throw r.a.pluginMissing("adapter-check")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the error-messages-plugin https://pubkey.github.io/rxdb/custom-build.html#error-messages\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};e.a=o},,function(t,e,n){!function(t,e,n,r,o,c){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var f="default"in r?r.default:r;f.registerHooks(["beforeRouteEnter","beforeRouteUpdate","beforeRouteLeave","asyncData","fetch","head","middleware","layout","transition","scrollToTop","validate"]);var l=/\B([A-Z])/g,h=function(t){return t.replace(l,"-$1").toLowerCase()};t.Vue=e,t.Emit=n.Emit,t.Inject=n.Inject,t.Model=n.Model,t.Prop=n.Prop,t.Provide=n.Provide,t.Watch=n.Watch,t.Component=f,t.mixins=r.mixins,t.State=c.State,t.Getter=c.Getter,t.Action=c.Action,t.Mutation=c.Mutation,t.namespace=c.namespace,t.Off=function(t,e){return function(n,r,o){r=h(r);var c=o.value;o.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!1!==c.apply(this,n))if(e){if("function"!=typeof this[e])throw new TypeError("must be a method name");this.$off(t||r,this[e])}else t?this.$off(t||r):this.$off()}}},t.On=function(t){return r.createDecorator(function(e,n){var r=h(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$on(t||r,e.methods[n])}})},t.Once=function(t){return r.createDecorator(function(e,n){var r=h(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$once(t||r,e.methods[n])}})},t.NextTick=function(t){return function(e,n,r){var o=r.value;r.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!1!==o.apply(this,e)){if("function"!=typeof this[t])throw new TypeError("must be a method name");this.$nextTick(this[t])}}}},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(0),n(214),n(161),n(215),n(304))},function(t,e,n){"use strict";t.exports=function(t){return function(){var e=arguments.length;if(e){for(var n=[],i=-1;++i<e;)n[i]=arguments[i];return t.call(this,n)}return t.call(this,[])}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return v}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return d});var r=function(t){return atob(t)},o=function(t){return btoa(t)};function c(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}function f(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function l(t,e){return c([f(t)],{type:e})}function h(t,e){return l(r(t),e)}function d(t,e){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(r)return e(n);e(function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e}(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function v(t,e){d(t,function(t){e(t)})}function y(t,e){v(t,function(t){e(o(t))})}function m(t,e){var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},o=/%[sdj%]/g;e.format=function(t){if(!E(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(l(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,r=n.length,c=String(t).replace(o,function(t){if("%%"===t)return"%";if(i>=r)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),f=n[i];i<r;f=n[++i])k(f)||!S(f)?c+=" "+f:c+=" "+l(f);return c},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var c,f={};function l(t,n){var r={seen:[],stylize:d};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),w(n)?r.showHidden=n:n&&e._extend(r,n),O(r.showHidden)&&(r.showHidden=!1),O(r.depth)&&(r.depth=2),O(r.colors)&&(r.colors=!1),O(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=h),v(r,t,r.depth)}function h(t,e){var style=l.styles[e];return style?"["+l.colors[style][0]+"m"+t+"["+l.colors[style][1]+"m":t}function d(t,e){return t}function v(t,n,r){if(t.customInspect&&n&&A(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return E(o)||(o=v(t,o,r)),o}var c=function(t,e){if(O(e))return t.stylize("undefined","undefined");if(E(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(x(e))return t.stylize(""+e,"number");if(w(e))return t.stylize(""+e,"boolean");if(k(e))return t.stylize("null","null")}(t,n);if(c)return c;var f=Object.keys(n),l=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(f);if(t.showHidden&&(f=Object.getOwnPropertyNames(n)),P(n)&&(f.indexOf("message")>=0||f.indexOf("description")>=0))return y(n);if(0===f.length){if(A(n)){var h=n.name?": "+n.name:"";return t.stylize("[Function"+h+"]","special")}if(j(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return t.stylize(Date.prototype.toString.call(n),"date");if(P(n))return y(n)}var output,base="",d=!1,S=["{","}"];(_(n)&&(d=!0,S=["[","]"]),A(n))&&(base=" [Function"+(n.name?": "+n.name:"")+"]");return j(n)&&(base=" "+RegExp.prototype.toString.call(n)),C(n)&&(base=" "+Date.prototype.toUTCString.call(n)),P(n)&&(base=" "+y(n)),0!==f.length||d&&0!=n.length?r<0?j(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),output=d?function(t,e,n,r,o){for(var output=[],i=0,c=e.length;i<c;++i)M(e,String(i))?output.push(m(t,e,n,r,String(i),!0)):output.push("");return o.forEach(function(o){o.match(/^\d+$/)||output.push(m(t,e,n,r,o,!0))}),output}(t,n,r,l,f):f.map(function(e){return m(t,n,r,l,e,d)}),t.seen.pop(),function(output,base,t){if(output.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return t[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+t[1];return t[0]+base+" "+output.join(", ")+" "+t[1]}(output,base,S)):S[0]+base+S[1]}function y(t){return"["+Error.prototype.toString.call(t)+"]"}function m(t,e,n,r,o,c){var f,l,desc;if((desc=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?l=desc.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):desc.set&&(l=t.stylize("[Setter]","special")),M(r,o)||(f="["+o+"]"),l||(t.seen.indexOf(desc.value)<0?(l=k(n)?v(t,desc.value,null):v(t,desc.value,n-1)).indexOf("\n")>-1&&(l=c?l.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+l.split("\n").map(function(line){return"   "+line}).join("\n")):l=t.stylize("[Circular]","special")),O(f)){if(c&&o.match(/^\d+$/))return l;(f=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=t.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=t.stylize(f,"string"))}return f+": "+l}function _(t){return Array.isArray(t)}function w(t){return"boolean"==typeof t}function k(t){return null===t}function x(t){return"number"==typeof t}function E(t){return"string"==typeof t}function O(t){return void 0===t}function j(t){return S(t)&&"[object RegExp]"===R(t)}function S(t){return"object"==typeof t&&null!==t}function C(t){return S(t)&&"[object Date]"===R(t)}function P(t){return S(t)&&("[object Error]"===R(t)||t instanceof Error)}function A(t){return"function"==typeof t}function R(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(O(c)&&(c=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!f[n])if(new RegExp("\\b"+n+"\\b","i").test(c)){var r=t.pid;f[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else f[n]=function(){};return f[n]},e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=_,e.isBoolean=w,e.isNull=k,e.isNullOrUndefined=function(t){return null==t},e.isNumber=x,e.isString=E,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=O,e.isRegExp=j,e.isObject=S,e.isDate=C,e.isError=P,e.isFunction=A,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(239);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,time;console.log("%s - %s",(t=new Date,time=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":"),[t.getDate(),D[t.getMonth()],time].join(" ")),e.format.apply(e,arguments))},e.inherits=n(137),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var B="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(B&&t[B]){var e;if("function"!=typeof(e=t[B]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,B,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),B&&Object.defineProperty(e,B,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=B,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,c=function(){return r.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(c,null,e)},function(e){t.nextTick(L,e,c)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(86))},function(t,e,n){(e=t.exports=n(200)).Stream=e,e.Readable=e,e.Writable=n(179),e.Duplex=n(153),e.Transform=n(203),e.PassThrough=n(268)},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var c,i,f=arguments.length;switch(f){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,o)});default:for(c=new Array(f-1),i=0;i<c.length;)c[i++]=arguments[i];return e.nextTick(function(){t.apply(null,c)})}}}:t.exports=e}).call(this,n(86))},function(t,e,n){var r=n(142),o=r.Buffer;function c(t,e){for(var n in t)e[n]=t[n]}function f(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(c(r,e),e.Buffer=f),c(o,f),f.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},f.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},f.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},f.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";var r=n(172).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=h,this.end=d,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=v,this.end=y,e=3;break;default:return this.write=m,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function f(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function l(t){var p=this.lastTotal-this.lastNeed,e=function(t,e,p){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==e?e:this.lastNeed<=t.length?(t.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,p,0,t.length),void(this.lastNeed-=t.length))}function h(t,i){if((t.length-i)%2==0){var e=t.toString("utf16le",i);if(e){var n=e.charCodeAt(e.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",i,t.length-1)}function d(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function v(t,i){var e=(t.length-i)%3;return 0===e?t.toString("base64",i):(this.lastNeed=3-e,this.lastTotal=3,1===e?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",i,t.length-e))}function y(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m(t){return t.toString(this.encoding)}function _(t){return t&&t.length?this.write(t):""}e.StringDecoder=c,c.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},c.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},c.prototype.text=function(t,i){var e=function(t,e,i){var n=e.length-1;if(n<i)return 0;var r=f(e[n]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--n<i||-2===r)return 0;if((r=f(e[n]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--n<i||-2===r)return 0;if((r=f(e[n]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,i);if(!this.lastNeed)return t.toString("utf8",i);this.lastTotal=e;var n=t.length-(e-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",i,n)},c.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},,function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(t,e,n){var r=Array.prototype.slice,o=n(234),c=n(235),f=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(a,b,t){var i,e;if(l(a)||l(b))return!1;if(a.prototype!==b.prototype)return!1;if(c(a))return!!c(b)&&(a=r.call(a),b=r.call(b),f(a,b,t));if(h(a)){if(!h(b))return!1;if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}try{var n=o(a),d=o(b)}catch(t){return!1}if(n.length!=d.length)return!1;for(n.sort(),d.sort(),i=n.length-1;i>=0;i--)if(n[i]!=d[i])return!1;for(i=n.length-1;i>=0;i--)if(e=n[i],!f(a[e],b[e],t))return!1;return typeof a==typeof b}(t,e,n))};function l(t){return null==t}function h(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e,n){"use strict";(function(e){var r=n(171);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var o=r.callback;e.pendingcb--,o(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=x;var c,f=r.nextTick;x.WritableState=k;var l=n(146);l.inherits=n(137);var h={deprecate:n(267)},d=n(201),v=n(172).Buffer,y=e.Uint8Array||function(){};var m,_=n(202);function w(){}function k(t,e){c=c||n(153),t=t||{};var l=e instanceof c;this.objectMode=!!t.objectMode,l&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var h=t.highWaterMark,d=t.writableHighWaterMark,v=this.objectMode?16:16384;this.highWaterMark=h||0===h?h:l&&(d||0===d)?d:v,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var y=!1===t.decodeStrings;this.decodeStrings=!y,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,o=n.sync,c=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,o,c){--e.pendingcb,n?(r.nextTick(c,o),r.nextTick(P,t,e),t._writableState.errorEmitted=!0,t.emit("error",o)):(c(o),t._writableState.errorEmitted=!0,t.emit("error",o),P(t,e))}(t,n,o,e,c);else{var l=S(n);l||n.corked||n.bufferProcessing||!n.bufferedRequest||j(t,n),o?f(O,t,n,l,c):O(t,n,l,c)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(t){if(c=c||n(153),!(m.call(x,this)||this instanceof c))return new x(t);this._writableState=new k(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),d.call(this)}function E(t,e,n,r,o,c,f){e.writelen=r,e.writecb=f,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,c,e.onwrite),e.sync=!1}function O(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),P(t,e)}function j(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,c=new Array(r),f=e.corkedRequestsFree;f.entry=n;for(var l=0,h=!0;n;)c[l]=n,n.isBuf||(h=!1),n=n.next,l+=1;c.allBuffers=h,E(t,e,!0,e.length,c,"",f.finish),e.pendingcb++,e.lastBufferedRequest=null,f.next?(e.corkedRequestsFree=f.next,f.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var d=n.chunk,v=n.encoding,y=n.callback;if(E(t,e,!1,e.objectMode?1:d.length,d,v,y),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),P(t,e)})}function P(t,e){var n=S(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,r.nextTick(C,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(x,d),k.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(k.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(object){return!!m.call(this,object)||this===x&&(object&&object._writableState instanceof k)}})):m=function(object){return object instanceof this},x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},x.prototype.write=function(t,e,n){var o,c=this._writableState,f=!1,l=!c.objectMode&&(o=t,v.isBuffer(o)||o instanceof y);return l&&!v.isBuffer(t)&&(t=function(t){return v.from(t)}(t)),"function"==typeof e&&(n=e,e=null),l?e="buffer":e||(e=c.defaultEncoding),"function"!=typeof n&&(n=w),c.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),r.nextTick(e,n)}(this,n):(l||function(t,e,n,o){var c=!0,f=!1;return null===n?f=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(t.emit("error",f),r.nextTick(o,f),c=!1),c}(this,c,t,n))&&(c.pendingcb++,f=function(t,e,n,r,o,c){if(!n){var f=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=v.from(e,n));return e}(e,r,o);r!==f&&(n=!0,o="buffer",r=f)}var l=e.objectMode?1:r.length;e.length+=l;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:c,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else E(t,e,!1,l,r,o,c);return h}(this,c,l,t,e,n)),f},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||j(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(t,e,n){var o=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||function(t,e,n){e.ending=!0,P(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,o,n)},Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=_.destroy,x.prototype._undestroy=_.undestroy,x.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(28))},function(t,e,n){t.exports=o;var r=n(147).EventEmitter;function o(){r.call(this)}n(137)(o,r),o.Readable=n(170),o.Writable=n(276),o.Duplex=n(277),o.Transform=n(206),o.PassThrough=n(278),o.Stream=o,o.prototype.pipe=function(t,e){var source=this;function n(e){t.writable&&!1===t.write(e)&&source.pause&&source.pause()}function o(){source.readable&&source.resume&&source.resume()}source.on("data",n),t.on("drain",o),t._isStdio||e&&!1===e.end||(source.on("end",f),source.on("close",l));var c=!1;function f(){c||(c=!0,t.end())}function l(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(d(),0===r.listenerCount(this,"error"))throw t}function d(){source.removeListener("data",n),t.removeListener("drain",o),source.removeListener("end",f),source.removeListener("close",l),source.removeListener("error",h),t.removeListener("error",h),source.removeListener("end",d),source.removeListener("close",d),t.removeListener("close",d)}return source.on("error",h),t.on("error",h),source.on("end",d),source.on("close",d),t.on("close",d),t.emit("pipe",source),t}},function(t,e,n){(function(e){t.exports=l;var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},o=n(146);o.inherits=n(137);var c=n(207),f=n(208);function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),f.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}o.inherits(l,c),function(t,e){for(var i=0,n=t.length;i<n;i++)e(t[i],i)}(r(f.prototype),function(t){l.prototype[t]||(l.prototype[t]=f.prototype[t])})}).call(this,n(86))},,,function(t,e,n){"use strict";n.r(e),function(t,r){n.d(e,"Reaction",function(){return Kt}),n.d(e,"untracked",function(){return Ct}),n.d(e,"IDerivationState",function(){return pt}),n.d(e,"createAtom",function(){return M}),n.d(e,"spy",function(){return ee}),n.d(e,"comparer",function(){return B}),n.d(e,"isObservableObject",function(){return En}),n.d(e,"isBoxedObservable",function(){return mt}),n.d(e,"isObservableArray",function(){return fn}),n.d(e,"ObservableMap",function(){return pn}),n.d(e,"isObservableMap",function(){return dn}),n.d(e,"ObservableSet",function(){return yn}),n.d(e,"isObservableSet",function(){return gn}),n.d(e,"transaction",function(){return Ke}),n.d(e,"observable",function(){return tt}),n.d(e,"computed",function(){return ot}),n.d(e,"isObservable",function(){return De}),n.d(e,"isObservableProp",function(){return Me}),n.d(e,"isComputed",function(){return Ae}),n.d(e,"isComputedProp",function(){return Re}),n.d(e,"extendObservable",function(){return ge}),n.d(e,"observe",function(){return $e}),n.d(e,"intercept",function(){return Ce}),n.d(e,"autorun",function(){return ue}),n.d(e,"reaction",function(){return le}),n.d(e,"when",function(){return Ye}),n.d(e,"action",function(){return ie}),n.d(e,"isAction",function(){return ae}),n.d(e,"runInAction",function(){return oe}),n.d(e,"keys",function(){return Be}),n.d(e,"values",function(){return Le}),n.d(e,"entries",function(){return Ie}),n.d(e,"set",function(){return Ne}),n.d(e,"remove",function(){return qe}),n.d(e,"has",function(){return Fe}),n.d(e,"get",function(){return Ue}),n.d(e,"decorate",function(){return ye}),n.d(e,"configure",function(){return ve}),n.d(e,"onBecomeObserved",function(){return he}),n.d(e,"onBecomeUnobserved",function(){return pe}),n.d(e,"flow",function(){return Oe}),n.d(e,"toJS",function(){return He}),n.d(e,"trace",function(){return We}),n.d(e,"getDependencyTree",function(){return _e}),n.d(e,"getObserverTree",function(){return ke}),n.d(e,"_resetGlobalState",function(){return Nt}),n.d(e,"_getGlobalState",function(){return It}),n.d(e,"getDebugName",function(){return Sn}),n.d(e,"getAtom",function(){return On}),n.d(e,"_getAdministration",function(){return jn}),n.d(e,"_allowStateChanges",function(){return ct}),n.d(e,"_allowStateChangesInsideComputed",function(){return ht}),n.d(e,"isArrayLike",function(){return S}),n.d(e,"$mobx",function(){return R}),n.d(e,"_isComputingDerivation",function(){return Et}),n.d(e,"onReactionError",function(){return Yt}),n.d(e,"_interceptReads",function(){return Se});var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])};var c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}var h="An invariant failed, however the error is obfuscated because this is an production build.",d=[];Object.freeze(d);var v={};function y(){return++Lt.mobxGuid}function m(t){throw _(!1,t),"X"}function _(t,e){if(!t)throw new Error("[mobx] "+(e||h))}Object.freeze(v);function w(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var k=function(){};function x(t){return null!==t&&"object"==typeof t}function E(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function O(object,t,e){Object.defineProperty(object,t,{enumerable:!1,writable:!0,configurable:!0,value:e})}function j(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return x(t)&&!0===t[n]}}function S(t){return Array.isArray(t)||fn(t)}function C(t){return t instanceof Map}function P(t){return t instanceof Set}function A(t){return null===t?null:"object"==typeof t?""+t:t}var R=Symbol("mobx administration"),T=function(){function t(t){void 0===t&&(t="Atom@"+y()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=pt.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},t.prototype.reportObserved=function(){return Ht(this)},t.prototype.reportChanged=function(){Vt(),function(t){if(t.lowestObserverState===pt.STALE)return;t.lowestObserverState=pt.STALE,t.observers.forEach(function(e){e.dependenciesState===pt.UP_TO_DATE&&(e.isTracing!==yt.NONE&&Wt(e,t),e.onBecomeStale()),e.dependenciesState=pt.STALE})}(this),zt()},t.prototype.toString=function(){return this.name},t}(),D=j("Atom",T);function M(t,e,n){void 0===e&&(e=k),void 0===n&&(n=k);var r=new T(t);return e!==k&&he(r,e),n!==k&&pe(r,n),r}var B={identity:function(a,b){return a===b},structural:function(a,b){return Pn(a,b)},default:function(a,b){return Object.is(a,b)}},L=Symbol("mobx did run lazy initializers"),I=Symbol("mobx pending decorators"),N={},F={};function U(t){if(!0!==t[L]){var e=t[I];if(e)for(var n in O(t,L,!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function $(t,e){return function(){var n,r,o=function(r,o,f,l){if(!0===l)return e(r,o,f,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,I)){var h=r[I];O(r,I,c({},h))}return r[I][o]={prop:o,propertyCreator:e,descriptor:f,decoratorTarget:r,decoratorArguments:n},function(t,e){var n=e?N:F;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return U(this),this[t]},set:function(e){U(this),this[t]=e}})}(o,t)};return(2===(r=arguments).length||3===r.length)&&"string"==typeof r[1]||4===r.length&&!0===r[3]?(n=d,o.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),o)}}function V(t,e,n){return De(t)?t:Array.isArray(t)?tt.array(t,{name:n}):E(t)?tt.object(t,void 0,{name:n}):C(t)?tt.map(t,{name:n}):P(t)?tt.set(t,{name:n}):t}function z(t){return t}function H(e){_(e);var n=$(!0,function(t,n,r,o,c){var f=r?r.initializer?r.initializer.call(t):r.value:void 0;bn(t).addObservableProp(n,f,e)}),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var W={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function K(t){return null==t?W:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(W);var Y=H(V),J=H(function(t,e,n){return null==t?t:En(t)||fn(t)||dn(t)||gn(t)?t:Array.isArray(t)?tt.array(t,{name:n,deep:!1}):E(t)?tt.object(t,void 0,{name:n,deep:!1}):C(t)?tt.map(t,{name:n,deep:!1}):P(t)?tt.set(t,{name:n,deep:!1}):m(!1)}),Q=H(z),G=H(function(t,e,n){return Pn(t,e)?e:t});function X(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?z:V}var Z={box:function(t,e){arguments.length>2&&et("box");var n=K(e);return new gt(t,X(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&et("array");var n=K(e);return function(t,e,n,r){void 0===n&&(n="ObservableArray@"+y());void 0===r&&(r=!1);var o=new an(n,e,r);object=o.values,c=R,f=o,Object.defineProperty(object,c,{enumerable:!1,writable:!1,configurable:!0,value:f});var object,c,f;var l=new Proxy(o.values,on);if(o.proxy=l,t&&t.length){var h=ft(!0);o.spliceWithArray(0,0,t),lt(h)}return l}(t,X(n),n.name)},map:function(t,e){arguments.length>2&&et("map");var n=K(e);return new pn(t,X(n),n.name)},set:function(t,e){arguments.length>2&&et("set");var n=K(e);return new yn(t,X(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&et("object");var r=K(n);if(!1===r.proxy)return ge({},t,e,r);var o=me(r),c=function(base){var t=new Proxy(base,Ge);return base[R].proxy=t,t}(ge({},void 0,void 0,r));return be(c,t,e,o),c},ref:Q,shallow:J,deep:Y,struct:G},tt=function(t,e,n){if("string"==typeof arguments[1])return Y.apply(null,arguments);if(De(t))return t;var r=E(t)?tt.object(t,e,n):Array.isArray(t)?tt.array(t,e):C(t)?tt.map(t,e):P(t)?tt.set(t,e):t;if(r!==t)return r;m(!1)};function et(t){m("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(Z).forEach(function(t){return tt[t]=Z[t]});var nt=$(!1,function(t,e,n,r,o){var f=n.get,l=n.set,h=o[0]||{};bn(t).addComputedProp(t,e,c({get:f,set:l,context:t},h))}),it=nt({equals:B.structural}),ot=function(t,e,n){if("string"==typeof e)return nt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return nt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new bt(r)};function at(t,e){var n=function(){return st(t,e,this,arguments)};return n.isMobxAction=!0,n}function st(t,e,n,r){var o=function(t,e,n,r){var o=!1,c=0;var f=Pt();Vt();var l=ft(!0);return{prevDerivation:f,prevAllowStateChanges:l,notifySpy:o,startTime:c}}(),c=!0;try{var f=e.apply(n,r);return c=!1,f}finally{c?(Lt.suppressReactionErrors=c,ut(o),Lt.suppressReactionErrors=!1):ut(o)}}function ut(t){lt(t.prevAllowStateChanges),zt(),At(t.prevDerivation),t.notifySpy}function ct(t,e){var n,r=ft(t);try{n=e()}finally{lt(r)}return n}function ft(t){var e=Lt.allowStateChanges;return Lt.allowStateChanges=t,e}function lt(t){Lt.allowStateChanges=t}function ht(t){var e,n=Lt.computationDepth;Lt.computationDepth=0;try{e=t()}finally{Lt.computationDepth=n}return e}ot.struct=it;var pt,vt,yt,gt=function(t){function e(e,n,r,o,c){void 0===r&&(r="ObservableValue@"+y()),void 0===o&&(o=!0),void 0===c&&(c=B.default);var f=t.call(this,r)||this;return f.enhancer=n,f.name=r,f.equals=c,f.hasUnreportedChange=!1,f.value=n(e,void 0,r),f}return function(t,b){function e(){this.constructor=t}o(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==Lt.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(Ot(this),Xe(this)){var e=tn(this,{object:this,type:"update",newValue:t});if(!e)return Lt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Lt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),en(this)&&rn(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Ze(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),nn(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return A(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(T),mt=j("ObservableValue",gt),bt=function(){function t(t){this.dependenciesState=pt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=pt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+y(),this.value=new wt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=yt.NONE,this.derivation=t.get,this.name=t.name||"ComputedValue@"+y(),t.set&&(this.setter=at(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?B.structural:B.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==pt.UP_TO_DATE)return;t.lowestObserverState=pt.POSSIBLY_STALE,t.observers.forEach(function(e){e.dependenciesState===pt.UP_TO_DATE&&(e.dependenciesState=pt.POSSIBLY_STALE,e.isTracing!==yt.NONE&&Wt(e,t),e.onBecomeStale())})}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},t.prototype.get=function(){this.isComputing&&m("Cycle detected in computation "+this.name+": "+this.derivation),0!==Lt.inBatch||0!==this.observers.size||this.keepAlive?(Ht(this),xt(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===pt.STALE)return;t.lowestObserverState=pt.STALE,t.observers.forEach(function(e){e.dependenciesState===pt.POSSIBLY_STALE?e.dependenciesState=pt.STALE:e.dependenciesState===pt.UP_TO_DATE&&(t.lowestObserverState=pt.UP_TO_DATE)})}(this)):xt(this)&&(this.warnAboutUntrackedRead(),Vt(),this.value=this.computeValue(!1),zt());var t=this.value;if(kt(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(kt(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){_(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else _(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===pt.NOT_TRACKING,n=this.computeValue(!0),r=e||kt(t)||kt(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(track){var t;if(this.isComputing=!0,Lt.computationDepth++,track)t=jt(this,this.derivation,this.scope);else if(!0===Lt.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new wt(e)}return Lt.computationDepth--,this.isComputing=!1,t},t.prototype.suspend=function(){this.keepAlive||(St(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return ue(function(){var c=n.get();if(!r||e){var f=Pt();t({type:"update",object:n,newValue:c,oldValue:o}),At(f)}r=!1,o=c})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return A(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),_t=j("ComputedValue",bt);(vt=pt||(pt={}))[vt.NOT_TRACKING=-1]="NOT_TRACKING",vt[vt.UP_TO_DATE=0]="UP_TO_DATE",vt[vt.POSSIBLY_STALE=1]="POSSIBLY_STALE",vt[vt.STALE=2]="STALE",function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(yt||(yt={}));var wt=function(){return function(t){this.cause=t}}();function kt(t){return t instanceof wt}function xt(t){switch(t.dependenciesState){case pt.UP_TO_DATE:return!1;case pt.NOT_TRACKING:case pt.STALE:return!0;case pt.POSSIBLY_STALE:for(var e=Pt(),n=t.observing,r=n.length,i=0;i<r;i++){var o=n[i];if(_t(o)){if(Lt.disableErrorBoundaries)o.get();else try{o.get()}catch(t){return At(e),!0}if(t.dependenciesState===pt.STALE)return At(e),!0}}return Rt(t),At(e),!1}}function Et(){return null!==Lt.trackingDerivation}function Ot(t){var e=t.observers.size>0;Lt.computationDepth>0&&e&&m(!1),Lt.allowStateChanges||!e&&"strict"!==Lt.enforceActions||m(!1)}function jt(t,e,n){Rt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Lt.runId;var r,o=Lt.trackingDerivation;if(Lt.trackingDerivation=t,!0===Lt.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(t){r=new wt(t)}return Lt.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=pt.UP_TO_DATE,o=0,c=t.unboundDepsCount,i=0;i<c;i++){var f=n[i];0===f.diffValue&&(f.diffValue=1,o!==i&&(n[o]=f),o++),f.dependenciesState>r&&(r=f.dependenciesState)}n.length=o,t.newObserving=null,c=e.length;for(;c--;){var f=e[c];0===f.diffValue&&Ut(f,t),f.diffValue=0}for(;o--;){var f=n[o];1===f.diffValue&&(f.diffValue=0,Ft(f,t))}r!==pt.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),r}function St(t){var e=t.observing;t.observing=[];for(var i=e.length;i--;)Ut(e[i],t);t.dependenciesState=pt.NOT_TRACKING}function Ct(t){var e=Pt();try{return t()}finally{At(e)}}function Pt(){var t=Lt.trackingDerivation;return Lt.trackingDerivation=null,t}function At(t){Lt.trackingDerivation=t}function Rt(t){if(t.dependenciesState!==pt.UP_TO_DATE){t.dependenciesState=pt.UP_TO_DATE;for(var e=t.observing,i=e.length;i--;)e[i].lowestObserverState=pt.UP_TO_DATE}}var Tt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","disableErrorBoundaries","runId","UNCHANGED"],Dt=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),Mt=!0,Bt=!1,Lt=function(){var t=qt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Mt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Dt).version&&(Mt=!1),Mt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Dt):(setTimeout(function(){Bt||m("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Dt)}();function It(){return Lt}function Nt(){var t=new Dt;for(var e in t)-1===Tt.indexOf(e)&&(Lt[e]=t[e]);Lt.allowStateChanges=!Lt.enforceActions}function qt(){return"undefined"!=typeof window?window:r}function Ft(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ut(t,e){t.observers.delete(e),0===t.observers.size&&$t(t)}function $t(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Lt.pendingUnobservations.push(t))}function Vt(){Lt.inBatch++}function zt(){if(0==--Lt.inBatch){Gt();for(var t=Lt.pendingUnobservations,i=0;i<t.length;i++){var e=t[i];e.isPendingUnobservation=!1,0===e.observers.size&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBecomeUnobserved()),e instanceof bt&&e.suspend())}Lt.pendingUnobservations=[]}}function Ht(t){var e=Lt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Lt.inBatch>0&&$t(t),!1)}function Wt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===yt.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name);e.dependencies&&e.dependencies.forEach(function(e){return t(e,n,r+1)})}(_e(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof bt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Kt=function(){function t(t,e,n){void 0===t&&(t="Reaction@"+y()),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=pt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+y(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=yt.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Lt.pendingReactions.push(this),Gt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Vt(),this._isScheduled=!1,xt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}zt()}},t.prototype.track=function(t){Vt();this._isRunning=!0;var e=jt(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&St(this),kt(e)&&this.reportExceptionInDerivation(e.cause),zt()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Lt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Lt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),Lt.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Vt(),St(this),zt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[R]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),We(this,t)},t}();function Yt(t){return Lt.globalReactionErrorHandlers.push(t),function(){var e=Lt.globalReactionErrorHandlers.indexOf(t);e>=0&&Lt.globalReactionErrorHandlers.splice(e,1)}}var Jt=100,Qt=function(t){return t()};function Gt(){Lt.inBatch>0||Lt.isRunningReactions||Qt(Xt)}function Xt(){Lt.isRunningReactions=!0;for(var t=Lt.pendingReactions,e=0;t.length>0;){++e===Jt&&(console.error("Reaction doesn't converge to a stable state after "+Jt+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction()}Lt.isRunningReactions=!1}var Zt=j("Reaction",Kt);function te(t){var e=Qt;Qt=function(n){return t(function(){return e(n)})}}function ee(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function ne(){m(!1)}function re(t){return function(e,n,r){if(r){if(r.value)return{value:at(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return at(t,o.call(this))}}}return function(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){O(this,n,ie(t,e))}})}}(t).apply(this,arguments)}}var ie=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?at(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?at(t,e):1===arguments.length&&"string"==typeof t?re(t):!0!==r?re(e).apply(null,arguments):void O(t,e,at(t.name||e,n.value))};function oe(t,e){"string"==typeof t||t.name;return st(0,"function"==typeof t?t:e,this,void 0)}function ae(t){return"function"==typeof t&&!0===t.isMobxAction}function se(t,e,n){O(t,e,at(e,n.bind(t)))}function ue(view,t){void 0===t&&(t=v);var e,n=t&&t.name||view.name||"Autorun@"+y();if(!t.scheduler&&!t.delay)e=new Kt(n,function(){this.track(c)},t.onError);else{var r=fe(t),o=!1;e=new Kt(n,function(){o||(o=!0,r(function(){o=!1,e.isDisposed||e.track(c)}))},t.onError)}function c(){view(e)}return e.schedule(),e.getDisposer()}ie.bound=function(t,e,n,r){return!0===r?(se(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return se(this,e,n.value||n.initializer.call(this)),this[e]},set:ne}:{enumerable:!1,configurable:!0,set:function(t){se(this,e,t)},get:function(){}}};var ce=function(t){return t()};function fe(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ce}function le(t,e,n){void 0===n&&(n=v);var r,o,c,f=n.name||"Reaction@"+y(),l=ie(f,n.onError?(r=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){r.call(this,t)}}):e),h=!n.scheduler&&!n.delay,d=fe(n),m=!0,_=!1,w=n.compareStructural?B.structural:n.equals||B.default,k=new Kt(f,function(){m||h?x():_||(_=!0,d(x))},n.onError);function x(){if(_=!1,!k.isDisposed){var e=!1;k.track(function(){var n=t(k);e=m||!w(c,n),c=n}),m&&n.fireImmediately&&l(c,k),m||!0!==e||l(c,k),m&&(m=!1)}}return k.schedule(),k.getDisposer()}function he(t,e,n){return de("onBecomeObserved",t,e,n)}function pe(t,e,n){return de("onBecomeUnobserved",t,e,n)}function de(t,e,n,r){var o="string"==typeof n?On(e,n):On(e),c="string"==typeof n?r:n,f=t+"Listeners";return o[f]?o[f].add(c):o[f]=new Set([c]),"function"!=typeof o[t]?m(!1):function(){var t=o[f];t&&(t.delete(c),0===t.size&&delete o[f])}}function ve(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.disableErrorBoundaries,o=t.reactionScheduler;if(!0===t.isolateGlobalState&&((Lt.pendingReactions.length||Lt.inBatch||Lt.isRunningReactions)&&m("isolateGlobalState should be called before MobX is running any reactions"),Bt=!0,Mt&&(0==--qt().__mobxInstanceCount&&(qt().__mobxGlobals=void 0),Lt=new Dt)),void 0!==e){var c=void 0;switch(e){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:m("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Lt.enforceActions=c,Lt.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(Lt.computedRequiresReaction=!!n),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Lt.disableErrorBoundaries=!!r),o&&te(o)}function ye(t,e){var n="function"==typeof t?t.prototype:t,r=function(t){var r=e[t];Array.isArray(r)||(r=[r]);var o=Object.getOwnPropertyDescriptor(n,t),c=r.reduce(function(e,r){return r(n,t,e)},o);c&&Object.defineProperty(n,t,c)};for(var o in e)r(o);return t}function ge(t,e,n,r){var o=me(r=K(r));return U(t),bn(t,r.name,o.enhancer),e&&be(t,e,n,o),t}function me(t){return t.defaultDecorator||(!1===t.deep?Q:Y)}function be(t,e,n,r){Vt();try{for(var o in e){var c=Object.getOwnPropertyDescriptor(e,o);0;var f=(n&&o in n?n[o]:c.get?nt:r)(t,o,c,!0);f&&Object.defineProperty(t,o,f)}}finally{zt()}}function _e(t,e){return we(On(t,e))}function we(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n).map(we)),r}function ke(t,e){return xe(On(t,e))}function xe(t){var e,n={name:t.name};return(e=t).observers&&e.observers.size>0&&(n.observers=Array.from(function(t){return t.observers}(t)).map(xe)),n}var Ee=0;function Oe(t){1!==arguments.length&&m("Flow expects one 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=arguments,o=++Ee,c=ie(e+" - runid: "+o+" - init",t).apply(this,r),f=void 0,l=new Promise(function(t,r){var l=0;function h(t){var n;f=void 0;try{n=ie(e+" - runid: "+o+" - yield "+l++,c.next).call(c,t)}catch(t){return r(t)}v(n)}function d(t){var n;f=void 0;try{n=ie(e+" - runid: "+o+" - yield "+l++,c.throw).call(c,t)}catch(t){return r(t)}v(n)}function v(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(f=Promise.resolve(e.value)).then(h,d);e.then(v,r)}n=r,h(void 0)});return l.cancel=ie(e+" - runid: "+o+" - cancel",function(){try{f&&je(f);var t=c.return(),e=Promise.resolve(t.value);e.then(k,k),je(e),n(new Error("FLOW_CANCELLED"))}catch(t){n(t)}}),l}}function je(t){"function"==typeof t.cancel&&t.cancel()}function Se(t,e,n){var r;if(dn(t)||fn(t)||mt(t))r=jn(t);else{if(!En(t))return m(!1);if("string"!=typeof e)return m(!1);r=jn(t,e)}return void 0!==r.dehancer?m(!1):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})}function Ce(t,e,n){return"function"==typeof n?function(t,e,n){return jn(t,e).intercept(n)}(t,e,n):function(t,e){return jn(t).intercept(e)}(t,e)}function Pe(t,e){if(null==t)return!1;if(void 0!==e){if(!1===En(t))return!1;if(!t[R].values.has(e))return!1;var n=On(t,e);return _t(n)}return _t(t)}function Ae(t){return arguments.length>1?m(!1):Pe(t)}function Re(t,e){return"string"!=typeof e?m(!1):Pe(t,e)}function Te(t,e){return null!=t&&(void 0!==e?!!En(t)&&t[R].values.has(e):En(t)||!!t[R]||D(t)||Zt(t)||_t(t))}function De(t){return 1!==arguments.length&&m(!1),Te(t)}function Me(t,e){return"string"!=typeof e?m(!1):Te(t,e)}function Be(t){return En(t)?t[R].getKeys():dn(t)?Array.from(t.keys()):gn(t)?Array.from(t.keys()):fn(t)?t.map(function(t,e){return e}):m(!1)}function Le(t){return En(t)?Be(t).map(function(e){return t[e]}):dn(t)?Be(t).map(function(e){return t.get(e)}):gn(t)?Array.from(t.values()):fn(t)?t.slice():m(!1)}function Ie(t){return En(t)?Be(t).map(function(e){return[e,t[e]]}):dn(t)?Be(t).map(function(e){return[e,t.get(e)]}):gn(t)?Array.from(t.entries()):fn(t)?t.map(function(t,e){return[e,t]}):m(!1)}function Ne(t,e,n){if(2!==arguments.length)if(En(t)){var r=t[R];r.values.get(e)?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(dn(t))t.set(e,n);else{if(!fn(t))return m(!1);"number"!=typeof e&&(e=parseInt(e,10)),_(e>=0,"Not a valid index: '"+e+"'"),Vt(),e>=t.length&&(t.length=e+1),t[e]=n,zt()}else{Vt();var o=e;try{for(var c in o)Ne(t,c,o[c])}finally{zt()}}}function qe(t,e){if(En(t))t[R].remove(e);else if(dn(t))t.delete(e);else if(gn(t))t.delete(e);else{if(!fn(t))return m(!1);"number"!=typeof e&&(e=parseInt(e,10)),_(e>=0,"Not a valid index: '"+e+"'"),t.splice(e,1)}}function Fe(t,e){return En(t)?jn(t).has(e):dn(t)?t.has(e):gn(t)?t.has(e):fn(t)?e>=0&&e<t.length:m(!1)}function Ue(t,e){if(Fe(t,e))return En(t)?t[e]:dn(t)?t.get(e):fn(t)?t[e]:m(!1)}function $e(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return jn(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return jn(t).observe(e,n)}(t,e,n)}var Ve={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function ze(map,t,e,n){return n.detectCycles&&map.set(t,e),e}function He(source,t){var e;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Ve),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(e=new Map),function t(source,e,n){if(!e.recurseEverything&&!De(source))return source;if("object"!=typeof source)return source;if(null===source)return null;if(source instanceof Date)return source;if(mt(source))return t(source.get(),e,n);if(De(source)&&Be(source),!0===e.detectCycles&&null!==source&&n.has(source))return n.get(source);if(fn(source)||Array.isArray(source)){var r=ze(n,source,[],e),o=source.map(function(r){return t(r,e,n)});r.length=o.length;for(var i=0,c=o.length;i<c;i++)r[i]=o[i];return r}if(gn(source)||Object.getPrototypeOf(source)===Set.prototype){if(!1===e.exportMapsAsObjects){var f=ze(n,source,new Set,e);return source.forEach(function(r){f.add(t(r,e,n))}),f}var l=ze(n,source,[],e);return source.forEach(function(r){l.push(t(r,e,n))}),l}if(dn(source)||Object.getPrototypeOf(source)===Map.prototype){if(!1===e.exportMapsAsObjects){var h=ze(n,source,new Map,e);return source.forEach(function(r,o){h.set(o,t(r,e,n))}),h}var d=ze(n,source,{},e);return source.forEach(function(r,o){d[o]=t(r,e,n)}),d}var v=ze(n,source,{},e);for(var y in source)v[y]=t(source[y],e,n);return v}(source,t,e)}function We(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=function(t){switch(t.length){case 0:return Lt.trackingDerivation;case 1:return On(t[0]);case 2:return On(t[0],t[1])}}(t);if(!r)return m(!1);r.isTracing===yt.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?yt.BREAK:yt.LOG}function Ke(t,e){void 0===e&&(e=void 0),Vt();try{return t.apply(e)}finally{zt()}}function Ye(t,e,n){return 1===arguments.length||e&&"object"==typeof e?function(t,e){0;var n,r=new Promise(function(r,o){var f=Je(t,r,c({},e,{onError:o}));n=function(){f(),o("WHEN_CANCELLED")}});return r.cancel=n,r}(t,e):Je(t,e,n||{})}function Je(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!c[R].isDisposed){c();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}},n.timeout)),n.name=n.name||"When@"+y();var o=at(n.name+"-effect",e),c=ue(function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())},n);return c}function Qe(t){return t[R]}var Ge={has:function(t,e){if(e===R||"constructor"===e||e===L)return!0;var n=Qe(t);return"string"==typeof e?n.has(e):e in t},get:function(t,e){if(e===R||"constructor"===e||e===L)return t[e];var n=Qe(t),r=n.values.get(e);if(r instanceof T){var o=r.get();return void 0===o&&n.has(e),o}return"string"==typeof e&&n.has(e),t[e]},set:function(t,e,n){return"string"==typeof e&&(Ne(t,e,n),!0)},deleteProperty:function(t,e){return"string"==typeof e&&(Qe(t).remove(e),!0)},ownKeys:function(t){return Qe(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return m("Dynamic observable objects cannot be frozen"),!1}};function Xe(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Ze(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),w(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function tn(t,e){var n=Pt();try{var r=t.interceptors;if(r)for(var i=0,o=r.length;i<o&&(_(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{At(n)}}function en(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function nn(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),w(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function rn(t,e){var n=Pt(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);At(n)}}var on={get:function(t,e){return e===R?t[R]:"length"===e?t[R].getArrayLength():"number"==typeof e?sn.get.call(t,e):"string"!=typeof e||isNaN(e)?sn.hasOwnProperty(e)?sn[e]:t[e]:sn.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e?(t[R].setArrayLength(n),!0):"number"==typeof e?(sn.set.call(t,e,n),!0):!isNaN(e)&&(sn.set.call(t,parseInt(e),n),!0)},preventExtensions:function(t){return m("Observable arrays cannot be frozen"),!1}};var an=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new T(t||"ObservableArray@"+y()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Ze(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),nn(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),i=0;i<t-e;i++)n[i]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;Ot(this.atom);var o=this.values.length;if(void 0===t?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),e=1===arguments.length?o-t:null==e?0:Math.max(0,Math.min(e,o-t)),void 0===n&&(n=d),Xe(this)){var c=tn(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!c)return d;e=c.removedCount,n=c.added}n=0===n.length?n:n.map(function(t){return r.enhancer(t,void 0)});var f=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,f),this.dehanceValues(f)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,function(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(l(arguments[i]));return t}([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,o=en(this),c=o||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),o&&rn(this,c)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,o=en(this),c=o||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&rn(this,c)},t}(),sn={intercept:function(t){return this[R].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[R].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[R];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[R];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[R].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[R];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[R];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[R],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[R];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[R],r=n.values;if(t<r.length){Ot(n.atom);var o=r[t];if(Xe(n)){var c=tn(n,{type:"update",object:this,index:t,newValue:e});if(!c)return;e=c.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){sn[t]=function(){var e=this[R];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}});var un,cn=j("ObservableArrayAdministration",an);function fn(t){return x(t)&&cn(t[R])}var ln,hn={},pn=function(){function t(t,e,n){if(void 0===e&&(e=V),void 0===n&&(n="ObservableMap@"+y()),this.enhancer=e,this.name=n,this[un]=hn,this._keysAtom=M(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){return this._hasMap.has(t)?this._hasMap.get(t).get():this._updateHasMapEntry(t,!1).get()},t.prototype.set=function(t,e){var n=this._has(t);if(Xe(this)){var r=tn(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(Xe(this)&&!(r=tn(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=en(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Ke(function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)}),n&&rn(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);return n?n.setNewValue(e):(n=new gt(e,z,this.name+"."+t+"?",!1),this._hasMap.set(t,n)),n},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==Lt.UNCHANGED){var r=en(this),o=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),r&&rn(this,o)}},t.prototype._addValue=function(t,e){var n=this;Ot(this._keysAtom),Ke(function(){var r=new gt(e,n.enhancer,n.name+"."+t,!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()});var r=en(this),o=r?{type:"add",object:this,name:t,newValue:e}:null;r&&rn(this,o)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return Dn({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return Dn({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[(un=R,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var o=f(this),c=o.next();!c.done;c=o.next()){var h=l(c.value,2),d=h[0],v=h[1];t.call(e,v,d,this)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return dn(t)&&(t=t.toJS()),Ke(function(){if(E(t))Object.keys(t).forEach(function(n){return e.set(n,t[n])});else if(Array.isArray(t))t.forEach(function(t){var n=l(t,2),r=n[0],o=n[1];return e.set(r,o)});else if(C(t)){if(t.constructor!==Map)return m("Cannot initialize from classes that inherit from Map: "+t.constructor.name);t.forEach(function(t,n){return e.set(n,t)})}else null!=t&&m("Cannot initialize map from "+t)}),this},t.prototype.clear=function(){var t=this;Ke(function(){Ct(function(){var e,n;try{for(var r=f(t.keys()),o=r.next();!o.done;o=r.next()){var c=o.value;t.delete(c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})})},t.prototype.replace=function(t){var e=this;return Ke(function(){var map,n=E(map=t)?Object.keys(map):Array.isArray(map)?map.map(function(t){return l(t,1)[0]}):C(map)||dn(map)?Array.from(map.keys()):m("Cannot get keys from '"+map+"'");Array.from(e.keys()).filter(function(t){return-1===n.indexOf(t)}).forEach(function(t){return e.delete(t)}),e.merge(t)}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=f(this),o=r.next();!o.done;o=r.next()){var c=l(o.value,2),h=c[0],d=c[1];n[""+h]=d}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map(function(e){return e+": "+t.get(e)}).join(", ")+" }]"},t.prototype.observe=function(t,e){return nn(this,t)},t.prototype.intercept=function(t){return Ze(this,t)},t}(),dn=j("ObservableMap",pn),vn={},yn=function(){function t(t,e,n){if(void 0===e&&(e=V),void 0===n&&(n="ObservableSet@"+y()),this.name=n,this[ln]=vn,this._data=new Set,this._atom=M(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Ke(function(){Ct(function(){var e,n;try{for(var r=f(t._data.values()),o=r.next();!o.done;o=r.next()){var c=o.value;t.delete(c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})})},t.prototype.forEach=function(t,e){var n,r;try{for(var o=f(this),c=o.next();!c.done;c=o.next()){var l=c.value;t.call(e,l,l,this)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((Ot(this._atom),Xe(this))&&!(r=tn(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Ke(function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()});var n=en(this),r=n?{type:"add",object:this,newValue:t}:null;0,n&&rn(this,r)}return this},t.prototype.delete=function(t){var e=this;if(Xe(this)&&!(r=tn(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=en(this),r=n?{type:"delete",object:this,oldValue:t}:null;return Ke(function(){e._atom.reportChanged(),e._data.delete(t)}),n&&rn(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Dn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Dn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return gn(t)&&(t=t.toJS()),Ke(function(){Array.isArray(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):P(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):null!=t&&m("Cannot initialize set from "+t)}),this},t.prototype.observe=function(t,e){return nn(this,t)},t.prototype.intercept=function(t){return Ze(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(ln=R,Symbol.iterator)]=function(){return this.values()},t}(),gn=j("ObservableSet",yn),mn=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new T(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof bt)r.set(e);else{if(Xe(this)){if(!(c=tn(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=c.newValue}if((e=r.prepareNewValue(e))!==Lt.UNCHANGED){var o=en(this),c=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),o&&rn(this,c)}}},t.prototype.has=function(t){var map=this.pendingKeys||(this.pendingKeys=new Map),e=map.get(t);if(e)return e.get();var n=!!this.values.get(t);return e=new gt(n,z,this.name+"."+t.toString()+"?",!1),map.set(t,e),e.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Xe(this)){var o=tn(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var c=new gt(e,n,this.name+"."+t,!1);this.values.set(t,c),e=c.value,Object.defineProperty(r,t,function(t){return _n[t]||(_n[t]={configurable:!0,enumerable:!0,get:function(){return this[R].read(t)},set:function(e){this[R].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var object,r,o,c=this.target;n.name=n.name||this.name+"."+e,this.values.set(e,new bt(n)),(t===c||(object=t,r=e,!(o=Object.getOwnPropertyDescriptor(object,r))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return wn[t]||(wn[t]={configurable:!1,enumerable:!1,get:function(){return kn(this).read(t)},set:function(e){kn(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(Xe(this))if(!(f=tn(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Vt();var n=en(this),r=this.values.get(t),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var c=this.pendingKeys.get(t);c&&c.set(!1)}delete this.target[t];var f=n?{type:"remove",object:this.proxy||e,oldValue:o,name:t}:null;0,n&&rn(this,f)}finally{zt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return nn(this,t)},t.prototype.intercept=function(t){return Ze(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=en(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&rn(this,r),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=f(this.values),o=r.next();!o.done;o=r.next()){var c=l(o.value,2),h=c[0];c[1]instanceof gt&&n.push(h)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function bn(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=V),Object.prototype.hasOwnProperty.call(t,R))return t[R];E(t)||(e=(t.constructor.name||"ObservableObject")+"@"+y()),e||(e="ObservableObject@"+y());var r=new mn(t,new Map,e,n);return O(t,R,r),r}var _n=Object.create(null),wn=Object.create(null);function kn(t){var e=t[R];return e||(U(t),t[R])}var xn=j("ObservableObjectAdministration",mn);function En(t){return!!x(t)&&(U(t),xn(t[R]))}function On(t,e){if("object"==typeof t&&null!==t){if(fn(t))return void 0!==e&&m(!1),t[R].atom;if(gn(t))return t[R];if(dn(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||m(!1),r)}var r;if(U(t),e&&!t[R]&&t[e],En(t))return e?((r=t[R].values.get(e))||m(!1),r):m(!1);if(D(t)||_t(t)||Zt(t))return t}else if("function"==typeof t&&Zt(t[R]))return t[R];return m(!1)}function jn(t,e){return t||m("Expecting some object"),void 0!==e?jn(On(t,e)):D(t)||_t(t)||Zt(t)?t:dn(t)||gn(t)?t:(U(t),t[R]?t[R]:void m(!1))}function Sn(t,e){return(void 0!==e?On(t,e):En(t)||dn(t)||gn(t)?jn(t):On(t)).name}var Cn=Object.prototype.toString;function Pn(a,b){return An(a,b)}function An(a,b,t,e){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return!1;if(a!=a)return b!=b;var n=typeof a;return("function"===n||"object"===n||"object"==typeof b)&&function(a,b,t,e){a=Rn(a),b=Rn(b);var n=Cn.call(a);if(n!==Cn.call(b))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(a)===Symbol.valueOf.call(b)}var r="[object Array]"===n;if(!r){if("object"!=typeof a||"object"!=typeof b)return!1;var o=a.constructor,c=b.constructor;if(o!==c&&!("function"==typeof o&&o instanceof o&&"function"==typeof c&&c instanceof c)&&"constructor"in a&&"constructor"in b)return!1}e=e||[];var f=(t=t||[]).length;for(;f--;)if(t[f]===a)return e[f]===b;if(t.push(a),e.push(b),r){if((f=a.length)!==b.length)return!1;for(;f--;)if(!An(a[f],b[f],t,e))return!1}else{var l,h=Object.keys(a);if(f=h.length,Object.keys(b).length!==f)return!1;for(;f--;)if(l=h[f],!Tn(b,l)||!An(a[l],b[l],t,e))return!1}return t.pop(),e.pop(),!0}(a,b,t,e)}function Rn(a){return fn(a)?a.slice():C(a)||dn(a)?Array.from(a.entries()):P(a)||gn(a)?Array.from(a.entries()):a}function Tn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function Dn(t){return t[Symbol.iterator]=Mn,t}function Mn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ee,extras:{getDebugName:Sn},$mobx:R})}.call(this,n(86),n(28))},function(t,e){!function(e){var n=function(t,e){return isNaN(e)?void 0:e<1?void 0:function(t,e){for(var n,r="",o=t.length;e--;)r+=t[(n=o,Math.floor(Math.random()*n))];return r}(t,e)};function r(t){t="string"==typeof t&&t.length>0?t:"abcdefghijklmnopqrstuvwxzy0123456789";var e=n.bind(n,t);return e.salt=function(){return t},e.create=r,e.gen=r,e}n.gen=r,t.exports=r()}()},function(t,e,n){"use strict";(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var c=0,f=new o(d),element=e.document.createTextNode("");f.observe(element,{characterData:!0}),n=function(){element.data=c=++c%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var h=[];function d(){var i,t;r=!0;for(var e=h.length;e;){for(t=h,h=[],i=-1;++i<e;)t[i]();e=h.length}r=!1}t.exports=function(t){1!==h.push(t)||r||n()}}).call(this,n(28))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),o[i]=t>>>((3&i)<<3)&255;return o}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,r=n;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}},function(t,e,n){t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var a=t[0],b=t[1],n=t[2],r=t[3];a+=(b&n|~b&r)+e[0]-680876936|0,r+=((a=(a<<7|a>>>25)+b|0)&b|~a&n)+e[1]-389564586|0,n+=((r=(r<<12|r>>>20)+a|0)&a|~r&b)+e[2]+606105819|0,b+=((n=(n<<17|n>>>15)+r|0)&r|~n&a)+e[3]-1044525330|0,a+=((b=(b<<22|b>>>10)+n|0)&n|~b&r)+e[4]-176418897|0,r+=((a=(a<<7|a>>>25)+b|0)&b|~a&n)+e[5]+1200080426|0,n+=((r=(r<<12|r>>>20)+a|0)&a|~r&b)+e[6]-1473231341|0,b+=((n=(n<<17|n>>>15)+r|0)&r|~n&a)+e[7]-45705983|0,a+=((b=(b<<22|b>>>10)+n|0)&n|~b&r)+e[8]+1770035416|0,r+=((a=(a<<7|a>>>25)+b|0)&b|~a&n)+e[9]-1958414417|0,n+=((r=(r<<12|r>>>20)+a|0)&a|~r&b)+e[10]-42063|0,b+=((n=(n<<17|n>>>15)+r|0)&r|~n&a)+e[11]-1990404162|0,a+=((b=(b<<22|b>>>10)+n|0)&n|~b&r)+e[12]+1804603682|0,r+=((a=(a<<7|a>>>25)+b|0)&b|~a&n)+e[13]-40341101|0,n+=((r=(r<<12|r>>>20)+a|0)&a|~r&b)+e[14]-1502002290|0,b+=((n=(n<<17|n>>>15)+r|0)&r|~n&a)+e[15]+1236535329|0,a+=((b=(b<<22|b>>>10)+n|0)&r|n&~r)+e[1]-165796510|0,r+=((a=(a<<5|a>>>27)+b|0)&n|b&~n)+e[6]-1069501632|0,n+=((r=(r<<9|r>>>23)+a|0)&b|a&~b)+e[11]+643717713|0,b+=((n=(n<<14|n>>>18)+r|0)&a|r&~a)+e[0]-373897302|0,a+=((b=(b<<20|b>>>12)+n|0)&r|n&~r)+e[5]-701558691|0,r+=((a=(a<<5|a>>>27)+b|0)&n|b&~n)+e[10]+38016083|0,n+=((r=(r<<9|r>>>23)+a|0)&b|a&~b)+e[15]-660478335|0,b+=((n=(n<<14|n>>>18)+r|0)&a|r&~a)+e[4]-405537848|0,a+=((b=(b<<20|b>>>12)+n|0)&r|n&~r)+e[9]+568446438|0,r+=((a=(a<<5|a>>>27)+b|0)&n|b&~n)+e[14]-1019803690|0,n+=((r=(r<<9|r>>>23)+a|0)&b|a&~b)+e[3]-187363961|0,b+=((n=(n<<14|n>>>18)+r|0)&a|r&~a)+e[8]+1163531501|0,a+=((b=(b<<20|b>>>12)+n|0)&r|n&~r)+e[13]-1444681467|0,r+=((a=(a<<5|a>>>27)+b|0)&n|b&~n)+e[2]-51403784|0,n+=((r=(r<<9|r>>>23)+a|0)&b|a&~b)+e[7]+1735328473|0,b+=((n=(n<<14|n>>>18)+r|0)&a|r&~a)+e[12]-1926607734|0,a+=((b=(b<<20|b>>>12)+n|0)^n^r)+e[5]-378558|0,r+=((a=(a<<4|a>>>28)+b|0)^b^n)+e[8]-2022574463|0,n+=((r=(r<<11|r>>>21)+a|0)^a^b)+e[11]+1839030562|0,b+=((n=(n<<16|n>>>16)+r|0)^r^a)+e[14]-35309556|0,a+=((b=(b<<23|b>>>9)+n|0)^n^r)+e[1]-1530992060|0,r+=((a=(a<<4|a>>>28)+b|0)^b^n)+e[4]+1272893353|0,n+=((r=(r<<11|r>>>21)+a|0)^a^b)+e[7]-155497632|0,b+=((n=(n<<16|n>>>16)+r|0)^r^a)+e[10]-1094730640|0,a+=((b=(b<<23|b>>>9)+n|0)^n^r)+e[13]+681279174|0,r+=((a=(a<<4|a>>>28)+b|0)^b^n)+e[0]-358537222|0,n+=((r=(r<<11|r>>>21)+a|0)^a^b)+e[3]-722521979|0,b+=((n=(n<<16|n>>>16)+r|0)^r^a)+e[6]+76029189|0,a+=((b=(b<<23|b>>>9)+n|0)^n^r)+e[9]-640364487|0,r+=((a=(a<<4|a>>>28)+b|0)^b^n)+e[12]-421815835|0,n+=((r=(r<<11|r>>>21)+a|0)^a^b)+e[15]+530742520|0,b+=((n=(n<<16|n>>>16)+r|0)^r^a)+e[2]-995338651|0,a+=(n^((b=(b<<23|b>>>9)+n|0)|~r))+e[0]-198630844|0,r+=(b^((a=(a<<6|a>>>26)+b|0)|~n))+e[7]+1126891415|0,n+=(a^((r=(r<<10|r>>>22)+a|0)|~b))+e[14]-1416354905|0,b+=(r^((n=(n<<15|n>>>17)+r|0)|~a))+e[5]-57434055|0,a+=(n^((b=(b<<21|b>>>11)+n|0)|~r))+e[12]+1700485571|0,r+=(b^((a=(a<<6|a>>>26)+b|0)|~n))+e[3]-1894986606|0,n+=(a^((r=(r<<10|r>>>22)+a|0)|~b))+e[10]-1051523|0,b+=(r^((n=(n<<15|n>>>17)+r|0)|~a))+e[1]-2054922799|0,a+=(n^((b=(b<<21|b>>>11)+n|0)|~r))+e[8]+1873313359|0,r+=(b^((a=(a<<6|a>>>26)+b|0)|~n))+e[15]-30611744|0,n+=(a^((r=(r<<10|r>>>22)+a|0)|~b))+e[6]-1560198380|0,b+=(r^((n=(n<<15|n>>>17)+r|0)|~a))+e[13]+1309151649|0,a+=(n^((b=(b<<21|b>>>11)+n|0)|~r))+e[4]-145523070|0,r+=(b^((a=(a<<6|a>>>26)+b|0)|~n))+e[11]-1120210379|0,n+=(a^((r=(r<<10|r>>>22)+a|0)|~b))+e[2]+718787259|0,b=((b+=(r^((n=(n<<15|n>>>17)+r|0)|~a))+e[9]-343485551|0)<<21|b>>>11)+n|0,t[0]=a+t[0]|0,t[1]=b+t[1]|0,t[2]=n+t[2]|0,t[3]=r+t[3]|0}function r(s){var i,t=[];for(i=0;i<64;i+=4)t[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return t}function o(a){var i,t=[];for(i=0;i<64;i+=4)t[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24);return t}function c(s){var i,t,e,o,c,f,l=s.length,h=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=l;i+=64)n(h,r(s.substring(i-64,i)));for(s=s.substring(i-64),t=s.length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<t;i+=1)e[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(e[i>>2]|=128<<(i%4<<3),i>55)for(n(h,e),i=0;i<16;i+=1)e[i]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(o[2],16),f=parseInt(o[1],16)||0,e[14]=c,e[15]=f,n(h,e),h}function f(t){var n,s="";for(n=0;n<4;n+=1)s+=e[t>>8*n+4&15]+e[t>>8*n&15];return s}function l(t){var i;for(i=0;i<t.length;i+=1)t[i]=f(t[i]);return t.join("")}function h(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function d(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function v(){this.reset()}return l(c("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,c,f,l,h=this.byteLength,d=e(n,h),v=h;return r!==t&&(v=e(r,h)),d>v?new ArrayBuffer(0):(o=v-d,c=new ArrayBuffer(o),f=new Uint8Array(c),l=new Uint8Array(this,d,o),f.set(l),c)}}(),v.prototype.append=function(t){return this.appendBinary(h(t)),this},v.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var i,e=this._buff.length;for(i=64;i<=e;i+=64)n(this._hash,r(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},v.prototype.end=function(t){var i,e,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<r;i+=1)o[i>>2]|=n.charCodeAt(i)<<(i%4<<3);return this._finish(o,r),e=l(this._hash),t&&(e=d(e)),this.reset(),e},v.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},v.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},v.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},v.prototype._finish=function(t,e){var r,o,c,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(n(this._hash,t),i=0;i<16;i+=1)t[i]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),c=parseInt(r[1],16)||0,t[14]=o,t[15]=c,n(this._hash,t)},v.hash=function(t,e){return v.hashBinary(h(t),e)},v.hashBinary=function(content,t){var e=l(c(content));return t?d(e):e},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(t){var i,e,r,c,f,l=(e=this._buff.buffer,r=t,c=!0,(f=new Uint8Array(e.byteLength+r.byteLength)).set(new Uint8Array(e)),f.set(new Uint8Array(r),e.byteLength),c?f:f.buffer),h=l.length;for(this._length+=t.byteLength,i=64;i<=h;i+=64)n(this._hash,o(l.subarray(i-64,i)));return this._buff=i-64<h?new Uint8Array(l.buffer.slice(i-64)):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(t){var i,e,n=this._buff,r=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<r;i+=1)o[i>>2]|=n[i]<<(i%4<<3);return this._finish(o,r),e=l(this._hash),t&&(e=d(e)),this.reset(),e},v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.getState=function(){var t,e=v.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},v.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var i,n=t.length,r=new ArrayBuffer(n),o=new Uint8Array(r);for(i=0;i<n;i+=1)o[i]=t.charCodeAt(i);return e?o:r}(t.buff,!0),v.prototype.setState.call(this,t)},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.hash=function(t,e){var r=l(function(a){var i,t,e,r,c,f,l=a.length,h=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=l;i+=64)n(h,o(a.subarray(i-64,i)));for(a=i-64<l?a.subarray(i-64):new Uint8Array(0),t=a.length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<t;i+=1)e[i>>2]|=a[i]<<(i%4<<3);if(e[i>>2]|=128<<(i%4<<3),i>55)for(n(h,e),i=0;i<16;i+=1)e[i]=0;return r=(r=8*l).toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(r[2],16),f=parseInt(r[1],16)||0,e[14]=c,e[15]=f,n(h,e),h}(new Uint8Array(t)));return e?d(r):r},v}()},,function(t,e,n){(function(e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,r,o;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{o=Promise}catch(t){o=function(){}}function c(f,h,d,v,y){"object"==typeof h&&(d=h.depth,v=h.prototype,y=h.includeNonEnumerable,h=h.circular);var m=[],_=[],w=void 0!==e;return void 0===h&&(h=!0),void 0===d&&(d=1/0),function f(d,k){if(null===d)return null;if(0===k)return d;var x,E;if("object"!=typeof d)return d;if(t(d,n))x=new n;else if(t(d,r))x=new r;else if(t(d,o))x=new o(function(t,e){d.then(function(e){t(f(e,k-1))},function(t){e(f(t,k-1))})});else if(c.__isArray(d))x=[];else if(c.__isRegExp(d))x=new RegExp(d.source,l(d)),d.lastIndex&&(x.lastIndex=d.lastIndex);else if(c.__isDate(d))x=new Date(d.getTime());else{if(w&&e.isBuffer(d))return x=e.allocUnsafe?e.allocUnsafe(d.length):new e(d.length),d.copy(x),x;t(d,Error)?x=Object.create(d):void 0===v?(E=Object.getPrototypeOf(d),x=Object.create(E)):(x=Object.create(v),E=v)}if(h){var O=m.indexOf(d);if(-1!=O)return _[O];m.push(d),_.push(x)}for(var i in t(d,n)&&d.forEach(function(t,e){var n=f(e,k-1),r=f(t,k-1);x.set(n,r)}),t(d,r)&&d.forEach(function(t){var e=f(t,k-1);x.add(e)}),d){var j;E&&(j=Object.getOwnPropertyDescriptor(E,i)),j&&null==j.set||(x[i]=f(d[i],k-1))}if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);for(i=0;i<S.length;i++){var symbol=S[i];(!(P=Object.getOwnPropertyDescriptor(d,symbol))||P.enumerable||y)&&(x[symbol]=f(d[symbol],k-1),P.enumerable||Object.defineProperty(x,symbol,{enumerable:!1}))}}if(y){var C=Object.getOwnPropertyNames(d);for(i=0;i<C.length;i++){var P,A=C[i];(P=Object.getOwnPropertyDescriptor(d,A))&&P.enumerable||(x[A]=f(d[A],k-1),Object.defineProperty(x,A,{enumerable:!1}))}}return x}(f,d)}function f(t){return Object.prototype.toString.call(t)}function l(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return c.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},c.__objToStr=f,c.__isDate=function(t){return"object"==typeof t&&"[object Date]"===f(t)},c.__isArray=function(t){return"object"==typeof t&&"[object Array]"===f(t)},c.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===f(t)},c.__getRegExpFlags=l,c}();t.exports&&(t.exports=n)}).call(this,n(142).Buffer)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(175),o=n(176),c={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return map});var r=n(141),o=n(145);function map(t,e){return function(source){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return source.lift(new c(t,e))}}var c=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,source){return source.subscribe(new f(t,this.project,this.thisArg))},t}(),f=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a)},function(t,e,n){"use strict";t.exports=function(t){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(t)}},function(t,e,n){e.AbstractLevelDOWN=n(260),e.AbstractIterator=n(198),e.AbstractChainedBatch=n(199)},function(t,e,n){(function(e){function n(t){this.db=t,this._ended=!1,this._nexting=!1}n.prototype.next=function(t){var n=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return n._ended?(e.nextTick(t,new Error("cannot call next() after end()")),n):n._nexting?(e.nextTick(t,new Error("cannot call next() before previous next() has completed")),n):(n._nexting=!0,n._next(function(){n._nexting=!1,t.apply(null,arguments)}),n)},n.prototype._next=function(t){e.nextTick(t)},n.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");if(this._ended)return e.nextTick(t,new Error("end() already called on iterator"));this._ended=!0,this._end(t)},n.prototype._end=function(t){e.nextTick(t)},t.exports=n}).call(this,n(86))},function(t,e,n){(function(e){function n(t){this._db=t,this._operations=[],this._written=!1}n.prototype._serializeKey=function(t){return this._db._serializeKey(t)},n.prototype._serializeValue=function(t){return this._db._serializeValue(t)},n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(t,e){this._checkWritten();var n=this._db._checkKey(t,"key");if(n)throw n;return t=this._serializeKey(t),e=this._serializeValue(e),this._put(t,e),this},n.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},n.prototype.del=function(t){this._checkWritten();var e=this._db._checkKey(t,"key");if(e)throw e;return t=this._serializeKey(t),this._del(t),this},n.prototype._del=function(t){this._operations.push({type:"del",key:t})},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},n.prototype._clear=function(){},n.prototype.write=function(t,n){if(this._checkWritten(),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(n):"function"==typeof this._db._batch?this._db._batch(this._operations,t,n):void e.nextTick(n)},t.exports=n}).call(this,n(86))},function(t,e,n){"use strict";(function(e,r){var o=n(171);t.exports=j;var c,f=n(263);j.ReadableState=O;n(147).EventEmitter;var l=function(t,e){return t.listeners(e).length},h=n(201),d=n(172).Buffer,v=e.Uint8Array||function(){};var y=n(146);y.inherits=n(137);var m=n(264),_=void 0;_=m&&m.debuglog?m.debuglog("stream"):function(){};var w,k=n(265),x=n(202);y.inherits(j,h);var E=["error","close","destroy","pause","resume"];function O(t,e){t=t||{};var r=e instanceof(c=c||n(153));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,f=t.readableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(f||0===f)?f:l,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(w||(w=n(173).StringDecoder),this.decoder=new w(t.encoding),this.encoding=t.encoding)}function j(t){if(c=c||n(153),!(this instanceof j))return new j(t);this._readableState=new O(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function S(t,e,n,r,o){var c,f=t._readableState;null===e?(f.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,R(t)}(t,f)):(o||(c=function(t,e){var n;r=e,d.isBuffer(r)||r instanceof v||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(f,e)),c?t.emit("error",c):f.objectMode||e&&e.length>0?("string"==typeof e||f.objectMode||Object.getPrototypeOf(e)===d.prototype||(e=function(t){return d.from(t)}(e)),r?f.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):C(t,f,e,!0):f.ended?t.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!n?(e=f.decoder.write(e),f.objectMode||0!==e.length?C(t,f,e,!1):D(t,f)):C(t,f,e,!1))):r||(f.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(f)}function C(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&R(t)),D(t,e)}Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),j.prototype.destroy=x.destroy,j.prototype._undestroy=x.undestroy,j.prototype._destroy=function(t,e){this.push(null),e(t)},j.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=d.from(t,e),e=""),n=!0),S(this,t,e,!1,n)},j.prototype.unshift=function(t){return S(this,t,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(t){return w||(w=n(173).StringDecoder),this._readableState.decoder=new w(t),this._readableState.encoding=t,this};var P=8388608;function A(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=P?t=P:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(_("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(T,t):T(t))}function T(t){_("emit readable"),t.emit("readable"),I(t)}function D(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(M,t,e))}function M(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(_("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function B(t){_("readable nexttick read 0"),t.read(0)}function L(t,e){e.reading||(_("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),I(t),e.flowing&&!e.reading&&t.read(0)}function I(t){var e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var p=e.head,n=1,r=p.data;t-=r.length;for(;p=p.next;){var o=p.data,c=t>o.length?o.length:t;if(c===o.length?r+=o:r+=o.slice(0,t),0===(t-=c)){c===o.length?(++n,p.next?e.head=p.next:e.head=e.tail=null):(e.head=p,p.data=o.slice(c));break}++n}return e.length-=n,r}(t,e):function(t,e){var n=d.allocUnsafe(t),p=e.head,r=1;p.data.copy(n),t-=p.data.length;for(;p=p.next;){var o=p.data,c=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,c),0===(t-=c)){c===o.length?(++r,p.next?e.head=p.next:e.head=e.tail=null):(e.head=p,p.data=o.slice(c));break}++r}return e.length-=r,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function F(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(U,e,t))}function U(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function $(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}j.prototype.read=function(t){_("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):R(this),null;if(0===(t=A(t,e))&&e.ended)return 0===e.length&&F(this),null;var r,o=e.needReadable;return _("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&_("length less than watermark",o=!0),e.ended||e.reading?_("reading or ended",o=!1):o&&(_("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A(n,e))),null===(r=t>0?N(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&F(this)),null!==r&&this.emit("data",r),r},j.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},j.prototype.pipe=function(t,e){var n=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=t;break;case 1:c.pipes=[c.pipes,t];break;default:c.pipes.push(t)}c.pipesCount+=1,_("pipe count=%d opts=%j",c.pipesCount,e);var h=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?v:j;function d(e,r){_("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,_("cleanup"),t.removeListener("close",E),t.removeListener("finish",O),t.removeListener("drain",y),t.removeListener("error",x),t.removeListener("unpipe",d),n.removeListener("end",v),n.removeListener("end",j),n.removeListener("data",k),m=!0,!c.awaitDrain||t._writableState&&!t._writableState.needDrain||y())}function v(){_("onend"),t.end()}c.endEmitted?o.nextTick(h):n.once("end",h),t.on("unpipe",d);var y=function(t){return function(){var e=t._readableState;_("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&l(t,"data")&&(e.flowing=!0,I(t))}}(n);t.on("drain",y);var m=!1;var w=!1;function k(e){_("ondata"),w=!1,!1!==t.write(e)||w||((1===c.pipesCount&&c.pipes===t||c.pipesCount>1&&-1!==$(c.pipes,t))&&!m&&(_("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,w=!0),n.pause())}function x(e){_("onerror",e),j(),t.removeListener("error",x),0===l(t,"error")&&t.emit("error",e)}function E(){t.removeListener("finish",O),j()}function O(){_("onfinish"),t.removeListener("close",E),j()}function j(){_("unpipe"),n.unpipe(t)}return n.on("data",k),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?f(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",x),t.once("close",E),t.once("finish",O),t.emit("pipe",n),c.flowing||(_("pipe resume"),n.resume()),t},j.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var c=$(e.pipes,t);return-1===c?this:(e.pipes.splice(c,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},j.prototype.on=function(t,e){var n=h.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&R(this):o.nextTick(B,this))}return n},j.prototype.addListener=j.prototype.on,j.prototype.resume=function(){var t=this._readableState;return t.flowing||(_("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(L,t,e))}(this,t)),this},j.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this},j.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(_("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(o){(_("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o)||(n.objectMode||o&&o.length)&&(e.push(o)||(r=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<E.length;o++)t.on(E[o],this.emit.bind(this,E[o]));return this._read=function(e){_("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),j._fromList=N}).call(this,n(28),n(86))},function(t,e,n){t.exports=n(147).EventEmitter},function(t,e,n){"use strict";var r=n(171);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=f;var r=n(153),o=n(146);function c(t,data){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=data&&this.push(data),n(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function f(t){if(!(this instanceof f))return new f(t);r.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"==typeof this._flush?this._flush(function(e,data){h(t,e,data)}):h(this,null,null)}function h(t,e,data){if(e)return t.emit("error",e);if(null!=data&&t.push(data),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=n(137),o.inherits(f,r),f.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},f.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},f.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},f.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},f.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){var r=n(270).create,o=r("LevelUPError"),c=r("NotFoundError",o);c.prototype.notFound=!0,c.prototype.status=404,t.exports={LevelUPError:o,InitializationError:r("InitializationError",o),OpenError:r("OpenError",o),ReadError:r("ReadError",o),WriteError:r("WriteError",o),NotFoundError:c,EncodingError:r("EncodingError",o)}},function(t,e){t.exports=function(){var t,e=new Promise(function(e,n){t=function(t,r){t?n(t):e(r)}});return t.promise=e,t}},function(t,e,n){t.exports=n(170).Transform},function(t,e,n){(function(e){t.exports=v;var r=n(279),o=n(142).Buffer;v.ReadableState=d;var c=n(147).EventEmitter;c.listenerCount||(c.listenerCount=function(t,e){return t.listeners(e).length});var f,l=n(180),h=n(146);function d(t,e){var r=(t=t||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(173).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function v(t){if(!(this instanceof v))return new v(t);this._readableState=new d(t,this),this.readable=!0,l.call(this)}function y(t,n,r,c,f){var l=function(t,e){var n=null;o.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(n,r);if(l)t.emit("error",l);else if(null==r)n.reading=!1,n.ended||function(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.length>0?w(t):S(t)}(t,n);else if(n.objectMode||r&&r.length>0)if(n.ended&&!f){var h=new Error("stream.push() after EOF");t.emit("error",h)}else if(n.endEmitted&&f){h=new Error("stream.unshift() after end event");t.emit("error",h)}else!n.decoder||f||c||(r=n.decoder.write(r)),n.length+=n.objectMode?1:r.length,f?n.buffer.unshift(r):(n.reading=!1,n.buffer.push(r)),n.needReadable&&w(t),function(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(function(){!function(t,e){var n=e.length;for(;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}(t,n)}))}(t,n);else f||(n.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(n)}h.inherits=n(137),h.inherits(v,l),v.prototype.push=function(t,e){var n=this._readableState;return"string"!=typeof t||n.objectMode||(e=e||n.defaultEncoding)!==n.encoding&&(t=new o(t,e),e=""),y(this,n,t,e,!1)},v.prototype.unshift=function(t){return y(this,this._readableState,t,"",!0)},v.prototype.setEncoding=function(t){f||(f=n(173).StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t};var m=8388608;function _(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>=m)t=m;else{t--;for(var p=1;p<32;p<<=1)t|=t>>p;t++}return t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function w(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(n.emittedReadable=!0,n.sync?e.nextTick(function(){k(t)}):k(t))}function k(t){t.emit("readable")}function x(t){var e,n=t._readableState;function r(t,i,r){!1===t.write(e)&&n.awaitDrain++}for(n.awaitDrain=0;n.pipesCount&&null!==(e=t.read());)if(1===n.pipesCount?r(n.pipes):C(n.pipes,r),t.emit("data",e),n.awaitDrain>0)return;if(0===n.pipesCount)return n.flowing=!1,void(c.listenerCount(t,"data")>0&&O(t));n.ranOut=!0}function E(){this._readableState.ranOut&&(this._readableState.ranOut=!1,x(this))}function O(t,n){if(t._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=n||!1,o=!1;t.readable=!0,t.pipe=l.prototype.pipe,t.on=t.addListener=l.prototype.on,t.on("readable",function(){var e;for(o=!0;!r&&null!==(e=t.read());)t.emit("data",e);null===e&&(o=!1,t._readableState.needReadable=!0)}),t.pause=function(){r=!0,this.emit("pause")},t.resume=function(){r=!1,o?e.nextTick(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function j(t,e){var n,r=e.buffer,c=e.length,f=!!e.decoder,l=!!e.objectMode;if(0===r.length)return null;if(0===c)n=null;else if(l)n=r.shift();else if(!t||t>=c)n=f?r.join(""):o.concat(r,c),r.length=0;else{if(t<r[0].length)n=(v=r[0]).slice(0,t),r[0]=v.slice(t);else if(t===r[0].length)n=r.shift();else{n=f?"":new o(t);for(var h=0,i=0,d=r.length;i<d&&h<t;i++){var v=r[0],y=Math.min(t-h,v.length);f?n+=v.slice(0,y):v.copy(n,h,0,y),y<v.length?r[0]=v.slice(y):r.shift(),h+=y}}}return n}function S(t){var n=t._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");!n.endEmitted&&n.calledRead&&(n.ended=!0,e.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function C(t,e){for(var i=0,n=t.length;i<n;i++)e(t[i],i)}v.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var n,r=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return w(this),null;if(0===(t=_(t,e))&&e.ended)return n=null,e.length>0&&e.decoder&&(n=j(t,e),e.length-=n.length),0===e.length&&S(this),n;var o=e.needReadable;return e.length-t<=e.highWaterMark&&(o=!0),(e.ended||e.reading)&&(o=!1),o&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),o&&!e.reading&&(t=_(r,e)),null===(n=t>0?j(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&S(this),n},v.prototype._read=function(t){this.emit("error",new Error("not implemented"))},v.prototype.pipe=function(t,n){var o=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1;var l=(!n||!1!==n.end)&&t!==e.stdout&&t!==e.stderr?d:y;function h(t){t===o&&y()}function d(){t.end()}f.endEmitted?e.nextTick(l):o.once("end",l),t.on("unpipe",h);var v=function(t){return function(){var e=t._readableState;e.awaitDrain--,0===e.awaitDrain&&x(t)}}(o);function y(){t.removeListener("close",_),t.removeListener("finish",w),t.removeListener("drain",v),t.removeListener("error",m),t.removeListener("unpipe",h),o.removeListener("end",d),o.removeListener("end",y),t._writableState&&!t._writableState.needDrain||v()}function m(e){k(),t.removeListener("error",m),0===c.listenerCount(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",w),k()}function w(){t.removeListener("close",_),k()}function k(){o.unpipe(t)}return t.on("drain",v),t._events&&t._events.error?r(t._events.error)?t._events.error.unshift(m):t._events.error=[m,t._events.error]:t.on("error",m),t.once("close",_),t.once("finish",w),t.emit("pipe",o),f.flowing||(this.on("readable",E),f.flowing=!0,e.nextTick(function(){x(o)})),t},v.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",E),e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",E),e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}return-1===(i=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}(e.pipes,t))?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},v.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||O(this),"readable"===t&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&w(this):this.read(0))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){O(this),this.read(0),this.emit("resume")},v.prototype.pause=function(){O(this,!0),this.emit("pause")},v.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;for(var i in t.on("end",function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(o){(e.decoder&&(o=e.decoder.write(o)),e.objectMode&&null==o)||(e.objectMode||o&&o.length)&&(r.push(o)||(n=!0,t.pause()))}),t)"function"==typeof t[i]&&void 0===this[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return C(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){n&&(n=!1,t.resume())},r},v._fromList=j}).call(this,n(86))},function(t,e,n){(function(e){t.exports=h;var r=n(142).Buffer;h.WritableState=l;var o=n(146);o.inherits=n(137);var c=n(180);function f(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function l(t,n){var r=(t=t||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,n){var r=t._writableState,o=r.sync,c=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),n)!function(t,n,r,o,c){r?e.nextTick(function(){c(o)}):c(o);t._writableState.errorEmitted=!0,t.emit("error",o)}(t,0,o,n,c);else{var f=y(t,r);f||r.bufferProcessing||!r.buffer.length||function(t,e){e.bufferProcessing=!0;for(var n=0;n<e.buffer.length;n++){var r=e.buffer[n],o=r.chunk,c=r.encoding,f=r.callback,l=e.objectMode?1:o.length;if(d(t,e,l,o,c,f),e.writing){n++;break}}e.bufferProcessing=!1,n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}(t,r),o?e.nextTick(function(){v(t,r,f,c)}):v(t,r,f,c)}}(n,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function h(t){var e=n(181);if(!(this instanceof h||this instanceof e))return new h(t);this._writableState=new l(t,this),this.writable=!0,c.call(this)}function d(t,e,n,r,o,c){e.writelen=n,e.writecb=c,e.writing=!0,e.sync=!0,t._write(r,o,e.onwrite),e.sync=!1}function v(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),r(),n&&m(t,e)}function y(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function m(t,e){var n=y(0,e);return n&&(e.finished=!0,t.emit("finish")),n}o.inherits(h,c),h.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},h.prototype.write=function(t,n,o){var c=this._writableState,l=!1;return"function"==typeof n&&(o=n,n=null),r.isBuffer(t)?n="buffer":n||(n=c.defaultEncoding),"function"!=typeof o&&(o=function(){}),c.ended?function(t,n,r){var o=new Error("write after end");t.emit("error",o),e.nextTick(function(){r(o)})}(this,0,o):function(t,n,o,c){var f=!0;if(!r.isBuffer(o)&&"string"!=typeof o&&null!=o&&!n.objectMode){var l=new TypeError("Invalid non-string/buffer chunk");t.emit("error",l),e.nextTick(function(){c(l)}),f=!1}return f}(this,c,t,o)&&(l=function(t,e,n,o,c){n=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new r(e,n)),e}(e,n,o),r.isBuffer(n)&&(o="buffer");var l=e.objectMode?1:n.length;e.length+=l;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);e.writing?e.buffer.push(new f(n,o,c)):d(t,e,l,n,o,c);return h}(this,c,t,n,o)),l},h.prototype._write=function(t,e,n){n(new Error("not implemented"))},h.prototype.end=function(t,n,r){var o=this._writableState;"function"==typeof t?(r=t,t=null,n=null):"function"==typeof n&&(r=n,n=null),null!=t&&this.write(t,n),o.ending||o.finished||function(t,n,r){n.ending=!0,m(t,n),r&&(n.finished?e.nextTick(r):t.once("finish",r));n.ended=!0}(this,o,r)}}).call(this,n(86))},function(t,e,n){t.exports=f;var r=n(181),o=n(146);function c(t,e){this.afterTransform=function(t,data){return function(t,e,data){var n=t._transformState;n.transforming=!1;var r=n.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=data&&t.push(data);r&&r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(e,t,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function f(t){if(!(this instanceof f))return new f(t);r.call(this,t);this._transformState=new c(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(t){l(e,t)}):l(e)})}function l(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=(t._readableState,t._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}o.inherits=n(137),o.inherits(f,r),f.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},f.prototype._transform=function(t,e,n){throw new Error("not implemented")},f.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},f.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){e.AbstractLevelDOWN=n(211),e.AbstractIterator=n(212),e.AbstractChainedBatch=n(213),e.isLevelDOWN=n(288)},function(t,e,n){(function(e,r){var o=n(160),c=n(212),f=n(213);function l(t){if(!arguments.length||void 0===t)throw new Error("constructor requires at least a location argument");if("string"!=typeof t)throw new Error("constructor requires a location string argument");this.location=t,this.status="new"}l.prototype.open=function(t,n){var r=this,o=this.status;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("open() requires a callback argument");"object"!=typeof t&&(t={}),t.createIfMissing=0!=t.createIfMissing,t.errorIfExists=!!t.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(t,function(t){if(t)return r.status=o,n(t);r.status="open",n()})):(this.status="open",e.nextTick(n))},l.prototype.close=function(t){var n=this,r=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(e){if(e)return n.status=r,t(e);n.status="closed",t()})):(this.status="closed",e.nextTick(t))},l.prototype.get=function(t,n,r){var o;if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("get() requires a callback argument");return(o=this._checkKey(t,"key",this._isBuffer))?r(o):(this._isBuffer(t)||(t=String(t)),"object"!=typeof n&&(n={}),n.asBuffer=0!=n.asBuffer,"function"==typeof this._get?this._get(t,n,r):void e.nextTick(function(){r(new Error("NotFound"))}))},l.prototype.put=function(t,n,r,o){var c;if("function"==typeof r&&(o=r),"function"!=typeof o)throw new Error("put() requires a callback argument");return(c=this._checkKey(t,"key",this._isBuffer))?o(c):(this._isBuffer(t)||(t=String(t)),null!=n&&this._isBuffer(n),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(t,n,r,o):void e.nextTick(o))},l.prototype.del=function(t,n,r){var o;if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("del() requires a callback argument");return(o=this._checkKey(t,"key",this._isBuffer))?r(o):(this._isBuffer(t)||(t=String(t)),"object"!=typeof n&&(n={}),"function"==typeof this._del?this._del(t,n,r):void e.nextTick(r))},l.prototype.batch=function(t,n,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof n&&(r=n),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return r(new Error("batch(array) requires an array argument"));n&&"object"==typeof n||(n={});for(var o,c,i=0,f=t.length;i<f;i++)if("object"==typeof(o=t[i])){if(c=this._checkKey(o.type,"type",this._isBuffer))return r(c);if(c=this._checkKey(o.key,"key",this._isBuffer))return r(c)}if("function"==typeof this._batch)return this._batch(t,n,r);e.nextTick(r)},l.prototype.approximateSize=function(t,n,r){if(null==t||null==n||"function"==typeof t||"function"==typeof n)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(t)||(t=String(t)),this._isBuffer(n)||(n=String(n)),"function"==typeof this._approximateSize)return this._approximateSize(t,n,r);e.nextTick(function(){r(null,0)})},l.prototype._setupIteratorOptions=function(t){var e=this;return t=o(t),["start","end","gt","gte","lt","lte"].forEach(function(n){t[n]&&e._isBuffer(t[n])&&0===t[n].length&&delete t[n]}),t.reverse=!!t.reverse,t.keys=0!=t.keys,t.values=0!=t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=0!=t.keyAsBuffer,t.valueAsBuffer=0!=t.valueAsBuffer,t},l.prototype.iterator=function(t){return"object"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),"function"==typeof this._iterator?this._iterator(t):new c(this)},l.prototype._chainedBatch=function(){return new f(this)},l.prototype._isBuffer=function(t){return r.isBuffer(t)},l.prototype._checkKey=function(t,e){if(null==t)return new Error(e+" cannot be `null` or `undefined`");if(this._isBuffer(t)){if(0===t.length)return new Error(e+" cannot be an empty Buffer")}else if(""===String(t))return new Error(e+" cannot be an empty String")},t.exports=l}).call(this,n(86),n(142).Buffer)},function(t,e,n){(function(e){function n(t){this.db=t,this._ended=!1,this._nexting=!1}n.prototype.next=function(t){var n=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return n._ended?t(new Error("cannot call next() after end()")):n._nexting?t(new Error("cannot call next() before previous next() has completed")):(n._nexting=!0,"function"==typeof n._next?n._next(function(){n._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){n._nexting=!1,t()}))},n.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},t.exports=n}).call(this,n(86))},function(t,e,n){(function(e){function n(t){this._db=t,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(t,e){this._checkWritten();var n=this._db._checkKey(t,"key",this._db._isBuffer);if(n)throw n;return this._db._isBuffer(t)||(t=String(t)),this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._put?this._put(t,e):this._operations.push({type:"put",key:t,value:e}),this},n.prototype.del=function(t){this._checkWritten();var e=this._db._checkKey(t,"key",this._db._isBuffer);if(e)throw e;return this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._del?this._del(t):this._operations.push({type:"del",key:t}),this},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},n.prototype.write=function(t,n){if(this._checkWritten(),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(n):"function"==typeof this._db._batch?this._db._batch(this._operations,t,n):void e.nextTick(n)},t.exports=n}).call(this,n(86))},function(t,e,n){"use strict";n.r(e),n.d(e,"Inject",function(){return f}),n.d(e,"Provide",function(){return l}),n.d(e,"Model",function(){return h}),n.d(e,"Prop",function(){return d}),n.d(e,"Watch",function(){return v}),n.d(e,"Emit",function(){return _});var r=n(0);n.d(e,"Vue",function(){return r.default});var o=n(161),c=n.n(o);function f(t){return Object(o.createDecorator)(function(e,n){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)})}function l(t){return Object(o.createDecorator)(function(e,n){var r=e.provide;if("function"!=typeof r||!r.managed){var o=e.provide;(r=e.provide=function(){var t=Object.create(("function"==typeof o?o.call(this):o)||null);for(var i in r.managed)t[r.managed[i]]=this[i];return t}).managed={}}r.managed[n]=t||n})}function h(t,e){return void 0===e&&(e={}),Object(o.createDecorator)(function(n,r){(n.props||(n.props={}))[r]=e,n.model={prop:r,event:t||r}})}function d(t){return void 0===t&&(t={}),Object(o.createDecorator)(function(e,n){(e.props||(e.props={}))[n]=t})}function v(path,t){void 0===t&&(t={});var e=t.deep,n=void 0!==e&&e,r=t.immediate,c=void 0!==r&&r;return Object(o.createDecorator)(function(t,e){"object"!=typeof t.watch&&(t.watch=Object.create(null));var r=t.watch;"object"!=typeof r[path]||Array.isArray(r[path])?void 0===r[path]&&(r[path]=[]):r[path]=[r[path]],r[path].push({handler:e,deep:n,immediate:c})})}n.d(e,"Component",function(){return c.a}),n.d(e,"Mixins",function(){return o.mixins});var y=/\B([A-Z])/g,m=function(t){return t.replace(y,"-$1").toLowerCase()};function _(t){return function(e,n,r){n=m(n);var o=r.value;r.value=function(){for(var e=this,r=[],c=0;c<arguments.length;c++)r[c]=arguments[c];var f,l=function(o){void 0!==o&&r.unshift(o),e.$emit.apply(e,[t||n].concat(r))},h=o.apply(this,r);(f=h)instanceof Promise||f&&"function"==typeof f.then?h.then(function(t){l(t)}):l(h)}}}},function(t,e,n){(function(t,e){var n;!function(n){!function(r){var o="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),c=f(n);function f(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===o.Reflect?o.Reflect=n:c=f(o.Reflect,c),function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",c=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",f="function"==typeof Object.create,l={__proto__:[]}instanceof Array,h=!f&&!l,d={create:f?function(){return U(Object.create(null))}:l?function(){return U({__proto__:null})}:function(){return U({})},has:h?function(map,t){return n.call(map,t)}:function(map,t){return t in map},get:h?function(map,t){return n.call(map,t)?map[t]:void 0}:function(map,t){return map[t]}},v=Object.getPrototypeOf(Function),y="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,m=y||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[c]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,f)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[c]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function f(t,e){return[t,e]}}():Map,_=y||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new m}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[c]=function(){return this.keys()},t}():Set,w=new(y||"function"!=typeof WeakMap?function(){var t=16,e=d.create(),r=o();return function(){function t(){this._key=o()}return t.prototype.has=function(t){var table=c(t,!1);return void 0!==table&&d.has(table,this._key)},t.prototype.get=function(t){var table=c(t,!1);return void 0!==table?d.get(table,this._key):void 0},t.prototype.set=function(t,e){var table=c(t,!0);return table[this._key]=e,this},t.prototype.delete=function(t){var table=c(t,!1);return void 0!==table&&delete table[this._key]},t.prototype.clear=function(){this._key=o()},t}();function o(){var t;do{t="@@WeakMap@@"+l()}while(d.has(e,t));return e[t]=!0,t}function c(t,e){if(!n.call(t,r)){if(!e)return;Object.defineProperty(t,r,{value:d.create()})}return t[r]}function f(t,e){for(var i=0;i<e;++i)t[i]=255*Math.random()|0;return t}function l(){var data=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):f(new Uint8Array(t),t);return f(new Array(t),t)}(t);data[6]=79&data[6]|64,data[8]=191&data[8]|128;for(var e="",n=0;n<t;++n){var r=data[n];4!==n&&6!==n&&8!==n||(e+="-"),r<16&&(e+="0"),e+=r.toString(16).toLowerCase()}return e}}():WeakMap);function k(t,e,n){var r=w.get(t);if(C(r)){if(!n)return;r=new m,w.set(t,r)}var o=r.get(e);if(C(o)){if(!n)return;o=new m,r.set(e,o)}return o}function x(t,e,n){var r=k(e,n,!1);return!C(r)&&!!r.has(t)}function E(t,e,n){var r=k(e,n,!1);if(!C(r))return r.get(t)}function O(t,e,n,r){var o=k(n,r,!0);o.set(t,e)}function j(t,e){var n=[],r=k(t,e,!1);if(C(r))return n;for(var o=r.keys(),f=function(t){var e=L(t,c);if(!M(e))throw new TypeError;var n=e.call(t);if(!A(n))throw new TypeError;return n}(o),l=0;;){var h=I(f);if(!h)return n.length=l,n;var d=h.value;try{n[l]=d}catch(t){try{N(f)}finally{throw t}}l++}}function S(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function C(t){return void 0===t}function P(t){return null===t}function A(t){return"object"==typeof t?null!==t:"function"==typeof t}function R(input,t){switch(S(input)){case 0:case 1:case 2:case 3:case 4:case 5:return input}var e=3===t?"string":5===t?"number":"default",n=L(input,o);if(void 0!==n){var r=n.call(input,e);if(A(r))throw new TypeError;return r}return function(t,e){if("string"===e){var n=t.toString;if(M(n)){var r=n.call(t);if(!A(r))return r}var o=t.valueOf;if(M(o)){var r=o.call(t);if(!A(r))return r}}else{var o=t.valueOf;if(M(o)){var r=o.call(t);if(!A(r))return r}var c=t.toString;if(M(c)){var r=c.call(t);if(!A(r))return r}}throw new TypeError}(input,"default"===e?"number":e)}function T(t){var e=R(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function D(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function M(t){return"function"==typeof t}function B(t){return"function"==typeof t}function L(t,e){var n=t[e];if(null!=n){if(!M(n))throw new TypeError;return n}}function I(t){var e=t.next();return!e.done&&e}function N(t){var e=t.return;e&&e.call(t)}function F(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===v)return e;if(e!==v)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o?e:o===t?e:o}function U(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,n,r){if(C(n)){if(!D(t))throw new TypeError;if(!B(e))throw new TypeError;return function(t,e){for(var i=t.length-1;i>=0;--i){var n=t[i],r=n(e);if(!C(r)&&!P(r)){if(!B(r))throw new TypeError;e=r}}return e}(t,e)}if(!D(t))throw new TypeError;if(!A(e))throw new TypeError;if(!A(r)&&!C(r)&&!P(r))throw new TypeError;return P(r)&&(r=void 0),n=T(n),function(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=t[i],c=o(e,n,r);if(!C(c)&&!P(c)){if(!A(c))throw new TypeError;r=c}}return r}(t,e,n,r)}),e("metadata",function(t,e){return function(n,r){if(!A(n))throw new TypeError;if(!C(r)&&!function(t){switch(S(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;O(t,e,n,r)}}),e("defineMetadata",function(t,e,n,r){if(!A(n))throw new TypeError;C(r)||(r=T(r));return O(t,e,n,r)}),e("hasMetadata",function(t,e,n){if(!A(e))throw new TypeError;C(n)||(n=T(n));return function t(e,n,r){var o=x(e,n,r);if(o)return!0;var c=F(n);if(!P(c))return t(e,c,r);return!1}(t,e,n)}),e("hasOwnMetadata",function(t,e,n){if(!A(e))throw new TypeError;C(n)||(n=T(n));return x(t,e,n)}),e("getMetadata",function(t,e,n){if(!A(e))throw new TypeError;C(n)||(n=T(n));return function t(e,n,r){var o=x(e,n,r);if(o)return E(e,n,r);var c=F(n);if(!P(c))return t(e,c,r);return}(t,e,n)}),e("getOwnMetadata",function(t,e,n){if(!A(e))throw new TypeError;C(n)||(n=T(n));return E(t,e,n)}),e("getMetadataKeys",function(t,e){if(!A(t))throw new TypeError;C(e)||(e=T(e));return function t(e,n){var r=j(e,n);var o=F(e);if(null===o)return r;var c=t(o,n);if(c.length<=0)return r;if(r.length<=0)return c;var f=new _;var l=[];for(var h=0,d=r;h<d.length;h++){var v=d[h],y=f.has(v);y||(f.add(v),l.push(v))}for(var m=0,w=c;m<w.length;m++){var v=w[m],y=f.has(v);y||(f.add(v),l.push(v))}return l}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!A(t))throw new TypeError;C(e)||(e=T(e));return j(t,e)}),e("deleteMetadata",function(t,e,n){if(!A(e))throw new TypeError;C(n)||(n=T(n));var r=k(e,n,!1);if(C(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=w.get(e);return o.delete(n),o.size>0||(w.delete(e),!0)})}(c)}()}(n||(n={}))}).call(this,n(86),n(28))},,,,,function(t,e,n){"use strict";var r=n(184);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}var l=function(t){return new Promise(function(e){return setTimeout(function(){return e()},t)})},h=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.collection=e,this.options=n,this.documents=[],this.criteria={limit:25,index:0,sort:{},filter:void 0},this.fetching=!1,this.subscribed=!1,this.kill=function(){};var c=!0;if(n){var f=n.multipleSelect,l=n.lazy;f&&(this.selectedId=[]),l&&(c=!1)}r.reaction(function(){return Object.assign({},o.criteria)},function(t){o.kill=o.subscribe(r.toJS(t))},{fireImmediately:c})}var e,n,f;return e=t,(n=[{key:"handleSubscriptionData",value:function(t){var e=this;this.subscribed||(this.subscribed=!0),this.documents=t,setTimeout(function(){e.fetching=!1},100)}},{key:"subscribeRequested",value:function(){this.fetching=!0}},{key:"subscribe",value:function(t){var e=this,n=t.limit,o=t.index,c=t.sort,filter=t.filter;this.subscribeRequested();var f=this.options;n=Number(n),o=Number(o);var l=f&&f.progressivePaging?n+n*o:n;return this.collection.find(filter).limit(l).sort(r.toJS(c)).$.subscribe(function(t){return e.handleSubscriptionData(t)}).unsubscribe}},{key:"select",value:function(t){"string"!=typeof this.selectedId&&this.selectedId&&this.options&&this.options.multipleSelect?this.selectedId.indexOf(t)<0?this.selectedId.push(t):this.selectedId.splice(this.selectedId.indexOf(t),1):this.selectedId=t}},{key:"edit",value:function(t){this.activeId=t}},{key:"ids",get:function(){return Object.keys(this.items)}},{key:"items",get:function(){var t=this;return Object.assign.apply(Object,[{}].concat(c(this.documents.map(function(e){return n={},r=e[t.primaryPath],o=e._data,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n;var n,r,o}))))}},{key:"selectedDoc",get:function(){var t=this;return this.documents.filter(function(e){return e[t.primaryPath]===t.selectedId})[0]}},{key:"editing",get:function(){var t=this;return this.documents.filter(function(e){return e[t.primaryPath]===t.activeId})[0]}},{key:"length",get:function(){return this.ids.length}},{key:"primaryPath",get:function(){return this.collection.schema.primaryPath||"_id"}},{key:"updates",get:function(){var t=this;return new Promise(function(e){r.reaction(function(){return t.fetching},function(n){return r=t,o=void 0,c=void 0,f=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return t.next=3,l(50);case 3:e();case 4:case"end":return t.stop()}},t,this)}),new(c||(c=Promise))(function(t,e){function n(t){try{h(f.next(t))}catch(t){e(t)}}function l(t){try{h(f.throw(t))}catch(t){e(t)}}function h(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(n,l)}h((f=f.apply(r,o||[])).next())});var r,o,c,f})})}}])&&o(e.prototype,n),f&&o(e,f),t}();f([r.observable],h.prototype,"documents",void 0),f([r.observable],h.prototype,"criteria",void 0),f([r.observable],h.prototype,"fetching",void 0),f([r.observable],h.prototype,"subscribed",void 0),f([r.observable],h.prototype,"selectedId",void 0),f([r.observable],h.prototype,"activeId",void 0),f([r.computed],h.prototype,"ids",null),f([r.computed],h.prototype,"items",null),f([r.computed],h.prototype,"selectedDoc",null),f([r.computed],h.prototype,"editing",null),f([r.computed],h.prototype,"length",null),f([r.action],h.prototype,"handleSubscriptionData",null),f([r.action],h.prototype,"subscribeRequested",null),f([r.action],h.prototype,"select",null),f([r.action],h.prototype,"edit",null),t.exports=h},,,function(t,e,n){var r=n(224),o=n(225),c=o;c.v1=r,c.v4=o,t.exports=c},function(t,e,n){var r,o,c=n(187),f=n(188),l=0,h=0;t.exports=function(t,e,n){var i=e&&n||0,b=e||[],d=(t=t||{}).node||r,v=void 0!==t.clockseq?t.clockseq:o;if(null==d||null==v){var y=c();null==d&&(d=r=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==v&&(v=o=16383&(y[6]<<8|y[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),_=void 0!==t.nsecs?t.nsecs:h+1,dt=m-l+(_-h)/1e4;if(dt<0&&void 0===t.clockseq&&(v=v+1&16383),(dt<0||m>l)&&void 0===t.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=m,h=_,o=v;var w=(1e4*(268435455&(m+=122192928e5))+_)%4294967296;b[i++]=w>>>24&255,b[i++]=w>>>16&255,b[i++]=w>>>8&255,b[i++]=255&w;var k=m/4294967296*1e4&268435455;b[i++]=k>>>8&255,b[i++]=255&k,b[i++]=k>>>24&15|16,b[i++]=k>>>16&255,b[i++]=v>>>8|128,b[i++]=255&v;for(var x=0;x<6;++x)b[i+x]=d[x];return e||f(b)}},function(t,e,n){var r=n(187),o=n(188);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var c=(t=t||{}).random||(t.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,e)for(var f=0;f<16;++f)e[i+f]=c[f];return e||o(c)}},,,,,function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=l(t),r=n[0],f=n[1],h=new c(function(t,e,n){return 3*(e+n)/4-n}(0,r,f)),d=0,v=f>0?r-4:r,i=0;i<v;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],h[d++]=e>>16&255,h[d++]=e>>8&255,h[d++]=255&e;2===f&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,h[d++]=255&e);1===f&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,h[d++]=e>>8&255,h[d++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,c=[],i=0,f=n-o;i<f;i+=16383)c.push(h(t,i,i+16383>f?f:i+16383));1===o?(e=t[n-1],c.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],c.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return c.join("")};for(var r=[],o=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,f=code.length;i<f;++i)r[i]=code[i],o[code.charCodeAt(i)]=i;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var o,c,output=[],i=e;i<n;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(r[(c=o)>>18&63]+r[c>>12&63]+r[c>>6&63]+r[63&c]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var c,f,l=8*o-r-1,h=(1<<l)-1,d=h>>1,v=-7,i=n?o-1:0,y=n?-1:1,s=t[e+i];for(i+=y,c=s&(1<<-v)-1,s>>=-v,v+=l;v>0;c=256*c+t[e+i],i+=y,v-=8);for(f=c&(1<<-v)-1,c>>=-v,v+=r;v>0;f=256*f+t[e+i],i+=y,v-=8);if(0===c)c=1-d;else{if(c===h)return f?NaN:1/0*(s?-1:1);f+=Math.pow(2,r),c-=d}return(s?-1:1)*f*Math.pow(2,c-r)},e.write=function(t,e,n,r,o,c){var f,l,h,d=8*c-o-1,v=(1<<d)-1,y=v>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=r?0:c-1,m=r?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,f=v):(f=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-f))<1&&(f--,h*=2),(e+=f+y>=1?rt/h:rt*Math.pow(2,1-y))*h>=2&&(f++,h/=2),f+y>=v?(l=0,f=v):f+y>=1?(l=(e*h-1)*Math.pow(2,o),f+=y):(l=e*Math.pow(2,y-1)*Math.pow(2,o),f=0));o>=8;t[n+i]=255&l,i+=m,l/=256,o-=8);for(f=f<<o|l,d+=o;d>0;t[n+i]=255&f,i+=m,f/=256,d-=8);t[n+i-m]|=128*s}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!(void 0===e||"object"!=typeof e.versions||!e.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}}).call(this,n(86))},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function o(object){return object&&"object"==typeof object&&"number"==typeof object.length&&Object.prototype.hasOwnProperty.call(object,"callee")&&!Object.prototype.propertyIsEnumerable.call(object,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e,n){var r=n(237),o=n(238),c=n(240),f=n(160),l=n(241),h=function(t){t=JSON.stringify(t);for(var pattern=/\[([^\[\]"]+)\]/;pattern.test(t);)t=t.replace(pattern,'."+$1+"');return t},d={any:function(){return"true"},null:function(t){return t+" === null"},boolean:function(t){return"typeof "+t+' === "boolean"'},array:function(t){return"Array.isArray("+t+")"},object:function(t){return"typeof "+t+' === "object" && '+t+" && !Array.isArray("+t+")"},number:function(t){return"typeof "+t+' === "number" && isFinite('+t+")"},integer:function(t){return"typeof "+t+' === "number" && (Math.floor('+t+") === "+t+" || "+t+" > 9007199254740992 || "+t+" < -9007199254740992)"},string:function(t){return"typeof "+t+' === "string"'}},v=function(t){for(var e=[],i=0;i<t.length;i++)e.push("object"==typeof t[i]?JSON.stringify(t[i]):t[i]);for(i=1;i<e.length;i++)if(e.indexOf(e[i])!==i)return!1;return!0},y=function(t,e){var n,r=(0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1;r>1?n=((0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1)>r||Math.round(r*t)%(r*e):n=t%e;return!n},m=function(t,e,n,_,w){var k=w?f(l,w.formats):l,x={unique:v,formats:k,isMultipleOf:y},E=!!w&&!!w.verbose,O=!(!w||void 0===w.greedy)&&w.greedy,j={},S=function(t){return t+(j[t]=(j[t]||0)+1)},C={},P=function(p){if(C[p])return C[p];var t=S("pattern");return x[t]=new RegExp(p),C[p]=t,t},A=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],R=function(){var t=A.shift();return A.push(t+t[0]),t},T=function(t,o,f,filter,v){var y=o.properties,_=o.type,j=!1;Array.isArray(o.items)&&(y={},o.items.forEach(function(t,i){y[i]=t}),_="array",j=!0);var C=0,A=function(e,n,r){D("errors++"),!0===f&&(D("if (validate.errors === null) validate.errors = []"),E?D("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",h(n||t),JSON.stringify(e),r||t,JSON.stringify(_),JSON.stringify(v)):D("validate.errors.push({field:%s,message:%s})",h(n||t),JSON.stringify(e)))};!0===o.required?(C++,D("if (%s === undefined) {",t),A("is required"),D("} else {")):(C++,D("if (%s !== undefined) {",t));var M=[].concat(_).map(function(e){if(e&&!d.hasOwnProperty(e))throw new Error("Unknown type: "+e);return d[e||"any"](t)}).join(" || ")||"true";if("true"!==M&&(C++,D("if (!(%s)) {",M),A("is the wrong type"),D("} else {")),j)if(!1===o.additionalItems)D("if (%s.length > %d) {",t,o.items.length),A("has additional items"),D("}");else if(o.additionalItems){var i=R();D("for (var %s = %d; %s < %s.length; %s++) {",i,o.items.length,i,t,i),T(t+"["+i+"]",o.additionalItems,f,filter,v.concat("additionalItems")),D("}")}if(o.format&&k[o.format]){"string"!==_&&l[o.format]&&D("if (%s) {",d.string(t));var B=S("format");x[B]=k[o.format],"function"==typeof x[B]?D("if (!%s(%s)) {",B,t):D("if (!%s.test(%s)) {",B,t),A("must be "+o.format+" format"),D("}"),"string"!==_&&l[o.format]&&D("}")}if(Array.isArray(o.required)){D("if ((%s)) {","object"!==_?d.object(t):"true"),D("var missing = 0"),o.required.map(function(e){var n=r(t,e);D("if (%s === undefined) {",n),A("is required",n),D("missing++"),D("}")}),D("}"),O||(D("if (missing === 0) {"),C++)}if(o.uniqueItems&&("array"!==_&&D("if (%s) {",d.array(t)),D("if (!(unique(%s))) {",t),A("must be unique"),D("}"),"array"!==_&&D("}")),o.enum){var L=o.enum.some(function(t){return"object"==typeof t})?function(e){return"JSON.stringify("+t+") !== JSON.stringify("+JSON.stringify(e)+")"}:function(e){return t+" !== "+JSON.stringify(e)};D("if (%s) {",o.enum.map(L).join(" && ")||"false"),A("must be an enum value"),D("}")}if(o.dependencies&&("object"!==_&&D("if (%s) {",d.object(t)),Object.keys(o.dependencies).forEach(function(e){var n=o.dependencies[e];"string"==typeof n&&(n=[n]);Array.isArray(n)&&(D("if (%s !== undefined && !(%s)) {",r(t,e),n.map(function(e){return r(t,e)+" !== undefined"}).join(" && ")||"true"),A("dependencies not set"),D("}")),"object"==typeof n&&(D("if (%s !== undefined) {",r(t,e)),T(t,n,f,filter,v.concat(["dependencies",e])),D("}"))}),"object"!==_&&D("}")),o.additionalProperties||!1===o.additionalProperties){"object"!==_&&D("if (%s) {",d.object(t));i=R();var I=S("keys"),N=Object.keys(y||{}).map(function(p){return I+"["+i+"] !== "+JSON.stringify(p)}).concat(Object.keys(o.patternProperties||{}).map(function(p){return"!"+P(p)+".test("+I+"["+i+"])"})).join(" && ")||"true";D("var %s = Object.keys(%s)",I,t)("for (var %s = 0; %s < %s.length; %s++) {",i,i,I,i)("if (%s) {",N),!1===o.additionalProperties?(filter&&D("delete %s",t+"["+I+"["+i+"]]"),A("has additional properties",null,JSON.stringify(t+".")+" + "+I+"["+i+"]")):T(t+"["+I+"["+i+"]]",o.additionalProperties,f,filter,v.concat(["additionalProperties"])),D("}")("}"),"object"!==_&&D("}")}if(o.$ref){var sub=function(t,e,n){var r=function(sub){return sub&&sub.id===n?sub:"object"==typeof sub&&sub?Object.keys(sub).reduce(function(t,e){return t||r(sub[e])},null):null},o=r(t);if(o)return o;n=(n=n.replace(/^#/,"")).replace(/\/$/,"");try{return c.get(t,decodeURI(n))}catch(t){var f,l=n.indexOf("#");if(0!==l)if(-1===l)f=e[n];else{f=e[n.slice(0,l)];var h=n.slice(l).replace(/^#/,"");try{return c.get(f,h)}catch(t){}}else f=e[n];return f||null}}(n,w&&w.schemas||{},o.$ref);if(sub){var F=e[o.$ref];F||(e[o.$ref]=function(data){return F(data)},F=m(sub,e,n,!1,w));B=S("ref");x[B]=F,D("if (!(%s(%s))) {",B,t),A("referenced schema does not match"),D("}")}}if(o.not){var U=S("prev");D("var %s = errors",U),T(t,o.not,!1,filter,v.concat("not")),D("if (%s === errors) {",U),A("negative schema matches"),D("} else {")("errors = %s",U)("}")}if(o.items&&!j){"array"!==_&&D("if (%s) {",d.array(t));i=R();D("for (var %s = 0; %s < %s.length; %s++) {",i,i,t,i),T(t+"["+i+"]",o.items,f,filter,v.concat("items")),D("}"),"array"!==_&&D("}")}if(o.patternProperties){"object"!==_&&D("if (%s) {",d.object(t));I=S("keys"),i=R();D("var %s = Object.keys(%s)",I,t)("for (var %s = 0; %s < %s.length; %s++) {",i,i,I,i),Object.keys(o.patternProperties).forEach(function(e){var p=P(e);D("if (%s.test(%s)) {",p,I+"["+i+"]"),T(t+"["+I+"["+i+"]]",o.patternProperties[e],f,filter,v.concat(["patternProperties",e])),D("}")}),D("}"),"object"!==_&&D("}")}if(o.pattern){var p=P(o.pattern);"string"!==_&&D("if (%s) {",d.string(t)),D("if (!(%s.test(%s))) {",p,t),A("pattern mismatch"),D("}"),"string"!==_&&D("}")}if(o.allOf&&o.allOf.forEach(function(e,n){T(t,e,f,filter,v.concat(["allOf",n]))}),o.anyOf&&o.anyOf.length){U=S("prev");o.anyOf.forEach(function(e,i){0===i?D("var %s = errors",U):D("if (errors !== %s) {",U)("errors = %s",U),T(t,e,!1,!1,v)}),o.anyOf.forEach(function(t,i){i&&D("}")}),D("if (%s !== errors) {",U),A("no schemas match"),D("}")}if(o.oneOf&&o.oneOf.length){U=S("prev");var $=S("passes");D("var %s = errors",U)("var %s = 0",$),o.oneOf.forEach(function(e,i){T(t,e,!1,!1,v),D("if (%s === errors) {",U)("%s++",$)("} else {")("errors = %s",U)("}")}),D("if (%s !== 1) {",$),A("no (or more than one) schemas match"),D("}")}for(void 0!==o.multipleOf&&("number"!==_&&"integer"!==_&&D("if (%s) {",d.number(t)),D("if (!isMultipleOf(%s, %d)) {",t,o.multipleOf),A("has a remainder"),D("}"),"number"!==_&&"integer"!==_&&D("}")),void 0!==o.maxProperties&&("object"!==_&&D("if (%s) {",d.object(t)),D("if (Object.keys(%s).length > %d) {",t,o.maxProperties),A("has more properties than allowed"),D("}"),"object"!==_&&D("}")),void 0!==o.minProperties&&("object"!==_&&D("if (%s) {",d.object(t)),D("if (Object.keys(%s).length < %d) {",t,o.minProperties),A("has less properties than allowed"),D("}"),"object"!==_&&D("}")),void 0!==o.maxItems&&("array"!==_&&D("if (%s) {",d.array(t)),D("if (%s.length > %d) {",t,o.maxItems),A("has more items than allowed"),D("}"),"array"!==_&&D("}")),void 0!==o.minItems&&("array"!==_&&D("if (%s) {",d.array(t)),D("if (%s.length < %d) {",t,o.minItems),A("has less items than allowed"),D("}"),"array"!==_&&D("}")),void 0!==o.maxLength&&("string"!==_&&D("if (%s) {",d.string(t)),D("if (%s.length > %d) {",t,o.maxLength),A("has longer length than allowed"),D("}"),"string"!==_&&D("}")),void 0!==o.minLength&&("string"!==_&&D("if (%s) {",d.string(t)),D("if (%s.length < %d) {",t,o.minLength),A("has less length than allowed"),D("}"),"string"!==_&&D("}")),void 0!==o.minimum&&("number"!==_&&"integer"!==_&&D("if (%s) {",d.number(t)),D("if (%s %s %d) {",t,o.exclusiveMinimum?"<=":"<",o.minimum),A("is less than minimum"),D("}"),"number"!==_&&"integer"!==_&&D("}")),void 0!==o.maximum&&("number"!==_&&"integer"!==_&&D("if (%s) {",d.number(t)),D("if (%s %s %d) {",t,o.exclusiveMaximum?">=":">",o.maximum),A("is more than maximum"),D("}"),"number"!==_&&"integer"!==_&&D("}")),y&&Object.keys(y).forEach(function(p){Array.isArray(_)&&-1!==_.indexOf("null")&&D("if (%s !== null) {",t),T(r(t,p),y[p],f,filter,v.concat(j?p:["properties",p])),Array.isArray(_)&&-1!==_.indexOf("null")&&D("}")});C--;)D("}")},D=o("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return T("data",t,_,w&&w.filter,[]),D("return errors === 0")("}"),(D=D.toFunction(x)).errors=null,Object.defineProperty&&Object.defineProperty(D,"error",{get:function(){return D.errors?D.errors.map(function(t){return t.field+" "+t.message}).join("\n"):""}}),D.toJSON=function(){return t},D};t.exports=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),m(t,{},t,!0,e)},t.exports.filter=function(e,n){var r=t.exports(e,f(n,{filter:!0}));return function(t){return r(t),t}}},function(t,e,n){var r=n(196),o=function(t,e){return r(e)?t+"."+e:t+"["+JSON.stringify(e)+"]"};o.valid=r,o.property=function(t){return r(t)?t:JSON.stringify(t)},t.exports=o},function(t,e,n){for(var r=n(169),o=n(196),c=/[\{\[]/,f=/[\}\]]/,l=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],h={},i=0;i<l.length;i++)h[l[i]]=!0;var d={s:function(s){return""+s},d:function(t){return""+Number(t)},o:function(t){return JSON.stringify(t)}},v=function(){var t=[],e=0,n={},l=function(n){for(var r="";r.length<2*e;)r+="  ";t.push(r+n)},v=function(line){return f.test(line.trim()[0])&&c.test(line[line.length-1])?(e--,l(line),void e++):c.test(line[line.length-1])?(l(line),void e++):f.test(line.trim()[0])?(e--,void l(line)):void l(line)},line=function(t){if(!t)return line;if(1===arguments.length&&t.indexOf("\n")>-1)for(var e=t.trim().split("\n"),i=0;i<e.length;i++)v(e[i].trim());else v(r.format.apply(r,arguments));return line};return line.scope={},line.formats=d,line.sym=function(t){return t&&function(t){return o(t)&&!h.hasOwnProperty(t)}(t)||(t="tmp"),n[t]||(n[t]=0),t+(n[t]++||"")},line.property=function(t,e){return 1===arguments.length&&(e=t,t=""),o(e+="")?t?t+"."+e:e:t?t+"["+JSON.stringify(e)+"]":JSON.stringify(e)},line.toString=function(){return t.join("\n")},line.toFunction=function(t){t||(t={});var e="return ("+line.toString()+")";Object.keys(line.scope).forEach(function(e){t[e]||(t[e]=line.scope[e])});var n=Object.keys(t).map(function(t){return t}),r=n.map(function(e){return t[e]});return Function.apply(null,n.concat(e)).apply(null,r)},arguments.length&&line.apply(null,arguments),line};v.formats=d,t.exports=v},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){var n=/~/,r=/~[01]/g;function o(t){switch(t){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+t)}function c(t){return n.test(t)?t.replace(r,o):t}function f(t){if("string"==typeof t){if(""===(t=t.split("/"))[0])return t;throw new Error("Invalid JSON pointer.")}if(Array.isArray(t))return t;throw new Error("Invalid JSON pointer.")}function l(t,e){if("object"!=typeof t)throw new Error("Invalid input object.");var n=(e=f(e)).length;if(1===n)return t;for(var p=1;p<n;){if(t=t[c(e[p++])],n===p)return t;if("object"!=typeof t)return}}function h(t,e,n){if("object"!=typeof t)throw new Error("Invalid input object.");if(0===(e=f(e)).length)throw new Error("Invalid JSON pointer for set.");return function(t,e,n){for(var r,o,p=1,f=e.length;p<f&&(r=c(e[p++]),o=f>p,void 0===t[r]&&(Array.isArray(t)&&"-"===r&&(r=t.length),o&&(""!==e[p]&&e[p]<1/0||"-"===e[p]?t[r]=[]:t[r]={})),o);)t=t[r];var l=t[r];return void 0===n?delete t[r]:t[r]=n,l}(t,e,n)}e.get=l,e.set=h,e.compile=function(t){var e=f(t);return{get:function(object){return l(object,e)},set:function(object,t){return h(object,e,t)}}}},function(t,e,n){var r=n(242),o=/\s/,c=/^[a-zA-Z0-9.-]+$/,f=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,l=/^\+[0-9][0-9 ]{5,27}[0-9]$/,h=/ {2}/,d=/ /g;e["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,e.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,e.time=/^\d{2}:\d{2}:\d{2}$/,e.email=function(input){return-1!==input.indexOf("@")&&!o.test(input)},e["ip-address"]=e.ipv4=r({version:4}),e.ipv6=r({version:6}),e.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,e.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,e.hostname=function(input){if(!c.test(input))return!1;for(var t=input.split("."),i=0;i<t.length;i++)if(!f.test(t[i]))return!1;return!0},e.alpha=/^[a-zA-Z]+$/,e.alphanumeric=/^[a-zA-Z0-9]+$/,e.style=/\s*(.+?):\s*([^;]+);?/g,e.phone=function(input){if(!l.test(input))return!1;if(h.test(input))return!1;var t=input.substring(1).replace(d,"").length;return t>=7&&t<=15},e["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},function(t,e){var n=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r=/\/\d{1,3}(?=%|$)/,o=/\//,c=/%.*$/,f=/([^0-9a-f:\/%])/i,l=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function h(input){if(!n.test(input))return!1;var t=input.split(".");if(4!==t.length)return!1;if("0"===t[0][0]&&t[0].length>1)return!1;if("0"===t[1][0]&&t[1].length>1)return!1;if("0"===t[2][0]&&t[2].length>1)return!1;if("0"===t[3][0]&&t[3].length>1)return!1;var e=Number(t[0]),r=Number(t[1]),o=Number(t[2]),c=Number(t[3]);return e>=0&&e<256&&r>=0&&r<256&&o>=0&&o<256&&c>=0&&c<256}function d(input){var t=input.replace(r,""),e=input.length!==t.length;if(e)return!1;if(!e&&o.test(input))return!1;var n=t.replace(c,""),d=n.lastIndexOf(":");if(-1===d)return!1;var address=h(n.substring(d+1))?n.substring(0,d+1)+"1234:5678":n;if(f.test(address))return!1;if(l.test(address))return!1;var v=address.split("::");if(v.length>2)return!1;if(2===v.length){var y=""===v[0]?[]:v[0].split(":"),m=""===v[1]?[]:v[1].split(":");if(8-(y.length+m.length)<=0)return!1}else if(8!==address.split(":").length)return!1;return!0}function v(input){return h(input)||d(input)}t.exports=function(t){if(t||(t={}),4===t.version)return h;if(6===t.version)return d;if(null==t.version)return v;throw new Error("Unknown version: "+t.version)},t.exports.__all_regexes__=[n,r,o,c,f,l]},,function(t,e,n){var r;t.exports=(r=n(151),n(245),n(246),n(247),n(250),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,o=[],c=[],f=[],l=[],h=[],d=[],v=[],y=[],m=[],_=[];!function(){for(var t=[],i=0;i<256;i++)t[i]=i<128?i<<1:i<<1^283;var e=0,n=0;for(i=0;i<256;i++){var r=n^n<<1^n<<2^n<<3^n<<4;r=r>>>8^255&r^99,o[e]=r,c[r]=e;var w=t[e],k=t[w],x=t[k],E=257*t[r]^16843008*r;f[e]=E<<24|E>>>8,l[e]=E<<16|E>>>16,h[e]=E<<8|E>>>24,d[e]=E,E=16843009*x^65537*k^257*w^16843008*e,v[r]=E<<24|E>>>8,y[r]=E<<16|E>>>16,m[r]=E<<8|E>>>24,_[r]=E,e?(e=w^t[t[t[x^w]]],n^=t[t[n]]):e=n=1}}();var w=[0,1,2,4,8,16,32,64,128,27,54],k=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),c=this._keySchedule=[],f=0;f<r;f++)if(f<n)c[f]=e[f];else{var l=c[f-1];f%n?n>6&&f%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=o[(l=l<<8|l>>>24)>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=w[f/n|0]<<24),c[f]=c[f-n]^l}for(var h=this._invKeySchedule=[],d=0;d<r;d++)f=r-d,l=d%4?c[f]:c[f-4],h[d]=d<4||f<=4?l:v[o[l>>>24]]^y[o[l>>>16&255]]^m[o[l>>>8&255]]^_[o[255&l]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,f,l,h,d,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,v,y,m,_,c),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,o,c,f,l){for(var h=this._nRounds,d=t[e]^n[0],v=t[e+1]^n[1],y=t[e+2]^n[2],m=t[e+3]^n[3],_=4,w=1;w<h;w++){var k=r[d>>>24]^o[v>>>16&255]^c[y>>>8&255]^f[255&m]^n[_++],x=r[v>>>24]^o[y>>>16&255]^c[m>>>8&255]^f[255&d]^n[_++],E=r[y>>>24]^o[m>>>16&255]^c[d>>>8&255]^f[255&v]^n[_++],O=r[m>>>24]^o[d>>>16&255]^c[v>>>8&255]^f[255&y]^n[_++];d=k,v=x,y=E,m=O}k=(l[d>>>24]<<24|l[v>>>16&255]<<16|l[y>>>8&255]<<8|l[255&m])^n[_++],x=(l[v>>>24]<<24|l[y>>>16&255]<<16|l[m>>>8&255]<<8|l[255&d])^n[_++],E=(l[y>>>24]<<24|l[m>>>16&255]<<16|l[d>>>8&255]<<8|l[255&v])^n[_++],O=(l[m>>>24]<<24|l[d>>>16&255]<<16|l[v>>>8&255]<<8|l[255&y])^n[_++],t[e]=k,t[e+1]=x,t[e+2]=E,t[e+3]=O},keySize:8});t.AES=e._createHelper(k)}(),r.AES)},function(t,e,n){var r,o,c;t.exports=(r=n(151),c=(o=r).lib.WordArray,o.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,map=this._map;t.clamp();for(var r=[],i=0;i<n;i+=3)for(var o=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,c=0;c<4&&i+.75*c<n;c++)r.push(map.charAt(o>>>6*(3-c)&63));var f=map.charAt(64);if(f)for(;r.length%4;)r.push(f);return r.join("")},parse:function(t){var e=t.length,map=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var r=0;r<map.length;r++)n[map.charCodeAt(r)]=r}var o=map.charAt(64);if(o){var f=t.indexOf(o);-1!==f&&(e=f)}return function(t,e,n){for(var r=[],o=0,i=0;i<e;i++)if(i%4){var f=n[t.charCodeAt(i-1)]<<i%4*2,l=n[t.charCodeAt(i)]>>>6-i%4*2;r[o>>>2]|=(f|l)<<24-o%4*8,o++}return c.create(r,o)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},function(t,e,n){var r;t.exports=(r=n(151),function(t){var e=r,n=e.lib,o=n.WordArray,c=n.Hasher,f=e.algo,l=[];!function(){for(var i=0;i<64;i++)l[i]=4294967296*t.abs(t.sin(i+1))|0}();var h=f.MD5=c.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,r=t[n];t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,c=t[e+0],f=t[e+1],h=t[e+2],_=t[e+3],w=t[e+4],k=t[e+5],x=t[e+6],E=t[e+7],O=t[e+8],j=t[e+9],S=t[e+10],C=t[e+11],P=t[e+12],A=t[e+13],R=t[e+14],T=t[e+15],a=o[0],b=o[1],D=o[2],M=o[3];a=d(a,b,D,M,c,7,l[0]),M=d(M,a,b,D,f,12,l[1]),D=d(D,M,a,b,h,17,l[2]),b=d(b,D,M,a,_,22,l[3]),a=d(a,b,D,M,w,7,l[4]),M=d(M,a,b,D,k,12,l[5]),D=d(D,M,a,b,x,17,l[6]),b=d(b,D,M,a,E,22,l[7]),a=d(a,b,D,M,O,7,l[8]),M=d(M,a,b,D,j,12,l[9]),D=d(D,M,a,b,S,17,l[10]),b=d(b,D,M,a,C,22,l[11]),a=d(a,b,D,M,P,7,l[12]),M=d(M,a,b,D,A,12,l[13]),D=d(D,M,a,b,R,17,l[14]),a=v(a,b=d(b,D,M,a,T,22,l[15]),D,M,f,5,l[16]),M=v(M,a,b,D,x,9,l[17]),D=v(D,M,a,b,C,14,l[18]),b=v(b,D,M,a,c,20,l[19]),a=v(a,b,D,M,k,5,l[20]),M=v(M,a,b,D,S,9,l[21]),D=v(D,M,a,b,T,14,l[22]),b=v(b,D,M,a,w,20,l[23]),a=v(a,b,D,M,j,5,l[24]),M=v(M,a,b,D,R,9,l[25]),D=v(D,M,a,b,_,14,l[26]),b=v(b,D,M,a,O,20,l[27]),a=v(a,b,D,M,A,5,l[28]),M=v(M,a,b,D,h,9,l[29]),D=v(D,M,a,b,E,14,l[30]),a=y(a,b=v(b,D,M,a,P,20,l[31]),D,M,k,4,l[32]),M=y(M,a,b,D,O,11,l[33]),D=y(D,M,a,b,C,16,l[34]),b=y(b,D,M,a,R,23,l[35]),a=y(a,b,D,M,f,4,l[36]),M=y(M,a,b,D,w,11,l[37]),D=y(D,M,a,b,E,16,l[38]),b=y(b,D,M,a,S,23,l[39]),a=y(a,b,D,M,A,4,l[40]),M=y(M,a,b,D,c,11,l[41]),D=y(D,M,a,b,_,16,l[42]),b=y(b,D,M,a,x,23,l[43]),a=y(a,b,D,M,j,4,l[44]),M=y(M,a,b,D,P,11,l[45]),D=y(D,M,a,b,T,16,l[46]),a=m(a,b=y(b,D,M,a,h,23,l[47]),D,M,c,6,l[48]),M=m(M,a,b,D,E,10,l[49]),D=m(D,M,a,b,R,15,l[50]),b=m(b,D,M,a,k,21,l[51]),a=m(a,b,D,M,P,6,l[52]),M=m(M,a,b,D,_,10,l[53]),D=m(D,M,a,b,S,15,l[54]),b=m(b,D,M,a,f,21,l[55]),a=m(a,b,D,M,O,6,l[56]),M=m(M,a,b,D,T,10,l[57]),D=m(D,M,a,b,x,15,l[58]),b=m(b,D,M,a,A,21,l[59]),a=m(a,b,D,M,w,6,l[60]),M=m(M,a,b,D,C,10,l[61]),D=m(D,M,a,b,h,15,l[62]),b=m(b,D,M,a,j,21,l[63]),o[0]=o[0]+a|0,o[1]=o[1]+b|0,o[2]=o[2]+D|0,o[3]=o[3]+M|0},_doFinalize:function(){var data=this._data,e=data.words,n=8*this._nDataBytes,r=8*data.sigBytes;e[r>>>5]|=128<<24-r%32;var o=t.floor(n/4294967296),c=n;e[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e[14+(r+64>>>9<<4)]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),data.sigBytes=4*(e.length+1),this._process();for(var f=this._hash,l=f.words,i=0;i<4;i++){var h=l[i];l[i]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return f},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}});function d(a,b,t,e,n,s,r){var o=a+(b&t|~b&e)+n+r;return(o<<s|o>>>32-s)+b}function v(a,b,t,e,n,s,r){var o=a+(b&e|t&~e)+n+r;return(o<<s|o>>>32-s)+b}function y(a,b,t,e,n,s,r){var o=a+(b^t^e)+n+r;return(o<<s|o>>>32-s)+b}function m(a,b,t,e,n,s,r){var o=a+(t^(b|~e))+n+r;return(o<<s|o>>>32-s)+b}e.MD5=c._createHelper(h),e.HmacMD5=c._createHmacHelper(h)}(Math),r.MD5)},function(t,e,n){var r,o,c,f,l,h,d,v;t.exports=(r=n(151),n(248),n(249),c=(o=r).lib,f=c.Base,l=c.WordArray,h=o.algo,d=h.MD5,v=h.EvpKDF=f.extend({cfg:f.extend({keySize:4,hasher:d,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),o=l.create(),c=o.words,f=n.keySize,h=n.iterations;c.length<f;){d&&r.update(d);var d=r.update(t).finalize(e);r.reset();for(var i=1;i<h;i++)d=r.finalize(d),r.reset();o.concat(d)}return o.sigBytes=4*f,o}}),o.EvpKDF=function(t,e,n){return v.create(n).compute(t,e)},r.EvpKDF)},function(t,e,n){var r,o,c,f,l,h,d,v;t.exports=(r=n(151),c=(o=r).lib,f=c.WordArray,l=c.Hasher,h=o.algo,d=[],v=h.SHA1=l.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,a=n[0],b=n[1],r=n[2],o=n[3],c=n[4],i=0;i<80;i++){if(i<16)d[i]=0|t[e+i];else{var f=d[i-3]^d[i-8]^d[i-14]^d[i-16];d[i]=f<<1|f>>>31}var l=(a<<5|a>>>27)+c+d[i];l+=i<20?1518500249+(b&r|~b&o):i<40?1859775393+(b^r^o):i<60?(b&r|b&o|r&o)-1894007588:(b^r^o)-899497514,c=o,o=r,r=b<<30|b>>>2,b=a,a=l}n[0]=n[0]+a|0,n[1]=n[1]+b|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+c|0},_doFinalize:function(){var data=this._data,t=data.words,e=8*this._nDataBytes,n=8*data.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(e/4294967296),t[15+(n+64>>>9<<4)]=e,data.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t}}),o.SHA1=l._createHelper(v),o.HmacSHA1=l._createHmacHelper(v),r.SHA1)},function(t,e,n){var r,o,c,f,l,h,d;t.exports=(r=n(151),c=(o=r).lib,f=c.Base,l=o.enc,h=l.Utf8,d=o.algo,void(d.HMAC=f.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=h.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),c=this._iKey=e.clone(),f=o.words,l=c.words,i=0;i<n;i++)f[i]^=1549556828,l[i]^=909522486;o.sigBytes=c.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);e.reset();var r=e.finalize(this._oKey.clone().concat(n));return r}})))},function(t,e,n){var r;t.exports=(r=n(151),void(r.lib.Cipher||function(t){var e=r,n=e.lib,o=n.Base,c=n.WordArray,f=n.BufferedBlockAlgorithm,l=e.enc,h=(l.Utf8,l.Base64),d=e.algo,v=d.EvpKDF,y=n.Cipher=f.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?A:S}return function(e){return{encrypt:function(n,r,o){return t(r).encrypt(e,n,r,o)},decrypt:function(n,r,o){return t(r).decrypt(e,n,r,o)}}}}()}),m=(n.StreamCipher=y.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),e.mode={}),_=n.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),w=m.CBC=function(){var e=_.extend();function n(e,n,r){var o=this._iv;if(o){var c=o;this._iv=t}else var c=this._prevBlock;for(var i=0;i<r;i++)e[n+i]^=c[i]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize;n.call(this,t,e,o),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+o)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize,c=t.slice(e,e+o);r.decryptBlock(t,e),n.call(this,t,e,o),this._prevBlock=c}}),e}(),k=e.pad={},x=k.Pkcs7={pad:function(data,t){for(var e=4*t,n=e-data.sigBytes%e,r=n<<24|n<<16|n<<8|n,o=[],i=0;i<n;i+=4)o.push(r);var f=c.create(o,n);data.concat(f)},unpad:function(data){var t=255&data.words[data.sigBytes-1>>>2];data.sigBytes-=t}},E=(n.BlockCipher=y.extend({cfg:y.cfg.extend({mode:w,padding:x}),reset:function(){y.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),n.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),O=e.format={},j=O.OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=c.create([1398893684,1701076831]).concat(n).concat(e);else var r=e;return r.toString(h)},parse:function(t){var e=h.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=c.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return E.create({ciphertext:e,salt:r})}},S=n.SerializableCipher=o.extend({cfg:o.extend({format:j}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var o=t.createEncryptor(n,r),c=o.finalize(e),f=o.cfg;return E.create({ciphertext:c,key:n,iv:f.iv,algorithm:t,mode:f.mode,padding:f.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var o=t.createDecryptor(n,r).finalize(e.ciphertext);return o},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),C=e.kdf={},P=C.OpenSSL={execute:function(t,e,n,r){r||(r=c.random(8));var o=v.create({keySize:e+n}).compute(t,r),f=c.create(o.words.slice(e),4*n);return o.sigBytes=4*e,E.create({key:o,iv:f,salt:r})}},A=n.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:P}),encrypt:function(t,e,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=o.iv;var c=S.encrypt.call(this,t,e,o.key,r);return c.mixIn(o),c},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var o=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);r.iv=o.iv;var c=S.decrypt.call(this,t,e,o.key,r);return c}})}()))},function(t,e,n){var r;t.exports=(r=n(151),r.enc.Utf8)},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o=r(n(191)),c=r(n(178)),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},h=function(t,e){Object.keys(t).forEach(function(n){e(t[n],n)})},d=function(t){return!!("undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t&&t.$Uint8ArrayPolyfill)},v=function(t){return Array.isArray(t)},y=h,m=function(t){return v(t)&&!d(t)},_=function(t){return!!t&&("number"!=typeof t&&("string"!=typeof t&&("boolean"!=typeof t&&(!m(t)&&(null!==t&&(!(t instanceof RegExp)&&("function"!=typeof t&&(!(t instanceof Date)&&!d(t)))))))))},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&e.field&&(t+=" for field '"+e.field+"'");var n=new Error(t);return n.name="ModifyJsError",n},k=function(t,e){return t.every(function(t){return e&&e(t)||t})},x=h,E=function(t){return Object.keys(t)},O=function(t){return"object"===(void 0===t?"undefined":f(t))&&null!==t},j=function(t,e,n){if(n=n||{},!_(e))throw w("Modifier must be an object");var r;if(function(t,e){if(!_(t))return!1;var n=void 0;return y(t,function(r,o){var c="$"===o.substr(0,1);if(void 0===n)n=c;else if(n!==c){if(!e)throw new Error("Inconsistent operator: "+JSON.stringify(t));n=!1}}),!!n}(e=o(e))?(r=o(t),x(e,function(t,e){var o=P[e];if(!o)throw w("Invalid modifier specified "+e);x(t,function(t,c){if(""===c)throw w("An empty update path is not valid.");var f=c.split(".");if(!k(f))throw w("The update path '"+c+"' contains an empty field name, which is not allowed.");var l=S(r,f,{noCreate:C[e],forbidArray:"$rename"===e,arrayIndices:n.arrayIndices}),h=f.pop();o(l,h,t,c,r)})})):r=e,n.returnInsteadOfReplacing)return r;x(E(t),function(e){"_id"!==e&&delete t[e]}),x(r,function(e,n){t[n]=e})},S=function(t,e,n){n=n||{};for(var r,o=!1,i=0;i<e.length;i++){var c=i===e.length-1,l=e[i];if(!(m(r=t)||_(r))){if(n.noCreate)return;var h=w("cannot use the part '"+l+"' to traverse "+t);throw h.setPropertyError=!0,h}if(t instanceof Array){if(n.forbidArray)return null;if("$"===l){if(o)throw w("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw w("The positional operator did not find the match needed from the query");l=n.arrayIndices[0],o=!0}else{if(!/^[0-9]+$/.test(l)){if(n.noCreate)return;throw w("can't append to array using string field name ["+l+"]")}l=parseInt(l)}if(c&&(e[i]=l),n.noCreate&&l>=t.length)return;for(;t.length<l;)t.push(null);if(!c)if(t.length===l)t.push({});else if("object"!==f(t[l]))throw w("can't modify field '"+e[i+1]+"' of list value "+JSON.stringify(t[l]))}else if(!(l in t)){if(n.noCreate)return;c||(t[l]={})}if(c)return t;t=t[l]}},C={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},P={$currentDate:function(t,e,n){if("object"===(void 0===n?"undefined":f(n))&&n.hasOwnProperty("$type")){if("date"!==n.$type)throw w("Minimongo does currently only support the date type in $currentDate modifiers",{field:e})}else if(!0!==n)throw w("Invalid $currentDate modifier",{field:e});t[e]=new Date},$min:function(t,e,n){if("number"!=typeof n)throw w("Modifier $min allowed for numbers only",{field:e});if(e in t){if("number"!=typeof t[e])throw w("Cannot apply $min modifier to non-number",{field:e});t[e]>n&&(t[e]=n)}else t[e]=n},$max:function(t,e,n){if("number"!=typeof n)throw w("Modifier $max allowed for numbers only",{field:e});if(e in t){if("number"!=typeof t[e])throw w("Cannot apply $max modifier to non-number",{field:e});t[e]<n&&(t[e]=n)}else t[e]=n},$inc:function(t,e,n){if("number"!=typeof n)throw w("Modifier $inc allowed for numbers only",{field:e});if(e in t){if("number"!=typeof t[e])throw w("Cannot apply $inc modifier to non-number",{field:e});t[e]+=n}else t[e]=n},$set:function(t,e,n){var r;if(!O(t))throw(r=w("Cannot set property on non-object field",{field:e})).setPropertyError=!0,r;if(null===t)throw(r=w("Cannot set property on null",{field:e})).setPropertyError=!0,r;t[e]=n},$setOnInsert:function(t,e,n){},$unset:function(t,e,n){void 0!==t&&(t instanceof Array?e in t&&(t[e]=null):delete t[e])},$push:function(t,e,n){if(void 0===t[e]&&(t[e]=[]),!(t[e]instanceof Array))throw w("Cannot apply $push modifier to non-array",{field:e});if(n&&n.$each){var r=n.$each;if(!(r instanceof Array))throw w("$each must be an array",{field:e});var o=void 0;if("$position"in n){if("number"!=typeof n.$position)throw w("$position must be a numeric value",{field:e});if(n.$position<0)throw w("$position in $push must be zero or positive",{field:e});o=n.$position}var c=void 0;if("$slice"in n){if("number"!=typeof n.$slice)throw w("$slice must be a numeric value",{field:e});if(n.$slice>0)throw w("$slice in $push must be zero or negative",{field:e});c=n.$slice}if(n.$sort)throw w("$sort in $push not implemented yet");if(void 0===o)for(var f=0;f<r.length;f++)t[e].push(r[f]);else{var l=[o,0];for(f=0;f<r.length;f++)l.push(r[f]);Array.prototype.splice.apply(t[e],l)}void 0,void 0!==c&&(t[e]=0===c?[]:t[e].slice(c))}else t[e].push(n)},$pushAll:function(t,e,n){if(!("object"===(void 0===n?"undefined":f(n))&&n instanceof Array))throw w("Modifier $pushAll/pullAll allowed for arrays only");var r=t[e];if(void 0===r)t[e]=n;else{if(!(r instanceof Array))throw w("Cannot apply $pushAll modifier to non-array",{field:e});for(var i=0;i<n.length;i++)r.push(n[i])}},$addToSet:function(t,e,n){var r=!1;"object"===(void 0===n?"undefined":f(n))&&("$each"===Object.keys(n)[0]&&(r=!0));var o=r?n.$each:[n],l=t[e];if(void 0===l)t[e]=o;else{if(!(l instanceof Array))throw w("Cannot apply $addToSet modifier to non-array",{field:e});x(o,function(t){for(var i=0;i<l.length;i++)if(c(t,l[i]))return;l.push(t)})}},$pop:function(t,e,n){if(void 0!==t){var r=t[e];if(void 0!==r){if(!(r instanceof Array))throw w("Cannot apply $pop modifier to non-array",{field:e});"number"==typeof n&&n<0?r.splice(0,1):r.pop()}}},$pull:function(t,e,n){if(void 0!==t){var r=t[e];if(void 0!==r)throw r instanceof Array?w("$pull not implemented yet"):w("Cannot apply $pull/pullAll modifier to non-array",{field:e})}},$pullAll:function(t,e,n){if(!("object"===(void 0===n?"undefined":f(n))&&n instanceof Array))throw w("Modifier $pushAll/pullAll allowed for arrays only",{field:e});if(void 0!==t){var r=t[e];if(void 0!==r){if(!(r instanceof Array))throw w("Cannot apply $pull/pullAll modifier to non-array",{field:e});for(var o=[],i=0;i<r.length;i++){for(var l=!1,h=0;h<n.length;h++)if(c(r[i],n[h])){l=!0;break}l||o.push(r[i])}t[e]=o}}},$rename:function(t,e,n,r,o){if(r===n)throw w("$rename source must differ from target",{field:e});if(null===t)throw w("$rename source field invalid",{field:e});if("string"!=typeof n)throw w("$rename target must be a string",{field:e});if(n.indexOf("\0")>-1)throw w("The 'to' field for $rename cannot contain an embedded null byte",{field:e});if(void 0!==t){var c=t[e];delete t[e];var f=n.split("."),l=S(o,f,{forbidArray:!0});if(null===l)throw w("$rename target field invalid",{field:e});l[f.pop()]=c}},$bit:function(t,e,n){throw w("$bit is not supported",{field:e})}};t.exports=function(t,e,n){if(!n||!n.each)return j(t,e,l({},n,{returnInsteadOfReplacing:!0}))}},,function(t,e,n){"use strict";(function(t){var r=n(143),o=n.n(r),c=n(144),f=n.n(c),l=n(195),h=n(152),d=n(138),v=n(139);function y(t){if(!t.collection.schema.jsonID.attachments)throw v.a.newRxError("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}function m(t){return t.collection.pouch.get(t.primary).then(function(e){var data=t.collection._handleFromPouch(e),n=h.a.create("UPDATE",t.collection.database,t.collection,t,data);t.$emit(n)})}var _={createBlobBuffer:function(data,e){var n;if(d.g)return t.from(data,{type:e});try{n=new Blob([data],{type:e})}catch(r){n=t.from(data,{type:e})}return n},toString:function(e){return e instanceof t?Object(d.i)().then(function(){return e.toString()}):new Promise(function(t){var n=new FileReader;n.addEventListener("loadend",function(e){var text=e.target.result;t(text)}),n.readAsText(e)})}},w=function(t){Object.entries(t.doc.collection._attachments).forEach(function(e){var n=e[0],r=e[1];return t.__defineGetter__(n,function(){return r.bind(t)})})},k=function(){function t(t){var e=t.doc,n=t.id,r=t.type,o=t.length,c=t.digest,f=t.rev;this.doc=e,this.id=n,this.type=r,this.length=o,this.digest=c,this.rev=f,w(this)}var e=t.prototype;return e.remove=function(){var t=f()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.doc.collection.pouch.removeAttachment(this.doc.primary,this.id,this.doc._data._rev);case 2:return t.next=4,m(this.doc);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.getData=function(){var t=f()(o.a.mark(function t(){var data,e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.doc.collection.pouch.getAttachment(this.doc.primary,this.id);case 2:if(data=t.sent,!x(this.doc)){t.next=8;break}return t.next=6,_.toString(data);case 6:e=t.sent,data=_.createBlobBuffer(this.doc.collection._crypter._decryptValue(e),this.type);case 8:return t.abrupt("return",data);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.getStringData=function(){var t=f()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getData();case 2:return e=t.sent,t.next=5,_.toString(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function x(t){return!!t.collection.schema.jsonID.attachments.encrypted}function E(t){var e=this,n=t.id,data=t.data,r=t.type,o=void 0===r?"text/plain":r;y(this),x(this)&&(data=this.collection._crypter._encryptValue(data));var c=_.createBlobBuffer(data,o);return this._atomicQueue=this._atomicQueue.then(function(){return e.collection.pouch.putAttachment(e.primary,n,e._data._rev,c,o)}).then(function(){return e.collection.pouch.get(e.primary)}).then(function(t){var r=t._attachments[n],o=k.fromPouchDocument(n,r,e);return e._data._rev=t._rev,e._data._attachments=t._attachments,m(e).then(function(){return o})}),this._atomicQueue}function O(t){y(this);var e=this._dataSync$.getValue();if(!e._attachments||!e._attachments[t])return null;var n=e._attachments[t];return k.fromPouchDocument(t,n,this)}function j(){var t=this;y(this);var e=this._dataSync$.getValue();return Object.keys(e._attachments).map(function(n){return k.fromPouchDocument(n,e._attachments[n],t)})}function S(){return(S=f()(o.a.mark(function t(e){var n,r,c,f,l,data,h;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.oldCollection.schema.primaryPath,r=e.doc._attachments){t.next=4;break}return t.abrupt("return",e);case 4:t.t0=o.a.keys(r);case 5:if((t.t1=t.t0()).done){t.next=21;break}return c=t.t1.value,f=r[c],l=e.doc[n],t.next=11,e.oldCollection.pouchdb.getAttachment(l,c);case 11:return data=t.sent,t.next=14,_.toString(data);case 14:return data=t.sent,t.next=17,e.newestCollection.pouch.putAttachment(l,c,e.res.rev,_.createBlobBuffer(data,f.content_type),f.content_type);case 17:h=t.sent,e.res=h,t.next=5;break;case 21:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}k.fromPouchDocument=function(t,e,n){return new k({doc:n,id:t,type:e.content_type,length:e.length,digest:e.digest,rev:e.revpos})};var C={RxDocument:function(t){t.putAttachment=E,t.getAttachment=O,t.allAttachments=j,Object.defineProperty(t,"allAttachments$",{get:function(){var t=this;return this._dataSync$.pipe(Object(l.a)(function(data){return data._attachments?data._attachments:{}}),Object(l.a)(function(t){return Object.entries(t)}),Object(l.a)(function(e){return e.map(function(e){var n=e[0],r=e[1];return k.fromPouchDocument(n,r,t)})}))}})}},P={preMigrateDocument:function(t){return delete t.migrated._attachments,t},postMigrateDocument:function(t){return S.apply(this,arguments)}};e.a={rxdb:!0,prototypes:C,overwritable:{},hooks:P,blobBufferUtil:_}}).call(this,n(142).Buffer)},,,function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(6),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var o=n(5);o.inherits=n(2);var s=n(22),a=n(13);o.inherits(l,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];l.prototype[f]||(l.prototype[f]=a.prototype[f])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";(function(t){var r=n(37),i=n(38),o=n(39);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function g(t,e,n,r){return V(U(e,t.length-n),t,n,r)}function b(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function k(t,e,n,r){return V($(e),t,n,r)}function x(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(t){var e=t.length;if(e<=j)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=j));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),f=t.slice(e,n),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return g(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return o||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function I(t,e,n,r,o){return o||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return I(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return I(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(0))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=a(h);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(4))},function(t,e,n){var r=n(3),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){var r=n(16)(Object,"create");t.exports=r},function(t,e,n){var r=n(31);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(96);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(e=t.exports=n(22)).Stream=e,e.Readable=e,e.Writable=n(13),e.Duplex=n(1),e.Transform=n(27),e.PassThrough=n(45)},function(t,e,n){"use strict";(function(e,r,i){var o=n(6);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=_;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;_.WritableState=m;var c=n(5);c.inherits=n(2);var f,l={deprecate:n(44)},h=n(23),p=n(7).Buffer,d=i.Uint8Array||function(){},v=n(24);function y(){}function m(t,e){a=a||n(1),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,i);else{var s=k(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?u(b,t,n,s,i):b(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function _(t){if(a=a||n(1),!(f.call(_,this)||this instanceof a))return new _(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function g(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,g(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,f=n.encoding,l=n.callback;if(g(t,e,!1,e.objectMode?1:c.length,c,f,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)})}function E(t,e){var n=k(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(_,h),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===_&&t&&t._writableState instanceof m}})):f=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,n){var r=this._writableState,i=!1,s=!r.objectMode&&function(t){return p.isBuffer(t)||t instanceof d}(t);return s&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,r,t,n))&&(r.pendingcb++,i=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else g(t,e,!1,a,r,i,o);return u}(this,r,s,t,e,n)),i},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=v.destroy,_.prototype._undestroy=v.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(4),n(25).setImmediate,n(0))},function(t,e,n){(function(e,n,r){t.exports=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){return i(e[s][1][t]||t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,n,r){"use strict";var i;try{throw new Error}catch(t){i=t}var o=t("./schedule"),s=t("./queue"),a=t("./util");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function c(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function f(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function l(t){this._normalQueue._pushOne(t),this._queueTick()}u.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},u.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.hasDevTools?(u.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},u.prototype.invoke=function(t,e,n){this._trampolineEnabled?f.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},u.prototype.settlePromises=function(t){this._trampolineEnabled?l.call(this,t):this._schedule(function(){t._settlePromises()})}):(u.prototype.invokeLater=c,u.prototype.invoke=f,u.prototype.settlePromises=l),u.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},u.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},n.exports=u,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),f=new t(e);f._propagateFrom(this,1);var l=this._target();if(f._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:f,target:l,bindingPromise:c};l._then(e,s,void 0,f,h),c._then(a,u,void 0,f,h),f._setOnCancel(c)}else f._resolveCallback(l);return f},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var n=t("./util"),r=n.canEvaluate;function i(t){return function(t,r){var i;if(null!=t&&(i=t[r]),"function"!=typeof i){var o="Object "+n.classString(t)+" has no method '"+n.toString(r)+"'";throw new e.TypeError(o)}return i}(t,this.pop()).apply(t,this)}function o(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}n.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=s;else if(r){var n=(void 0)(t);e=null!==n?n:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(t,s,a){return function(u){var c=a._boundValue();t:for(var f=0;f<t.length;++f){var l=t[f];if(l===Error||null!=l&&l.prototype instanceof Error){if(u instanceof l)return i(s).call(c,u)}else if("function"==typeof l){var h=i(l).call(c,u);if(h===o)return h;if(h)return i(s).call(c,u)}else if(n.isObject(u)){for(var p=r(l),d=0;d<p.length;++d){var v=p[d];if(l[v]!=u[v])continue t}return i(s).call(c,u)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=function(){if(e)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){var i,o,s,a=n._getDomain,u=n._async,c=t("./errors").Warning,f=t("./util"),l=f.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,y=null,m=!1,_=!(0==f.env("BLUEBIRD_DEBUG")),g=!(0==f.env("BLUEBIRD_WARNINGS")||!_&&!f.env("BLUEBIRD_WARNINGS")),b=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(g||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){q("rejectionHandled",i,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),q("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return F(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=a();o="function"==typeof t?null===e?t:f.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=a();i="function"==typeof t?null===e?t:f.domainBind(e,t):void 0};var k=function(){};n.longStackTraces=function(){if(u.haveItemsQueued()&&!G.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!G.longStackTraces&&H()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;G.longStackTraces=!0,k=function(){if(u.haveItemsQueued()&&!G.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),u.enableTrampoline(),G.longStackTraces=!1},n.prototype._captureStackTrace=I,n.prototype._attachExtraTrace=N,r.activateLongStackTraces(),u.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return G.longStackTraces&&H()};var x=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!f.global.dispatchEvent(n)}}return"function"==typeof Event?(t=new Event("CustomEvent"),f.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!f.global.dispatchEvent(n)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!f.global.dispatchEvent(n)})}catch(t){}return function(){return!1}}(),E=f.isNode?function(){return e.emit.apply(e,arguments)}:f.global?function(t){var e="on"+t.toLowerCase(),n=f.global[e];return!!n&&(n.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function O(t,e){return{promise:e}}var j={promiseCreated:O,promiseFulfilled:O,promiseRejected:O,promiseResolved:O,promiseCancelled:O,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:O},S=function(t){var e=!1;try{e=E.apply(null,arguments)}catch(t){u.throwLater(t),e=!0}var n=!1;try{n=x(t,j[t].apply(null,arguments))}catch(t){u.throwLater(t),n=!0}return n||e};function C(){return!1}function P(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+f.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function A(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?f.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function R(){return this._onCancelField}function T(t){this._onCancelField=t}function D(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}n.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&k()),"warnings"in t){var e=t.warnings;G.warnings=!!e,w=G.warnings,f.isObject(e)&&"wForgottenReturn"in e&&(w=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!G.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=D,n.prototype._propagateFrom=M,n.prototype._onCancel=R,n.prototype._setOnCancel=T,n.prototype._attachCancellationCallback=A,n.prototype._execute=P,B=M,G.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!G.monitoring?(G.monitoring=!0,n.prototype._fireEvent=S):!t.monitoring&&G.monitoring&&(G.monitoring=!1,n.prototype._fireEvent=C)),n},n.prototype._fireEvent=C,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var B=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function L(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function I(){this._trace=new J(this._peekContext())}function N(t,e){if(l(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=$(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"__stackCleaned__",!0)}}}function F(t,e,r){if(G.warnings){var i,o=new c(t);if(e)r._attachExtraTrace(o);else if(G.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=$(o);o.stack=s.message+"\n"+s.stack.join("\n")}S("warning",o)||V(o,"",!0)}}function U(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||v.test(r),o=i&&W(r);i&&!o&&(m&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function $(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||v.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:U(e)}}function V(t,e,n){if("undefined"!=typeof console){var r;if(f.isObject(t)){var i=t.stack;r=e+y(i,t)}else r=e+String(t);"function"==typeof s?s(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function q(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){u.throwLater(t)}"unhandledRejection"===t?S(t,n,r)||i||V(n,"Unhandled rejection "):S(t,r)}function z(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function H(){return"function"==typeof Q}var W=function(){return!1},K=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Y(t){var e=t.match(K);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function J(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);Q(this,J),e>32&&this.uncycle()}f.inherits(J,Error),r.CapturedTrace=J,J.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;for(r=(t=this._length=r)-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var s=n[e[r].stack];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var a=r>0?e[r-1]:this;s<t-1?(a._parent=e[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var u=a._length+1,c=r-2;c>=0;--c)e[c]._length=u,u++;return}}}},J.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=$(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(U(i.stack.split("\n"))),i=i._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),f.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),f.notEnumerableProp(t,"__stackCleaned__",!0)}};var Q=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():z(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,v=t,y=e;var n=Error.captureStackTrace;return W=function(t){return h.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return v=/@/,y=e,m=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){r="stack"in t}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(y=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?z(e):e.toString()},null):(v=t,y=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},f.isNode&&e.stderr.isTTY?s=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:f.isNode||"string"!=typeof(new Error).stack||(s=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var G={warnings:g,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&n.longStackTraces(),{longStackTraces:function(){return G.longStackTraces},warnings:function(){return G.warnings},cancellation:function(){return G.cancellation},monitoring:function(){return G.monitoring},propagateFromFunction:function(){return B},boundValueFunction:function(){return L},checkForgottenReturns:function(t,e,n,r,i){if(void 0===t&&null!==e&&w){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=U(a),c=u.length-1;c>=0;--c){var f=u[c];if(!p.test(f)){var l=f.match(d);l&&(o="at "+l[1]+":"+l[2]+":"+l[3]+" ");break}}if(u.length>0){var h=u[0];for(c=0;c<a.length;++c)if(a[c]===h){c>0&&(s="\n"+a[c-1]);break}}}var v="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(v,!0,e)}},setBounds:function(t,e){if(H()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u)if(c=Y(i[u])){n=c.fileName,s=c.line;break}for(u=0;u<o.length;++u){var c;if(c=Y(o[u])){r=c.fileName,a=c.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(W=function(t){if(h.test(t))return!0;var e=Y(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}},warn:F,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),F(n)},CapturedTrace:J,fireDomEvent:x,fireGlobalEvent:E}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(n,function(){return r})}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},{}],12:[function(t,e,n){"use strict";var r,i,o=t("./es5"),s=o.freeze,a=t("./util"),u=a.inherits,c=a.notEnumerableProp;function f(t,e){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"==typeof r?r:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}var l=f("Warning","warning"),h=f("CancellationError","cancellation error"),p=f("TimeoutError","timeout error"),d=f("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(t){r=f("TypeError","type error"),i=f("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<v.length;++y)"function"==typeof Array.prototype[v[y]]&&(d.prototype[v[y]]=Array.prototype[v[y]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var m=0;function _(t){if(!(this instanceof _))return new _(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return m--,e},u(_,Error);var g=Error.__BluebirdErrorTypes__;g||(g=s({CancellationError:h,TimeoutError:p,OperationalError:_,RejectionError:_,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:l}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:a,names:a,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.CancellationError,s=i.errorObj,a=t("./catch_filter")(r);function u(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function f(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function l(){return p.call(this,this.promise._target()._settledValue())}function h(t){if(!f(this,t))return s.e=t,s}function p(t){var i=this.promise,a=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?a.call(i._boundValue()):a.call(i._boundValue(),t);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var p=n(u,i);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),s.e=d,s}p.isPending()&&p._attachCancellationCallback(new c(this))}return p._then(l,h,void 0,this,void 0)}}}return i.isRejected()?(f(this),s.e=t,s):(f(this),t)}return u.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){f(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new u(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,p,p)},e.prototype.tap=function(t){return this._passThrough(t,1,p)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,p);var r,o=new Array(n-1),s=0;for(r=0;r<n-1;++r){var u=arguments[r];if(!i.isObject(u))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[s++]=u}o.length=s;var c=arguments[r];return this._passThrough(a(o,c,this),1,void 0,p)},u}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./errors").TypeError,u=t("./util"),c=u.errorObj,f=u.tryCatch,l=[];function h(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(l):l,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(h,o),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=f(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var n=this._promise;if(t===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||null!==(o=function(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=f(n[o])(t);if(r._popContext(),s===c){r._pushContext();var a=e.reject(c.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}(o,this._yieldHandlers,this._promise))){var s=(o=o._target())._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=h,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+u.classString(t));l.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new h(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=e._getDomain,u=t("./util"),c=u.tryCatch,f=u.errorObj,l=e._async;function h(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=a();this._callback=null===i?e:u.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0)}function p(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return new h(t,n,s="number"==typeof s&&isFinite(s)&&s>=1?s:0,o).promise()}u.inherits(h,n),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(r[n=-1*n-1]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var l=this._promise,h=this._callback,p=l._boundValue();l._pushContext();var d=c(h).call(p,t,n,o),v=l._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",l),d===f)return this._reject(d.e),!0;var y=i(d,this._promise);if(y instanceof e){var m=(y=y._target())._bitField;if(0==(50397184&m))return u>=1&&this._inFlight++,r[n]=y,y._proxy(this,-1*(n+1)),!1;if(0==(33554432&m))return 0!=(16777216&m)?(this._reject(y._reason()),!0):(this._cancel(),!0);d=y._value()}r[n]=d}return++this._totalResolved>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},h.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},h.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return p(this,t,e,null)},e.map=function(t,e,n,r){return p(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r,u=new e(n);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],f=arguments[2];r=s.isArray(c)?a(t).apply(f,c):a(t).call(f,c)}else r=a(t)();var l=u._popContext();return o.checkForgottenReturns(r,l,"Promise.try",u),u._resolveFromSyncValue(r),u},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),i=r.maybeWrapAsError,o=t("./errors").OperationalError,s=t("./es5"),a=/^(?:name|message|stack|cause)$/;function u(t){var e;if(function(t){return t instanceof Error&&s.getPrototypeOf(t)===Error.prototype}(t)){(e=new o(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=s.keys(t),i=0;i<n.length;++i){var u=n[i];a.test(u)||(e[u]=t[u])}return e}return r.markAsOriginatingFromRejection(t),t}e.exports=function(t,e){return function(n,r){if(null!==t){if(n){var o=u(i(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,i=n.tryCatch,o=n.errorObj;function s(t,e){if(!n.isArray(t))return a.call(this,t,e);var s=i(e).apply(this._boundValue(),[null].concat(t));s===o&&r.throwLater(s.e)}function a(t,e){var n=this._boundValue(),s=void 0===t?i(e).call(n,null):i(e).call(n,null,t);s===o&&r.throwLater(s.e)}function u(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var s=i(e).call(this._boundValue(),t);s===o&&r.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=a;void 0!==e&&Object(e).spread&&(n=s),this._then(n,u,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){var r=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new P.PromiseInspection(this._target())},o=function(t){return P.reject(new d(t))};function s(){}var a,u={},c=t("./util");a=c.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(P,"_getDomain",a);var f=t("./es5"),l=t("./async"),h=new l;f.defineProperty(P,"_async",{value:h});var p=t("./errors"),d=P.TypeError=p.TypeError;P.RangeError=p.RangeError;var v=P.CancellationError=p.CancellationError;P.TimeoutError=p.TimeoutError,P.OperationalError=p.OperationalError,P.RejectionError=p.OperationalError,P.AggregateError=p.AggregateError;var y=function(){},m={},_={},g=t("./thenables")(P,y),b=t("./promise_array")(P,y,g,o,s),w=t("./context")(P),k=w.create,x=t("./debuggability")(P,w),E=(x.CapturedTrace,t("./finally")(P,g,_)),O=t("./catch_filter")(_),j=t("./nodeback"),S=c.errorObj,C=c.tryCatch;function P(t){t!==y&&function(t,e){if(null==t||t.constructor!==P)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new d("expecting a function but got "+c.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function A(t){this.promise._resolveCallback(t)}function R(t){this.promise._rejectCallback(t,!1)}function T(t){var e=new P(y);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return P.prototype.toString=function(){return"[object Promise]"},P.prototype.caught=P.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var s=arguments[n];if(!c.isObject(s))return o("Catch statement predicate: expecting an object but got "+c.classString(s));r[i++]=s}return r.length=i,t=arguments[n],this.then(void 0,O(r,t,this))}return this.then(void 0,t)},P.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},P.prototype.then=function(t,e){if(x.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(n+=", "+c.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},P.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},P.prototype.spread=function(t){return"function"!=typeof t?o("expecting a function but got "+c.classString(t)):this.all()._then(t,void 0,void 0,m,void 0)},P.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},P.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},P.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},P.getNewLibraryCopy=n.exports,P.is=function(t){return t instanceof P},P.fromNode=P.fromCallback=function(t){var e=new P(y);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=C(t)(j(e,n));return r===S&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},P.all=function(t){return new b(t).promise()},P.cast=function(t){var e=g(t);return e instanceof P||((e=new P(y))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},P.resolve=P.fulfilled=P.cast,P.reject=P.rejected=function(t){var e=new P(y);return e._captureStackTrace(),e._rejectCallback(t,!0),e},P.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t));return h.setScheduler(t)},P.prototype._then=function(t,e,n,r,i){var o=void 0!==i,s=o?i:new P(y),u=this._target(),f=u._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&f)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var l=a();if(0!=(50397184&f)){var p,d,m=u._settlePromiseCtx;0!=(33554432&f)?(d=u._rejectionHandler0,p=t):0!=(16777216&f)?(d=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(m=u._settlePromiseLateCancellationObserver,d=new v("late cancellation observer"),u._attachExtraTrace(d),p=e),h.invoke(m,u,{handler:null===l?p:"function"==typeof p&&c.domainBind(l,p),promise:s,receiver:r,value:d})}else u._addCallbacks(t,e,s,r,l);return s},P.prototype._length=function(){return 65535&this._bitField},P.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},P.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},P.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},P.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},P.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},P.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},P.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},P.prototype._isFinal=function(){return(4194304&this._bitField)>0},P.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},P.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},P.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},P.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},P.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==u)return void 0===e&&this._isBound()?this._boundValue():e},P.prototype._promiseAt=function(t){return this[4*t-4+2]},P.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},P.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},P.prototype._boundValue=function(){},P.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=u),this._addCallbacks(e,n,r,i,null)},P.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=u),this._addCallbacks(n,r,i,o,null)},P.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:c.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:c.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:c.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:c.domainBind(i,e))}return this._setLength(o+1),o},P.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},P.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(r(),!1);var n=g(t,this);if(!(n instanceof P))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var s=this._length();s>0&&i._migrateCallback0(this);for(var a=1;a<s;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var u=new v("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(r())}},P.prototype._rejectCallback=function(t,e,n){var r=c.ensureErrorObject(t),i=r===t;if(!i&&!n&&x.warnings()){var o="a promise was rejected with a non-error: "+c.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},P.prototype._resolveFromExecutor=function(t){if(t!==y){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},P.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),e===m?n&&"number"==typeof n.length?o=C(t).apply(this._boundValue(),n):(o=S).e=new d("cannot .spread() a non-array: "+c.classString(n)):o=C(t).call(e,n);var s=r._popContext();0==(65536&(i=r._bitField))&&(o===_?r._reject(n):o===S?r._rejectCallback(o.e,!1):(x.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},P.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},P.prototype._followee=function(){return this._rejectionHandler0},P.prototype._setFollowee=function(t){this._rejectionHandler0=t},P.prototype._settlePromise=function(t,e,n,r){var o=t instanceof P,a=this._bitField,u=0!=(134217728&a);0!=(65536&a)?(o&&t._invokeInternalOnCancel(),n instanceof E&&n.isFinallyHandler()?(n.cancelPromise=t,C(e).call(n,r)===S&&t._reject(S.e)):e===i?t._fulfill(i.call(n)):n instanceof s?n._promiseCancelled(t):o||t instanceof b?t._cancel():n.cancel()):"function"==typeof e?o?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,r,t)):e.call(n,r,t):n instanceof s?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(r,t):n._promiseRejected(r,t)):o&&(u&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(r):t._reject(r))},P.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof P?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof P&&n._reject(i)},P.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},P.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},P.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},P.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():h.settlePromises(this))}},P.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return h.fatalError(t,c.isNode);(65535&e)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},P.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},P.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},P.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},P.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},P.defer=P.pending=function(){return x.deprecated("Promise.defer","new Promise"),{promise:new P(y),resolve:A,reject:R}},c.notEnumerableProp(P,"_makeSelfResolutionError",r),t("./method")(P,y,g,o,x),t("./bind")(P,y,g,x),t("./cancel")(P,b,o,x),t("./direct_resolve")(P),t("./synchronous_inspection")(P),t("./join")(P,b,g,y,h,a),P.Promise=P,P.version="3.5.1",t("./map.js")(P,b,o,g,y,x),t("./call_get.js")(P),t("./using.js")(P,o,g,k,y,x),t("./timers.js")(P,y,x),t("./generators.js")(P,o,y,g,s,x),t("./nodeify.js")(P),t("./promisify.js")(P,y),t("./props.js")(P,b,g,o),t("./race.js")(P,y,g,o),t("./reduce.js")(P,b,o,g,y,x),t("./settle.js")(P,b,x),t("./some.js")(P,b,o),t("./filter.js")(P,y),t("./each.js")(P,y),t("./any.js")(P),c.toFastProperties(P),c.toFastProperties(P.prototype),T({a:1}),T({b:2}),T({c:3}),T(1),T(function(){}),T(void 0),T(!1),T(new P(y)),x.setBounds(l.firstLineError,c.lastLineError),P}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util");function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.isArray,s.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(n,o){var a=r(this._values,this._promise);if(a instanceof e){var u=(a=a._target())._bitField;if(this._values=a,0==(50397184&u))return this._promise._setAsyncGuaranteed(),a._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))0!==a.length?this._iterate(a):-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(o){case-2:return[];case-3:return{};case-6:return new Map}}());else{var c=i("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(c,!1)}},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(t[a],i);s=u instanceof e?(u=u._target())._bitField:null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0==(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!=(33554432&s)?this._promiseFulfilled(u._value(),a):0!=(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var r={},i=t("./util"),o=t("./nodeback"),s=i.withAppended,a=i.maybeWrapAsError,u=i.canEvaluate,c=t("./errors").TypeError,f={__isPromisified__:!0},l=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function p(t){return!l.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function v(t,e,n){var r=i.getDataPropertyOrDefault(t,e+n,f);return!!r&&d(r)}function y(t,e,n,r){for(var o=i.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var u=o[a],f=t[u],l=r===h||h(u,f,t);"function"!=typeof f||d(f)||v(t,u,e)||!r(u,f,t,l)||s.push(u,f)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,n),s}var m=function(t){return t.replace(/([$])/,"\\$")},_=u?void 0:function(t,u,c,f,l,h){var p=function(){return this}(),d=t;function v(){var i=u;u===r&&(i=this);var c=new e(n);c._captureStackTrace();var f="string"==typeof d&&this!==p?this[d]:t,l=o(c,h);try{f.apply(i,s(arguments,l))}catch(t){c._rejectCallback(a(t),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof d&&(t=f),i.notEnumerableProp(v,"__isPromisified__",!0),v};function g(t,e,n,o,s){for(var a=new RegExp(m(e)+"$"),u=y(t,e,a,n),c=0,f=u.length;c<f;c+=2){var l=u[c],h=u[c+1],p=l+e;if(o===_)t[p]=_(l,r,l,h,e,s);else{var d=o(h,function(){return _(l,r,l,h,e,s)});i.notEnumerableProp(d,"__isPromisified__",!0),t[p]=d}}return i.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+i.classString(t));if(d(t))return t;var n=void 0===(e=Object(e)).context?r:e.context,o=!!e.multiArgs,s=function(t,e,n){return _(t,e,void 0,t,null,o)}(t,n);return i.copyDescriptors(t,s,p),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var o=e.filter;"function"!=typeof o&&(o=h);var s=e.promisifier;if("function"!=typeof s&&(s=_),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=i.inheritedDataKeys(t),u=0;u<a.length;++u){var f=t[a[u]];"constructor"!==a[u]&&i.isClass(f)&&(g(f.prototype,r,o,s,n),g(f,r,o,s,n))}return g(t,r,o,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,s=t("./util"),a=s.isObject,u=t("./es5");"function"==typeof Map&&(o=Map);var c=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function f(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=c(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var s=0;s<i;++s){var a=r[s];e[s]=t[a],e[s+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function l(t){var n,o=r(t);return a(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new f(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(f,n),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],s=t[r];e.set(i,s)}return e}(this._values);else{n={};for(var r=this.length(),i=0,s=this.length();i<s;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return l(this)},e.props=function(t){return l(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+0],t[o+0]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=function(t){return t.then(function(e){return a(e,t)})};function a(t,a){var u=r(t);if(u instanceof e)return s(u);if(null===(t=o.asArray(t)))return i("expecting an array or an iterable object but got "+o.classString(t));var c=new e(n);void 0!==a&&c._propagateFrom(a,3);for(var f=c._fulfill,l=c._reject,h=0,p=t.length;h<p;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(f,l,void 0,c,null)}return c}e.race=function(t){return a(t,void 0)},e.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=e._getDomain,u=t("./util"),c=u.tryCatch;function f(t,n,r,i){this.constructor$(t);var s=a();this._fn=null===s?n:u.domainBind(s,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function h(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+u.classString(e)):new f(t,e,n,i).promise()}function p(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(t){var n,r=this.array,i=r._promise,o=c(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var a=i._popContext();return s.checkForgottenReturns(n,a,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}u.inherits(f,n),f.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},f.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},f.prototype._init=function(){},f.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},f.prototype.shouldCopyValues=function(){return!1},f.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},f.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},f.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(p,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},e.prototype.reduce=function(t,e){return h(this,t,e,null)},e.reduce=function(t,e,n,r){return h(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var c=n.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){c.call(n,t)}:function(t){f.call(e,t)}}else if("function"==typeof u&&"function"==typeof u.resolve){var l=u.resolve();s=function(t){l.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div");return new MutationObserver(function(){t.classList.toggle("foo"),n=!1}).observe(r,e),function(i){var o=new MutationObserver(function(){o.disconnect(),i()});o.observe(t,e),n||(n=!0,r.classList.toggle("foo"))}}();i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=e.PromiseInspection;function o(t){this.constructor$(t)}t("./util").inherits(o,n),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=t("./errors").RangeError,s=t("./errors").AggregateError,a=i.isArray,u={};function c(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(c,n),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=a(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(t){this._howMany=t},c.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(t){this._values.push(t)},c.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return f(t,e)},e.prototype.some=function(t){return f(this,t)},e._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util"),i=r.errorObj,o=r.isObject,s={}.hasOwnProperty;return function(t,a){if(o(t)){if(t instanceof e)return t;var u=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(t);if(u===i){a&&a._pushContext();var c=e.reject(u.e);return a&&a._popContext(),c}if("function"==typeof u)return function(t){try{return s.call(t,"_promise0")}catch(t){return!1}}(t)?(c=new e(n),t._then(c._fulfill,c._reject,void 0,c,null),c):function(t,o,s){var a=new e(n),u=a;s&&s._pushContext(),a._captureStackTrace(),s&&s._popContext();var c=!0,f=r.tryCatch(o).call(t,function(t){a&&(a._resolveCallback(t),a=null)},function(t){a&&(a._rejectCallback(t,c,!0),a=null)});return c=!1,a&&f===i&&(a._rejectCallback(f.e,!0,!0),a=null),u}(t,u,a)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,i){var o,u;return void 0!==i?(o=e.resolve(i)._then(a,null,null,t,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(n),u=setTimeout(function(){o._fulfill()},+t),r.cancellation()&&o._setOnCancel(new s(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function c(t){return clearTimeout(this.handle),t}function f(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return u(t,this)},e.prototype.timeout=function(t,e){var n,a;t=+t;var u=new s(setTimeout(function(){n.isPending()&&function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()}(n,e,a)},t));return r.cancellation()?(a=this.then(),(n=a._then(c,f,void 0,u,void 0))._setOnCancel(u)):n=this._then(c,f,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),u=t("./errors").TypeError,c=t("./util").inherits,f=a.errorObj,l=a.tryCatch,h={};function p(t){setTimeout(function(){throw t},0)}function d(t,n){var i=0,s=t.length,a=new e(o);return function o(){if(i>=s)return a._fulfill();var u=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(u instanceof e&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),t.promise)}catch(t){return p(t)}if(u instanceof e)return u._then(o,p,null,null,null)}o()}(),a}function v(t,e,n){this._data=t,this._promise=e,this._context=n}function y(t,e,n){this.constructor$(t,e,n)}function m(t){return v.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function _(t){this.length=t,this.promise=null,this[t-1]=null}v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},v.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==h?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},v.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(y,v),y.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},_.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[t-1];if("function"!=typeof o)return n("expecting a function but got "+a.classString(o));var u=!0;2===t&&Array.isArray(arguments[0])?(t=(i=arguments[0]).length,u=!1):(i=arguments,t--);for(var c=new _(t),h=0;h<t;++h){var p=i[h];if(v.isDisposer(p)){var y=p;(p=p.promise())._setDisposable(y)}else{var g=r(p);g instanceof e&&(p=g._then(m,null,null,{resources:c,index:h},void 0))}c[h]=p}var b=new Array(c.length);for(h=0;h<b.length;++h)b[h]=e.resolve(c[h]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return f.e=n.error(),f;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}k._pushContext(),o=l(o);var r=u?o.apply(void 0,t):o(t),i=k._popContext();return s.checkForgottenReturns(r,i,"Promise.using",k),r}),k=w.lastly(function(){var t=new e.PromiseInspection(w);return d(c,t)});return c.promise=k,k._setOnCancel(c),k},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new y(t,this,i());throw new u}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";var o,s=t("./es5"),a="undefined"==typeof navigator,u={e:{}},c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null;function f(){try{var t=o;return o=null,t.apply(this,arguments)}catch(t){return u.e=t,u}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function h(t,e,n){if(l(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,e,r),t}var p=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(s.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),d=/this\s*\.\s*\S+\s*=/,v=/^[a-z$_][a-z$_0-9]*$/i;function y(t){try{return t+""}catch(t){return"[no string representation]"}}function m(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function _(t){return m(t)&&s.propertyIsWritable(t,"stack")}var g="stack"in new Error?function(t){return _(t)?t:new Error(y(t))}:function(t){if(_(t))return t;try{throw new Error(y(t))}catch(t){return t}};function b(t){return{}.toString.call(t)}var w=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var k="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};w=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?k(t):null}}var x=void 0!==e&&"[object process]"===b(e).toLowerCase(),E=void 0!==e&&void 0!==e.env,O={isClass:function(t){try{if("function"==typeof t){var e=s.names(t.prototype),n=s.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=d.test(t+"")&&s.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return v.test(t)},inheritedDataKeys:p,getDataPropertyOrDefault:function(t,e,n){if(!s.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:w,notEnumerableProp:h,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:m,canEvaluate:a,errorObj:u,tryCatch:function(t){return o=t,f},inherits:function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype},withAppended:function(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i},maybeWrapAsError:function(t){return l(t)?new Error(y(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t},filledRange:function(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r},toString:y,canAttachTrace:_,ensureErrorObject:g,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{h(t,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(t,e,n){for(var r=s.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{s.defineProperty(e,o,s.getDescriptor(t,o))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:x,hasEnvVariables:E,env:function(t){return E?e.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,e){return t.bind(e)}};O.isRecentNode=O.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),O.isNode&&O.toFastProperties(e);try{throw new Error}catch(t){O.lastLineError=t}r.exports=O},{"./es5":13}]},{},[4])(4),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(4),n(0),n(25).setImmediate)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e.eol&&t)for(var n=0,r=t.length;n<r;n++)if("\r"===t[n]){if("\n"===t[n+1]){e.eol="\r\n";break}if(t[n+1]){e.eol="\r";break}}else if("\n"===t[n]){e.eol="\n";break}return e.eol||"\n"}},function(t,e,n){var r=n(65),i=n(73);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(18).Symbol;t.exports=r},function(t,e,n){var r=n(67),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(30),i=n(76);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){"use strict";(function(e,r){var i=n(6);t.exports=g;var o,s=n(36);g.ReadableState=_,n(11).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=n(23),c=n(7).Buffer,f=e.Uint8Array||function(){},l=n(5);l.inherits=n(2);var h=n(40),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,v=n(41),y=n(24);l.inherits(g,u);var m=["error","close","destroy","pause","resume"];function _(t,e){t=t||{};var r=e instanceof(o=o||n(1));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(26).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function g(t){if(o=o||n(1),!(this instanceof g))return new g(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function b(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}}(t,s)):(i||(o=function(t,e){var n;return function(t){return c.isBuffer(t)||t instanceof f}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):j(t,s)):w(t,s,e,!1))):r||(s.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),j(t,e)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),g.prototype.destroy=y.destroy,g.prototype._undestroy=y.undestroy,g.prototype._destroy=function(t,e){this.push(null),e(t)},g.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},g.prototype.unshift=function(t){return b(this,t,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(t){return d||(d=n(26).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var k=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(O,t):O(t))}function O(t){p("emit readable"),t.emit("readable"),A(t)}function j(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(S,t,e))}function S(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function C(t){p("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function R(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0==(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function T(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(D,e,t))}function D(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}g.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?T(this):E(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&T(this),null;var r,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(r=t>0?R(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&T(this)),null!==r&&this.emit("data",r),r},g.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var u=e&&!1===e.end||t===r.stdout||t===r.stderr?_:c;function c(){p("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",function e(r,i){p("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),t.removeListener("close",y),t.removeListener("finish",m),t.removeListener("drain",f),t.removeListener("error",v),t.removeListener("unpipe",e),n.removeListener("end",c),n.removeListener("end",_),n.removeListener("data",d),l=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f())});var f=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(n);t.on("drain",f);var l=!1,h=!1;function d(e){p("ondata"),h=!1,!1!==t.write(e)||h||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==M(o.pipes,t))&&!l&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function v(e){p("onerror",e),_(),t.removeListener("error",v),0===a(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",m),_()}function m(){p("onfinish"),t.removeListener("close",y),_()}function _(){p("unpipe"),n.unpipe(t)}return n.on("data",d),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",v),t.once("close",y),t.once("finish",m),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},g.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=M(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},g.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(C,this))}return n},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(P,t,e))}(this,t)),this},g.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!=i)&&(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=R}).call(this,n(0),n(4))},function(t,e,n){t.exports=n(11).EventEmitter},function(t,e,n){"use strict";var r=n(6);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(43),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,e,n){"use strict";var r=n(7).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function f(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var r=n(1),i=n(5);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(2),i.inherits(o,r),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.bufFromString=function(e){var n=t.byteLength(e),r=t.allocUnsafe?t.allocUnsafe(n):new t(n);return r.write(e),r},e.emptyBuffer=function(){return t.allocUnsafe?t.allocUnsafe(0):new t(0)},e.filterArray=function(t,e){for(var n=[],r=0;r<t.length;r++)e.indexOf(r)>-1&&n.push(t[r]);return n},e.trimLeft=String.prototype.trimLeft?function(t){return t.trimLeft()}:function(t){return t.replace(/^\s+/,"")},e.trimRight=String.prototype.trimRight?function(t){return t.trimRight()}:function(t){return t.replace(/\s+$/,"")}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,r){var i=t.call(this,"Error: "+e+". JSON Line number: "+n+(r?" near: "+r:""))||this;return i.err=e,i.line=n,i.extra=r,i.name="CSV Parse Error",i}return r(e,t),e.column_mismatched=function(t,n){return new e("column_mismatched",t,n)},e.unclosed_quote=function(t,n){return new e("unclosed_quote",t,n)},e.fromJSON=function(t){return new e(t.err,t.line,t.extra)},e.prototype.toJSON=function(){return{err:this.err,line:this.line,extra:this.extra}},e}(Error);e.default=i},function(t,e,n){var r=n(17),i=n(68),o=n(69),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){t.exports=n(33)},function(t,e,n){"use strict";var r=n(34),i=function(t,e){return new r.Converter(t,e)};i.Converter=r.Converter,t.exports=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(35),s=n(50),a=n(51),u=i(n(14)),c=n(52),f=n(105),l=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this,n)||this;return r.options=n,r.params=s.mergeParams(e),r.runtime=a.initParseRuntime(r),r.result=new f.Result(r),r.processor=new c.ProcessorLocal(r),r.once("error",function(t){setTimeout(function(){r.result.processError(t),r.emit("done",t)},0)}),r.once("done",function(){r.processor.destroy()}),r}return r(e,t),e.prototype.preRawData=function(t){return this.runtime.preRawDataHook=t,this},e.prototype.preFileLine=function(t){return this.runtime.preFileLineHook=t,this},e.prototype.subscribe=function(t,e,n){return this.parseRuntime.subscribe={onNext:t,onError:e,onCompleted:n},this},e.prototype.fromFile=function(t,e){var r=this,i=n(!function(){var t=new Error("Cannot find module 'fs'");throw t.code="MODULE_NOT_FOUND",t}());return i.exists(t,function(n){n?i.createReadStream(t,e).pipe(r):r.emit("error",new Error("File does not exist. Check to make sure the file path to your csv is correct."))}),this},e.prototype.fromStream=function(t){return t.pipe(this),this},e.prototype.fromString=function(t){t.toString();var e=new o.Readable,n=0;return e._read=function(e){if(n>=t.length)this.push(null);else{var r=t.substr(n,e);this.push(r),n+=e}},this.fromStream(e)},e.prototype.then=function(t,e){var n=this;return new u.default(function(r,i){n.parseRuntime.then={onfulfilled:function(e){r(t?t(e):e)},onrejected:function(t){e?r(e(t)):i(t)}}})},Object.defineProperty(e.prototype,"parseParam",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parseRuntime",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),e.prototype._transform=function(t,e,n){var r=this;this.processor.process(t).then(function(t){if(t.length>0)return r.runtime.started=!0,r.result.processResult(t)}).then(function(){r.emit("drained"),n()},function(t){r.runtime.hasError=!0,r.runtime.error=t,r.emit("error",t),n()})},e.prototype._flush=function(t){var e=this;this.processor.flush().then(function(t){if(t.length>0)return e.result.processResult(t)}).then(function(){e.processEnd(t)},function(n){e.emit("error",n),t()})},e.prototype.processEnd=function(t){this.result.endProcess(),this.emit("done"),t()},Object.defineProperty(e.prototype,"parsedLineNumber",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),e}(o.Transform);e.Converter=l},function(t,e,n){t.exports=i;var r=n(11).EventEmitter;function i(){r.call(this)}n(2)(i,r),i.Readable=n(12),i.Writable=n(46),i.Duplex=n(47),i.Transform=n(48),i.PassThrough=n(49),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===r.listenerCount(this,"error"))throw t}function f(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),t.removeListener("close",f)}return n.on("error",c),t.on("error",c),n.on("end",f),n.on("close",f),t.on("close",f),t.emit("pipe",n),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],s=n[1],a=new o(3*(r+s)/4-s),u=0,f=s>0?r-4:r,l=0;l<f;l+=4)e=i[t.charCodeAt(l)]<<18|i[t.charCodeAt(l+1)]<<12|i[t.charCodeAt(l+2)]<<6|i[t.charCodeAt(l+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;return 2===s&&(e=i[t.charCodeAt(l)]<<2|i[t.charCodeAt(l+1)]>>4,a[u++]=255&e),1===s&&(e=i[t.charCodeAt(l)]<<10|i[t.charCodeAt(l+1)]<<4|i[t.charCodeAt(l+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e),a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function l(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(f(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){},function(t,e,n){"use strict";var r=n(7).Buffer,i=n(42);function o(t,e,n){t.copy(e,n)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e=r.allocUnsafe(t>>>0),n=this.head,i=0;n;)o(n.data,e,i),i+=n.data.length,n=n.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){f(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&f(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){f(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(f,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return o[i]=s,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function f(t){if(s)setTimeout(f,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(4))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(0))},function(t,e,n){"use strict";t.exports=o;var r=n(27),i=n(5);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(2),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(13)},function(t,e,n){t.exports=n(1)},function(t,e,n){t.exports=n(12).Transform},function(t,e,n){t.exports=n(12).PassThrough},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeParams=function(t){var e={delimiter:",",ignoreColumns:void 0,includeColumns:void 0,quote:'"',trim:!0,checkType:!1,ignoreEmpty:!1,noheader:!1,headers:void 0,flatKeys:!1,maxRowLength:0,checkColumn:!1,escape:'"',colParser:{},eol:void 0,alwaysSplitAtEOL:!1,output:"json"};for(var n in t||(t={}),t)t.hasOwnProperty(n)&&(Array.isArray(t[n])?e[n]=[].concat(t[n]):e[n]=t[n]);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initParseRuntime=function(t){var e=t.parseParam,n={needProcessIgnoreColumn:!1,needProcessIncludeColumn:!1,selectedColumns:void 0,ended:!1,hasError:!1,error:void 0,delimiter:t.parseParam.delimiter,eol:t.parseParam.eol,columnConv:[],headerType:[],headerTitle:[],headerFlag:[],headers:void 0,started:!1,parsedLineNumber:0,columnValueSetter:[]};return e.ignoreColumns&&(n.needProcessIgnoreColumn=!0),e.includeColumns&&(n.needProcessIncludeColumn=!0),n}},function(t,e,n){"use strict";(function(t){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(53),s=i(n(14)),a=n(54),u=i(n(15)),c=n(57),f=n(28),l=n(58),h=i(n(59)),p=i(n(29)),d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.rowSplit=new l.RowSplit(t.converter),t.eolEmitted=!1,t._needEmitEol=void 0,t.headEmitted=!1,t._needEmitHead=void 0,t}return r(n,e),n.prototype.flush=function(){var t=this;if(this.runtime.csvLineBuffer&&this.runtime.csvLineBuffer.length>0){var e=this.runtime.csvLineBuffer;return this.runtime.csvLineBuffer=void 0,this.process(e,!0).then(function(e){return t.runtime.csvLineBuffer&&t.runtime.csvLineBuffer.length>0?s.default.reject(p.default.unclosed_quote(t.runtime.parsedLineNumber,t.runtime.csvLineBuffer.toString())):s.default.resolve(e)})}return s.default.resolve([])},n.prototype.destroy=function(){return s.default.resolve()},Object.defineProperty(n.prototype,"needEmitEol",{get:function(){return void 0===this._needEmitEol&&(this._needEmitEol=this.converter.listeners("eol").length>0),this._needEmitEol},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"needEmitHead",{get:function(){return void 0===this._needEmitHead&&(this._needEmitHead=this.converter.listeners("header").length>0),this._needEmitHead},enumerable:!0,configurable:!0}),n.prototype.process=function(t,e){var n,r=this;return void 0===e&&(e=!1),n=e?t.toString():a.prepareData(t,this.converter.parseRuntime),s.default.resolve().then(function(){return r.runtime.preRawDataHook?r.runtime.preRawDataHook(n):n}).then(function(t){return t&&t.length>0?r.processCSV(t,e):s.default.resolve([])})},n.prototype.processCSV=function(t,e){var n=this,r=this.params,i=this.runtime;i.eol||u.default(t,i),this.needEmitEol&&!this.eolEmitted&&i.eol&&(this.converter.emit("eol",i.eol),this.eolEmitted=!0),r.ignoreEmpty&&!i.started&&(t=f.trimLeft(t));var o=c.stringToLines(t,i);return e?(o.lines.push(o.partial),o.partial=""):this.prependLeftBuf(f.bufFromString(o.partial)),o.lines.length>0?(i.preFileLineHook?this.runPreLineHook(o.lines):s.default.resolve(o.lines)).then(function(t){return i.started||n.runtime.headers?n.processCSVBody(t):n.processDataWithHead(t)}):s.default.resolve([])},n.prototype.processDataWithHead=function(t){if(this.params.noheader)this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=[];else{for(var e="",n=[];t.length;){var r=e+t.shift(),i=this.rowSplit.parse(r);if(i.closed){n=i.cells,e="";break}e=r+u.default(r,this.runtime)}if(this.prependLeftBuf(f.bufFromString(e)),0===n.length)return[];this.params.headers?this.runtime.headers=this.params.headers:this.runtime.headers=n}return(this.runtime.needProcessIgnoreColumn||this.runtime.needProcessIncludeColumn)&&this.filterHeader(),this.needEmitHead&&!this.headEmitted&&(this.converter.emit("header",this.runtime.headers),this.headEmitted=!0),this.processCSVBody(t)},n.prototype.filterHeader=function(){if(this.runtime.selectedColumns=[],this.runtime.headers){for(var t=this.runtime.headers,e=0;e<t.length;e++)if(this.params.ignoreColumns)if(this.params.ignoreColumns.test(t[e])){if(!this.params.includeColumns||!this.params.includeColumns.test(t[e]))continue;this.runtime.selectedColumns.push(e)}else this.runtime.selectedColumns.push(e);else this.params.includeColumns?this.params.includeColumns.test(t[e])&&this.runtime.selectedColumns.push(e):this.runtime.selectedColumns.push(e);this.runtime.headers=f.filterArray(this.runtime.headers,this.runtime.selectedColumns)}},n.prototype.processCSVBody=function(t){if("line"===this.params.output)return t;var e=this.rowSplit.parseMultiLines(t);return this.prependLeftBuf(f.bufFromString(e.partial)),"csv"===this.params.output?e.rowsCells:h.default(e.rowsCells,this.converter)},n.prototype.prependLeftBuf=function(e){e&&(this.runtime.csvLineBuffer?this.runtime.csvLineBuffer=t.concat([e,this.runtime.csvLineBuffer]):this.runtime.csvLineBuffer=e)},n.prototype.runPreLineHook=function(t){var e=this;return new s.default(function(n,r){!function t(e,n,r,i){if(r>=e.length)i();else if(n.preFileLineHook){var o=e[r],s=n.preFileLineHook(o,n.parsedLineNumber+r);if(r++,s&&s.then)s.then(function(o){e[r-1]=o,t(e,n,r,i)});else{for(e[r-1]=s;r<e.length;)e[r]=n.preFileLineHook(e[r],n.parsedLineNumber+r),r++;i()}}else i()}(t,e.runtime,0,function(e){e?r(e):n(t)})})},n}(o.Processor);e.ProcessorLocal=d}).call(this,n(3).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Processor=function(t){this.converter=t,this.params=t.parseParam,this.runtime=t.parseRuntime}},function(t,e,n){"use strict";(function(t){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(55));e.prepareData=function(e,n){var r=function(e,n){return n.csvLineBuffer&&n.csvLineBuffer.length>0?t.concat([n.csvLineBuffer,e]):e}(e,n);n.csvLineBuffer=void 0;var o=function(t,e){var n=t.length-1;if(0!=(128&t[n])){for(;128==(192&t[n]);)n--;n--}return n!=t.length-1?(e.csvLineBuffer=t.slice(n+1),t.slice(0,n+1)):t}(r,n).toString("utf8");return!1===n.started?i.default(o):o}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(56);t.exports=function(t){return"string"==typeof t&&65279===t.charCodeAt(0)?t.slice(1):e.isBuffer(t)&&r(t)&&239===t[0]&&187===t[1]&&191===t[2]?t.slice(3):t}}).call(this,n(3).Buffer)},function(t,e){t.exports=function(t){for(var e=0;e<t.length;)if(9==t[e]||10==t[e]||13==t[e]||32<=t[e]&&t[e]<=126)e+=1;else if(194<=t[e]&&t[e]<=223&&128<=t[e+1]&&t[e+1]<=191)e+=2;else if(224==t[e]&&160<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191||(225<=t[e]&&t[e]<=236||238==t[e]||239==t[e])&&128<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191||237==t[e]&&128<=t[e+1]&&t[e+1]<=159&&128<=t[e+2]&&t[e+2]<=191)e+=3;else{if(!(240==t[e]&&144<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191||241<=t[e]&&t[e]<=243&&128<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191||244==t[e]&&128<=t[e+1]&&t[e+1]<=143&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191))return!1;e+=4}return!0}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(15));e.stringToLines=function(t,e){var n=i.default(t,e),r=t.split(n);return{lines:r,partial:r.pop()||""}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(15)),o=n(28),s=[",","|","\t",";",":"],a=function(){function t(t){this.conv=t,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=t.parseParam.quote,this.trim=t.parseParam.trim,this.escape=t.parseParam.escape}return Object.defineProperty(t.prototype,"needEmitDelimiter",{get:function(){return void 0===this._needEmitDelimiter&&(this._needEmitDelimiter=this.conv.listeners("delimiter").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),t.prototype.parse=function(t){if(0===t.length||this.conv.parseParam.ignoreEmpty&&0===t.trim().length)return{cells:[],closed:!0};var e=this.quote,n=this.trim;this.escape,(this.conv.parseRuntime.delimiter instanceof Array||"auto"===this.conv.parseRuntime.delimiter.toLowerCase())&&(this.conv.parseRuntime.delimiter=this.getDelimiter(t)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit("delimiter",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var r=this.conv.parseRuntime.delimiter,i=t.split(r);if("off"===e){if(n)for(var o=0;o<i.length;o++)i[o]=i[o].trim();return{cells:i,closed:!0}}return this.toCSVRow(i,n,e,r)},t.prototype.toCSVRow=function(t,e,n,r){for(var i=[],s=!1,a="",u=0,c=t.length;u<c;u++){var f=t[u];!s&&e&&(f=o.trimLeft(f));var l=f.length;if(s)this.isQuoteClose(f)?(s=!1,a+=r+(f=f.substr(0,l-1)),a=this.escapeQuote(a),e&&(a=o.trimRight(a)),i.push(a),a=""):a+=r+f;else{if(2===l&&f===this.quote+this.quote){i.push("");continue}if(this.isQuoteOpen(f)){if(f=f.substr(1),this.isQuoteClose(f)){f=f.substring(0,f.lastIndexOf(n)),f=this.escapeQuote(f),i.push(f);continue}if(-1!==f.indexOf(n)){for(var h=0,p=0,d=f;p<d.length;p++)d[p]===n&&h++;if(h%2==1){e&&(f=o.trimRight(f)),i.push(n+f);continue}s=!0,a+=f;continue}s=!0,a+=f;continue}e&&(f=o.trimRight(f)),i.push(f)}}return{cells:i,closed:!s}},t.prototype.getDelimiter=function(t){var e;if("auto"===this.conv.parseParam.delimiter)e=s;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;e=this.conv.parseParam.delimiter}var n=0,r=",";return e.forEach(function(e){var i=t.split(e).length;i>n&&(r=e,n=i)}),r},t.prototype.isQuoteOpen=function(t){var e=this.quote,n=this.escape;return t[0]===e&&(t[1]!==e||t[1]===n&&(t[2]===e||2===t.length))},t.prototype.isQuoteClose=function(t){var e=this.quote,n=this.escape;this.conv.parseParam.trim&&(t=o.trimRight(t));for(var r=0,i=t.length-1;t[i]===e||t[i]===n;)i--,r++;return r%2!=0},t.prototype.escapeQuote=function(t){var e="es|"+this.quote+"|"+this.escape;void 0===this.cachedRegExp[e]&&(this.cachedRegExp[e]=new RegExp("\\"+this.escape+"\\"+this.quote,"g"));var n=this.cachedRegExp[e];return t.replace(n,this.quote)},t.prototype.parseMultiLines=function(t){for(var e=[],n="";t.length;){var r=n+t.shift(),s=this.parse(r);0===s.cells.length&&this.conv.parseParam.ignoreEmpty||(s.closed||this.conv.parseParam.alwaysSplitAtEOL?(this.conv.parseRuntime.selectedColumns?e.push(o.filterArray(s.cells,this.conv.parseRuntime.selectedColumns)):e.push(s.cells),n=""):n=r+(i.default(r,this.conv.parseRuntime)||"\n"))}return{rowsCells:e,partial:n}},t}();e.RowSplit=a},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(29)),o=r(n(60)),s=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;function a(t,e,n){if(e.parseParam.checkColumn&&e.parseRuntime.headers&&t.length!==e.parseRuntime.headers.length)throw i.default.column_mismatched(e.parseRuntime.parsedLineNumber+n);return function(t,e,n){for(var r=!1,i={},o=0,s=t.length;o<s;o++){var a=t[o];if(!n.parseParam.ignoreEmpty||""!==a){r=!0;var u=e[o];u&&""!==u||(u=e[o]="field"+(o+1));var l=c(u,o,n);if(l){var h=l(a,u,i,t,o);void 0!==h&&f(i,u,h,n,o)}else n.parseParam.checkType&&(a=p(a,u,o,n)(a)),void 0!==a&&f(i,u,a,n,o)}}return r?i:null}(t,e.parseRuntime.headers||[],e)||null}e.default=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=a(t[r],e,r);o&&n.push(o)}return n};var u={string:v,number:d,omit:function(){}};function c(t,e,n){if(void 0!==n.parseRuntime.columnConv[e])return n.parseRuntime.columnConv[e];var r=n.parseParam.colParser[t];if(void 0===r)return n.parseRuntime.columnConv[e]=null;if("object"==typeof r&&(r=r.cellParser||"string"),"string"==typeof r){r=r.trim().toLowerCase();var i=u[r];return n.parseRuntime.columnConv[e]=i||null}return n.parseRuntime.columnConv[e]="function"==typeof r?r:null}function f(t,e,n,r,i){r.parseRuntime.columnValueSetter[i]||(r.parseParam.flatKeys?r.parseRuntime.columnValueSetter[i]=l:e.indexOf(".")>-1?r.parseParam.colParser[e]&&r.parseParam.colParser[e].flat?r.parseRuntime.columnValueSetter[i]=l:r.parseRuntime.columnValueSetter[i]=h:r.parseRuntime.columnValueSetter[i]=l),r.parseRuntime.columnValueSetter[i](t,e,n)}function l(t,e,n){t[e]=n}function h(t,e,n){o.default(t,e,n)}function p(t,e,n,r){return r.parseRuntime.headerType[n]?r.parseRuntime.headerType[n]:e.indexOf("number#!")>-1?r.parseRuntime.headerType[n]=d:e.indexOf("string#!")>-1?r.parseRuntime.headerType[n]=v:r.parseParam.checkType?r.parseRuntime.headerType[n]=y:r.parseRuntime.headerType[n]=v}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t){return t.toString()}function y(t){var e=t.trim();return""===e?v(t):s.test(e)?d(t):5===e.length&&"false"===e.toLowerCase()||4===e.length&&"true"===e.toLowerCase()?function(t){var e=t.trim();return 5!==e.length||"false"!==e.toLowerCase()}(t):"{"===e[0]&&"}"===e[e.length-1]||"["===e[0]&&"]"===e[e.length-1]?function(t){try{return JSON.parse(t)}catch(e){return t}}(t):v(t)}},function(t,e,n){var r=n(61);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){var r=n(62),i=n(74),o=n(103),s=n(19),a=n(104);t.exports=function(t,e,n,u){if(!s(t))return t;for(var c=-1,f=(e=i(e,t)).length,l=f-1,h=t;null!=h&&++c<f;){var p=a(e[c]),d=n;if(c!=l){var v=h[p];void 0===(d=u?u(v,p,h):void 0)&&(d=s(v)?v:o(e[c+1])?[]:{})}r(h,p,d),h=h[p]}return t}},function(t,e,n){var r=n(63),i=n(31),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(64);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(16),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(66),i=n(70),o=n(19),s=n(72),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:a).test(s(t))}},function(t,e,n){var r=n(30),i=n(19);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(0))},function(t,e,n){var r=n(17),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(71),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(18)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(20),i=n(75),o=n(77),s=n(100);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e,n){var r=n(20),i=n(21),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(78)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(79);t.exports=function(t){var e=r(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(80),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(81),i=n(95),o=n(97),s=n(98),a=n(99);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(82),i=n(88),o=n(94);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(83),i=n(84),o=n(85),s=n(86),a=n(87);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(8);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(8),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(8),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(8);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(89),i=n(90),o=n(91),s=n(92),a=n(93);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(9),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(9);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(9);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(9);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(16)(n(18),"Map");t.exports=r},function(t,e,n){var r=n(10);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(10);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(10);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(10);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(101);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(17),i=n(102),o=n(20),s=n(21),a=r?r.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(21);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(14)),o=function(){function t(t){this.converter=t,this.finalResult=[]}return Object.defineProperty(t.prototype,"needEmitLine",{get:function(){return!!this.converter.parseRuntime.subscribe&&!!this.converter.parseRuntime.subscribe.onNext||this.needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needPushDownstream",{get:function(){return void 0===this._needPushDownstream&&(this._needPushDownstream=this.converter.listeners("data").length>0||this.converter.listeners("readable").length>0),this._needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needEmitAll",{get:function(){return!!this.converter.parseRuntime.then},enumerable:!0,configurable:!0}),t.prototype.processResult=function(t){var e=this;return this.converter.parseRuntime.parsedLineNumber,new i.default(function(n,r){e.needEmitLine?function t(e,n,r,i,o){if(r>=e.length)o();else if(n.parseRuntime.subscribe&&n.parseRuntime.subscribe.onNext){var a=n.parseRuntime.subscribe.onNext,u=e[r],c=a(u,n.parseRuntime.parsedLineNumber+r);if(r++,c&&c.then)c.then(function(){!function(e,n,r,i,o,a,u){o&&s(r,u),t(e,r,i,o,a)}(e,0,n,r,i,o,u)},o);else{for(i&&s(n,u);r<e.length;){var f=e[r];a(f,n.parseRuntime.parsedLineNumber+r),r++,i&&s(n,f)}o()}}else{if(i)for(;r<e.length;)f=e[r++],s(n,f);o()}}(t,e.converter,0,e.needPushDownstream,function(i){i?r(i):(e.appendFinalResult(t),n())}):(e.appendFinalResult(t),n())})},t.prototype.appendFinalResult=function(t){this.needEmitAll&&(this.finalResult=this.finalResult.concat(t)),this.converter.parseRuntime.parsedLineNumber+=t.length},t.prototype.processError=function(t){this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onError&&this.converter.parseRuntime.subscribe.onError(t),this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onrejected&&this.converter.parseRuntime.then.onrejected(t)},t.prototype.endProcess=function(){this.needEmitAll&&this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onfulfilled&&this.converter.parseRuntime.then.onfulfilled(this.finalResult),this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onCompleted&&this.converter.parseRuntime.subscribe.onCompleted()},t}();function s(t,e){"object"!=typeof e||t.options.objectMode?t.push(e):t.push(JSON.stringify(e)+"\n","utf8")}e.Result=o}])},function(t,e,n){(function(e){var r=n(147).EventEmitter,o=n(169).inherits,c=n(160),f=n(259),l=n(262),h=n(269),d=n(204),v=n(273),y=n(205),m=d.WriteError,_=d.ReadError,w=d.NotFoundError,k=d.OpenError,x=d.InitializationError;function E(t,n,o){if(!(this instanceof E))return new E(t,n,o);var c;if(r.call(this),this.setMaxListeners(1/0),"function"==typeof n&&(o=n,n={}),n=n||{},!t||"object"!=typeof t){if(c=new x("First argument must be an abstract-leveldown compliant store"),"function"==typeof o)return e.nextTick(o,c);throw c}v.equal(typeof t.status,"string",".status required, old abstract-leveldown"),this.options=j(n),this._db=t,this.db=new f(t),this.open(o)}function O(t,e){return"function"==typeof t?t:e}function j(t){return"object"==typeof t&&null!==t?t:{}}function S(t,n){if(!t._isOpening()&&!t.isOpen())return e.nextTick(n,new _("Database is not open")),!0}E.prototype.emit=r.prototype.emit,E.prototype.once=r.prototype.once,o(E,r),E.prototype.open=function(t){var n,r=this;return t||(n=(t=y()).promise),this.isOpen()?(e.nextTick(t,null,r),n):this._isOpening()?(this.once("open",function(){t(null,r)}),n):(this.emit("opening"),this.db.open(this.options,function(e){if(e)return t(new k(e));r.db=r._db,t(null,r),r.emit("open"),r.emit("ready")}),n)},E.prototype.close=function(t){var n,r=this;return t||(n=(t=y()).promise),this.isOpen()?(this.db.close(function(){r.emit("closed"),t.apply(null,arguments)}),this.emit("closing"),this.db=new f(this._db)):this.isClosed()?e.nextTick(t):"closing"===this.db.status?this.once("closed",t):this._isOpening()&&this.once("open",function(){r.close(t)}),n},E.prototype.isOpen=function(){return"open"===this.db.status},E.prototype._isOpening=function(){return"opening"===this.db.status},E.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},E.prototype.get=function(t,e,n){if(null==t)throw new _("get() requires a key argument");var r;return(n=O(e,n))||(r=(n=y()).promise),S(this,n)?r:(e=j(e),this.db.get(t,e,function(e,r){if(e)return e=/notfound/i.test(e)||e.notFound?new w("Key not found in database ["+t+"]",e):new _(e),n(e);n(null,r)}),r)},E.prototype.put=function(t,e,n,r){if(null==t)throw new m("put() requires a key argument");var o,c=this;return(r=O(n,r))||(o=(r=y()).promise),S(this,r)?o:(n=j(n),this.db.put(t,e,n,function(n){if(n)return r(new m(n));c.emit("put",t,e),r()}),o)},E.prototype.del=function(t,e,n){if(null==t)throw new m("del() requires a key argument");var r,o=this;return(n=O(e,n))||(r=(n=y()).promise),S(this,n)?r:(e=j(e),this.db.del(t,e,function(e){if(e)return n(new m(e));o.emit("del",t),n()}),r)},E.prototype.batch=function(t,e,n){if(!arguments.length)return new h(this);if(!Array.isArray(t))throw new m("batch() requires an array argument");var r,o=this;return(n=O(e,n))||(r=(n=y()).promise),S(this,n)?r:(e=j(e),this.db.batch(t,e,function(e){if(e)return n(new m(e));o.emit("batch",t),n()}),r)},E.prototype.readStream=E.prototype.createReadStream=function(t){return"number"!=typeof(t=c({keys:!0,values:!0},t)).limit&&(t.limit=-1),new l(this.db.iterator(t),t)},E.prototype.keyStream=E.prototype.createKeyStream=function(t){return this.createReadStream(c(t,{keys:!0,values:!1}))},E.prototype.valueStream=E.prototype.createValueStream=function(t){return this.createReadStream(c(t,{keys:!1,values:!0}))},E.prototype.toString=function(){return"LevelUP"},E.errors=d,t.exports=E.default=E}).call(this,n(86))},function(t,e,n){var r=n(197).AbstractLevelDOWN,o=n(137),c=n(261),f="put get del batch".split(" ");function l(t){r.call(this,""),this._db=t,this._operations=[],this._iterators=[],h(this)}function h(t){f.forEach(function(e){t["_"+e]=function(){this._operations.push({method:e,args:arguments})}}),"function"==typeof t._db.approximateSize&&(t.approximateSize=function(){this._operations.push({method:"approximateSize",args:arguments})}),t._iterator=function(t){var e=new c(t);return this._iterators.push(e),e}}o(l,r),l.prototype._open=function(t,e){var n=this;this._db.open(t,function(t){if(t)return e(t);n._operations.forEach(function(t){n._db[t.method].apply(n._db,t.args)}),n._operations=[],n._iterators.forEach(function(t){t.setDb(n._db)}),n._iterators=[],function(t){f.concat("iterator").forEach(function(e){t["_"+e]=function(){return this._db[e].apply(this._db,arguments)}}),t._db.approximateSize&&(t.approximateSize=function(){return this._db.approximateSize.apply(this._db,arguments)})}(n),e()})},l.prototype._close=function(t){var e=this;this._db.close(function(n){if(n)return t(n);h(e),t()})},l.prototype._serializeKey=function(t){return t},l.prototype._serializeValue=function(t){return t},t.exports=l,t.exports.DeferredIterator=c},function(t,e,n){(function(e,r){var o=n(160),c=n(198),f=n(199),l=Object.prototype.hasOwnProperty,h="start end gt gte lt lte".split(" ");function d(t){if(!arguments.length||void 0===t)throw new Error("constructor requires at least a location argument");if("string"!=typeof t)throw new Error("constructor requires a location string argument");this.location=t,this.status="new"}function v(t){return-1!==h.indexOf(t)}d.prototype.open=function(t,e){var n=this,r=this.status;if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("open() requires a callback argument");"object"!=typeof t&&(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,function(t){if(t)return n.status=r,e(t);n.status="open",e()})},d.prototype._open=function(t,n){e.nextTick(n)},d.prototype.close=function(t){var e=this,n=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");this.status="closing",this._close(function(r){if(r)return e.status=n,t(r);e.status="closed",t()})},d.prototype._close=function(t){e.nextTick(t)},d.prototype.get=function(t,n,r){if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("get() requires a callback argument");var o=this._checkKey(t,"key");if(o)return e.nextTick(r,o);t=this._serializeKey(t),"object"!=typeof n&&(n={}),n.asBuffer=!1!==n.asBuffer,this._get(t,n,r)},d.prototype._get=function(t,n,r){e.nextTick(function(){r(new Error("NotFound"))})},d.prototype.put=function(t,n,r,o){if("function"==typeof r&&(o=r),"function"!=typeof o)throw new Error("put() requires a callback argument");var c=this._checkKey(t,"key");if(c)return e.nextTick(o,c);t=this._serializeKey(t),n=this._serializeValue(n),"object"!=typeof r&&(r={}),this._put(t,n,r,o)},d.prototype._put=function(t,n,r,o){e.nextTick(o)},d.prototype.del=function(t,n,r){if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("del() requires a callback argument");var o=this._checkKey(t,"key");if(o)return e.nextTick(r,o);t=this._serializeKey(t),"object"!=typeof n&&(n={}),this._del(t,n,r)},d.prototype._del=function(t,n,r){e.nextTick(r)},d.prototype.batch=function(t,n,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof n&&(r=n),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return e.nextTick(r,new Error("batch(array) requires an array argument"));n&&"object"==typeof n||(n={});for(var c=new Array(t.length),i=0;i<t.length;i++){if("object"!=typeof t[i]||null===t[i])return e.nextTick(r,new Error("batch(array) element must be an object and not `null`"));var f=o(t[i]);if("put"!==f.type&&"del"!==f.type)return e.nextTick(r,new Error("`type` must be 'put' or 'del'"));var l=this._checkKey(f.key,"key");if(l)return e.nextTick(r,l);f.key=this._serializeKey(f.key),"put"===f.type&&(f.value=this._serializeValue(f.value)),c[i]=f}this._batch(c,n,r)},d.prototype._batch=function(t,n,r){e.nextTick(r)},d.prototype._setupIteratorOptions=function(t){return(t=function(t){var e={};for(var n in t)l.call(t,n)&&(v(n)&&(""===(o=t[n])||null==o||function(t){return r.isBuffer(t)&&0===t.length}(o))||(e[n]=t[n]));var o;return e}(t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},d.prototype.iterator=function(t){return"object"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},d.prototype._iterator=function(t){return new c(this)},d.prototype._chainedBatch=function(){return new f(this)},d.prototype._serializeKey=function(t){return r.isBuffer(t)?t:String(t)},d.prototype._serializeValue=function(t){return null==t?"":(r.isBuffer(t),t)},d.prototype._checkKey=function(t,e){return null==t?new Error(e+" cannot be `null` or `undefined`"):r.isBuffer(t)&&0===t.length?new Error(e+" cannot be an empty Buffer"):""===String(t)?new Error(e+" cannot be an empty String"):void 0},t.exports=d}).call(this,n(86),n(142).Buffer)},function(t,e,n){var r=n(197).AbstractIterator;function o(t){r.call(this,t),this._options=t,this._iterator=null,this._operations=[]}n(137)(o,r),o.prototype.setDb=function(t){var e=this._iterator=t.iterator(this._options);this._operations.forEach(function(t){e[t.method].apply(e,t.args)})},o.prototype._operation=function(t,e){if(this._iterator)return this._iterator[t].apply(this._iterator,e);this._operations.push({method:t,args:e})},"next end".split(" ").forEach(function(t){o.prototype["_"+t]=function(){this._operation(t,arguments)}}),t.exports=o},function(t,e,n){var r=n(137),o=n(170).Readable,c=n(160);function f(t,e){if(!(this instanceof f))return new f(t,e);e=e||{},o.call(this,c(e,{objectMode:!0})),this._iterator=t,this._destroyed=!1,this._options=e,this.on("end",this._cleanup.bind(this))}t.exports=f,r(f,o),f.prototype._read=function(){var t=this,e=this._options;this._destroyed||this._iterator.next(function(n,r,o){if(!t._destroyed)return n?t.emit("error",n):void(void 0===r&&void 0===o?t.push(null):!1!==e.keys&&!1===e.values?t.push(r):!1===e.keys&&!1!==e.values?t.push(o):t.push({key:r,value:o}))})},f.prototype.destroy=f.prototype._cleanup=function(){var t=this;this._destroyed||(this._destroyed=!0,this._iterator.end(function(e){if(e)return t.emit("error",e);t.emit("close")}))}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},,function(t,e,n){"use strict";var r=n(172).Buffer,o=n(266);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,t=""+p.data;p=p.next;)t+=s+p.data;return t},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,o,c=r.allocUnsafe(t>>>0),p=this.head,i=0;p;)e=p.data,n=c,o=i,e.copy(n,o),i+=p.data.length,p=p.next;return c},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},,function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(28))},function(t,e,n){"use strict";t.exports=c;var r=n(203),o=n(146);function c(t){if(!(this instanceof c))return new c(t);r.call(this,t)}o.inherits=n(137),o.inherits(c,r),c.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){var r=n(204).WriteError,o=n(205);function c(t){this._levelup=t,this.batch=t.db.batch(),this.ops=[],this.length=0}c.prototype.put=function(t,e){try{this.batch.put(t,e)}catch(t){throw new r(t)}return this.ops.push({type:"put",key:t,value:e}),this.length++,this},c.prototype.del=function(t){try{this.batch.del(t)}catch(t){throw new r(t)}return this.ops.push({type:"del",key:t}),this.length++,this},c.prototype.clear=function(){try{this.batch.clear()}catch(t){throw new r(t)}return this.ops=[],this.length=0,this},c.prototype.write=function(t){var e,n=this._levelup,c=this.ops;t||(e=(t=o()).promise);try{this.batch.write(function(e){if(e)return t(new r(e));n.emit("batch",c),t()})}catch(t){throw new r(t)}return e},t.exports=c},function(t,e,n){var r=t.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={},t.exports.code={},r.forEach(function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e}),t.exports.custom=n(271)(t.exports),t.exports.create=t.exports.custom.createError},function(t,e,n){var r=n(272);function o(t,e,n){e&&"string"!=typeof e&&(e=e.message||e.name),r(this,{type:t,name:t,cause:"string"!=typeof e?e:n,message:e},"ewr")}function c(t,e){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),o.call(this,"CustomError",t,e)}c.prototype=new Error,t.exports=function(t){var e=function(e,n){return function(t,e,n){var r=function(n,c){o.call(this,e,n,c),"FilesystemError"==e&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(t.errno[this.cause.errno]?t.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,r)};return r.prototype=n?new n:new c,r}(t,e,n)};return{CustomError:c,FilesystemError:e("FilesystemError"),createError:e}}},function(t,e,n){var r,o;r=this,o=function(){var t="function"==typeof Object.defineProperty?function(t,e,n){return Object.defineProperty(t,e,n),t}:function(t,e,n){return t[e]=n.value,t};return function(e,n,r,o){var c;if(o=function(t,e){var n="object"==typeof e,r=!n&&"string"==typeof e,o=function(p){return n?!!e[p]:!!r&&e.indexOf(p[0])>-1};return{enumerable:o("enumerable"),configurable:o("configurable"),writable:o("writable"),value:t}}(r,o),"object"==typeof n){for(c in n)Object.hasOwnProperty.call(n,c)&&(o.value=n[c],t(e,c,o));return e}return t(e,n,o)}},t.exports?t.exports=o():r.prr=o()},function(t,e,n){"use strict";(function(e){function r(a,b){if(a===b)return 0;for(var t=a.length,e=b.length,i=0,n=Math.min(t,e);i<n;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0}function o(b){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}var c=n(169),f=Object.prototype.hasOwnProperty,l=Array.prototype.slice,h="foo"===function(){}.name;function d(t){return Object.prototype.toString.call(t)}function v(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var y=t.exports=E,m=/\s*function\s+([^\(\s]*)\s*/;function _(t){if(c.isFunction(t)){if(h)return t.name;var e=t.toString().match(m);return e&&e[1]}}function w(s,t){return"string"==typeof s?s.length<t?s:s.slice(0,t):s}function k(t){if(h||!c.isFunction(t))return c.inspect(t);var e=_(t);return"[Function"+(e?": "+e:"")+"]"}function x(t,e,n,r,o){throw new y.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function E(t,e){t||x(t,!0,e,"==",y.ok)}function O(t,e,n,f){if(t===e)return!0;if(o(t)&&o(e))return 0===r(t,e);if(c.isDate(t)&&c.isDate(e))return t.getTime()===e.getTime();if(c.isRegExp(t)&&c.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(v(t)&&v(e)&&d(t)===d(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var h=(f=f||{actual:[],expected:[]}).actual.indexOf(t);return-1!==h&&h===f.expected.indexOf(e)||(f.actual.push(t),f.expected.push(e),function(a,b,t,e){if(null==a||null==b)return!1;if(c.isPrimitive(a)||c.isPrimitive(b))return a===b;if(t&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var n=j(a),r=j(b);if(n&&!r||!n&&r)return!1;if(n)return a=l.call(a),b=l.call(b),O(a,b,t);var o,i,f=P(a),h=P(b);if(f.length!==h.length)return!1;for(f.sort(),h.sort(),i=f.length-1;i>=0;i--)if(f[i]!==h[i])return!1;for(i=f.length-1;i>=0;i--)if(o=f[i],!O(a[o],b[o],t,e))return!1;return!0}(t,e,n,f))}return n?t===e:t==e}function j(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function S(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function C(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&x(o,n,"Missing expected exception"+r);var f="string"==typeof r,l=!t&&o&&!n;if((!t&&c.isError(o)&&f&&S(o,n)||l)&&x(o,n,"Got unwanted exception"+r),t&&o&&n&&!S(o,n)||!t&&o)throw o}y.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=w(k((e=this).actual),128)+" "+e.operator+" "+w(k(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||x;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,c=_(n),f=o.indexOf("\n"+c);if(f>=0){var l=o.indexOf("\n",f+1);o=o.substring(l+1)}this.stack=o}}},c.inherits(y.AssertionError,Error),y.fail=x,y.ok=E,y.equal=function(t,e,n){t!=e&&x(t,e,n,"==",y.equal)},y.notEqual=function(t,e,n){t==e&&x(t,e,n,"!=",y.notEqual)},y.deepEqual=function(t,e,n){O(t,e,!1)||x(t,e,n,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(t,e,n){O(t,e,!0)||x(t,e,n,"deepStrictEqual",y.deepStrictEqual)},y.notDeepEqual=function(t,e,n){O(t,e,!1)&&x(t,e,n,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=function t(e,n,r){O(e,n,!0)&&x(e,n,r,"notDeepStrictEqual",t)},y.strictEqual=function(t,e,n){t!==e&&x(t,e,n,"===",y.strictEqual)},y.notStrictEqual=function(t,e,n){t===e&&x(t,e,n,"!==",y.notStrictEqual)},y.throws=function(t,e,n){C(!0,t,e,n)},y.doesNotThrow=function(t,e,n){C(!1,t,e,n)},y.ifError=function(t){if(t)throw t};var P=Object.keys||function(t){var e=[];for(var n in t)f.call(t,n)&&e.push(n);return e}}).call(this,n(28))},function(t,e,n){(function(t){function n(t){return void 0!==t&&""!==t}function r(t,e){return Object.hasOwnProperty.call(t,e)}function o(t,e){return Object.hasOwnProperty.call(t,e)&&e}e.compare=function(a,b){if(t.isBuffer(a)){for(var e=Math.min(a.length,b.length),i=0;i<e;i++){var n=a[i]-b[i];if(n)return n}return a.length-b.length}return a<b?-1:a>b?1:0};var c=e.lowerBoundKey=function(t){return o(t,"gt")||o(t,"gte")||o(t,"min")||(t.reverse?o(t,"end"):o(t,"start"))||void 0},f=e.lowerBound=function(t,e){var n=c(t);return n?t[n]:e},l=e.lowerBoundInclusive=function(t){return!r(t,"gt")},h=e.upperBoundInclusive=function(t){return!r(t,"lt")},d=e.lowerBoundExclusive=function(t){return!l(t)},v=e.upperBoundExclusive=function(t){return!h(t)},y=e.upperBoundKey=function(t){return o(t,"lt")||o(t,"lte")||o(t,"max")||(t.reverse?o(t,"start"):o(t,"end"))||void 0},m=e.upperBound=function(t,e){var n=y(t);return n?t[n]:e};function _(t){return t}e.start=function(t,e){return t.reverse?m(t,e):f(t,e)},e.end=function(t,e){return t.reverse?f(t,e):m(t,e)},e.startInclusive=function(t){return t.reverse?h(t):l(t)},e.endInclusive=function(t){return t.reverse?l(t):h(t)},e.toLtgt=function(t,n,map,o,c){n=n||{},map=map||_;var f=arguments.length>3,l=e.lowerBoundKey(t),h=e.upperBoundKey(t);return l?"gt"===l?n.gt=map(t.gt,!1):n.gte=map(t[l],!1):f&&(n.gte=map(o,!1)),h?"lt"===h?n.lt=map(t.lt,!0):n.lte=map(t[h],!0):f&&(n.lte=map(c,!0)),null!=t.reverse&&(n.reverse=!!t.reverse),r(n,"max")&&delete n.max,r(n,"min")&&delete n.min,r(n,"start")&&delete n.start,r(n,"end")&&delete n.end,n},e.contains=function(t,r,o){o=o||e.compare;var c=f(t);if(n(c)&&((l=o(r,c))<0||0===l&&d(t)))return!1;var l,h=m(t);if(n(h)&&((l=o(r,h))>0||0===l&&v(t)))return!1;return!0},e.filter=function(t,n){return function(r){return e.contains(t,r,n)}}}).call(this,n(142).Buffer)},function(t,e,n){var r=n(180);(e=t.exports=n(207)).Stream=r,e.Readable=e,e.Writable=n(208),e.Duplex=n(181),e.Transform=n(209),e.PassThrough=n(280)},function(t,e,n){t.exports=n(179)},function(t,e,n){t.exports=n(153)},function(t,e,n){t.exports=n(170).PassThrough},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){t.exports=c;var r=n(209),o=n(146);function c(t){if(!(this instanceof c))return new c(t);r.call(this,t)}o.inherits=n(137),o.inherits(c,r),c.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){var r=n(282);function o(t){this.opts=t||{},this.encodings=r}t.exports=o,o.prototype._encoding=function(t){return"string"==typeof t&&(t=r[t]),t||(t=r.id),t},o.prototype._keyEncoding=function(t,e){return this._encoding(e&&e.keyEncoding||t&&t.keyEncoding||this.opts.keyEncoding)},o.prototype._valueEncoding=function(t,e){return this._encoding(e&&(e.valueEncoding||e.encoding)||t&&(t.valueEncoding||t.encoding)||this.opts.valueEncoding||this.opts.encoding)},o.prototype.encodeKey=function(t,e,n){return this._keyEncoding(e,n).encode(t)},o.prototype.encodeValue=function(t,e,n){return this._valueEncoding(e,n).encode(t)},o.prototype.decodeKey=function(t,e){return this._keyEncoding(e).decode(t)},o.prototype.decodeValue=function(t,e){return this._valueEncoding(e).decode(t)},o.prototype.encodeBatch=function(t,e){var n=this;return t.map(function(t){var r={type:t.type,key:n.encodeKey(t.key,e,t)};return n.keyAsBuffer(e,t)&&(r.keyEncoding="binary"),t.prefix&&(r.prefix=t.prefix),"value"in t&&(r.value=n.encodeValue(t.value,e,t),n.valueAsBuffer(e,t)&&(r.valueEncoding="binary")),r})};var c=["lt","gt","lte","gte","start","end"];o.prototype.encodeLtgt=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=c.indexOf(r)>-1?e.encodeKey(t[r],t):t[r]}),n},o.prototype.createStreamDecoder=function(t){var e=this;return t.keys&&t.values?function(n,r){return{key:e.decodeKey(n,t),value:e.decodeValue(r,t)}}:t.keys?function(n){return e.decodeKey(n,t)}:t.values?function(n,r){return e.decodeValue(r,t)}:function(){}},o.prototype.keyAsBuffer=function(t){return this._keyEncoding(t).buffer},o.prototype.valueAsBuffer=function(t){return this._valueEncoding(t).buffer}},function(t,e,n){(function(t){e.utf8=e["utf-8"]={encode:function(data){return r(data)?data:String(data)},decode:function(data){return"string"==typeof data?data:String(data)},buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(data){return r(data)?data:new t(data)},decode:n,buffer:!0,type:"binary"},e.none={encode:n,decode:n,buffer:!1,type:"id"},e.id=e.none;function n(t){return t}function r(data){return null==data||t.isBuffer(data)}["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach(function(n){e[n]={encode:function(data){return r(data)?data:new t(data,n)},decode:function(t){return t.toString(n)},buffer:!0,type:n}})}).call(this,n(142).Buffer)},function(t,e,n){(function(e){var r=n(206),o=n(169).inherits,c=n(160);function f(t){r.call(this,t),this._destroyed=!1}function l(t,e,n){n(null,t)}function h(t){return function(e,n,r){return"function"==typeof e&&(r=n,n=e,e={}),"function"!=typeof n&&(n=l),"function"!=typeof r&&(r=null),t(e,n,r)}}o(f,r),f.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},t.exports=h(function(t,e,n){var r=new f(t);return r._transform=e,n&&(r._flush=n),r}),t.exports.ctor=h(function(t,e,n){function r(e){if(!(this instanceof r))return new r(e);this.options=c(t,e),f.call(this,this.options)}return o(r,f),r.prototype._transform=e,n&&(r.prototype._flush=n),r}),t.exports.obj=h(function(t,e,n){var r=new f(c({objectMode:!0,highWaterMark:16},t));return r._transform=e,n&&(r._flush=n),r})}).call(this,n(86))},function(t,e,n){"use strict";function r(t){if(this._capacity=c(t),this._length=0,this._front=0,o(t)){for(var e=t.length,i=0;i<e;++i)this[i]=t[i];this._length=e}}r.prototype.toArray=function(){for(var t=this._length,e=new Array(t),n=this._front,r=this._capacity,o=0;o<t;++o)e[o]=this[n+o&r-1];return e},r.prototype.push=function(t){var e=arguments.length,n=this._length;if(e>1){var r=this._capacity;if(n+e>r){for(var i=0;i<e;++i){this._checkCapacity(n+1),this[o=this._front+n&this._capacity-1]=arguments[i],n++,this._length=n}return n}for(var o=this._front,i=0;i<e;++i)this[o+n&r-1]=arguments[i],o++;return this._length=n+e,n+e}return 0===e?n:(this._checkCapacity(n+1),this[i=this._front+n&this._capacity-1]=t,this._length=n+1,n+1)},r.prototype.pop=function(){var t=this._length;if(0!==t){var i=this._front+t-1&this._capacity-1,e=this[i];return this[i]=void 0,this._length=t-1,e}},r.prototype.shift=function(){var t=this._length;if(0!==t){var e=this._front,n=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length=t-1,n}},r.prototype.unshift=function(t){var e=this._length,n=arguments.length;if(n>1){if(e+n>(r=this._capacity)){for(var i=n-1;i>=0;i--){this._checkCapacity(e+1);var r=this._capacity;this[c=(this._front-1&r-1^r)-r]=arguments[i],e++,this._length=e,this._front=c}return e}var o=this._front;for(i=n-1;i>=0;i--){var c;this[c=(o-1&r-1^r)-r]=arguments[i],o=c}return this._front=o,this._length=e+n,e+n}if(0===n)return e;this._checkCapacity(e+1);r=this._capacity;return this[i=(this._front-1&r-1^r)-r]=t,this._length=e+1,this._front=i,e+1},r.prototype.peekBack=function(){var t=this._length;if(0!==t)return this[this._front+t-1&this._capacity-1]},r.prototype.peekFront=function(){if(0!==this._length)return this[this._front]},r.prototype.get=function(t){var i=t;if(i===(0|i)){var e=this._length;if(i<0&&(i+=e),!(i<0||i>=e))return this[this._front+i&this._capacity-1]}},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.clear=function(){for(var t=this._length,e=this._front,n=this._capacity,r=0;r<t;++r)this[e+r&n-1]=void 0;this._length=0,this._front=0},r.prototype.toString=function(){return this.toArray().toString()},r.prototype.valueOf=r.prototype.toString,r.prototype.removeFront=r.prototype.shift,r.prototype.removeBack=r.prototype.pop,r.prototype.insertFront=r.prototype.unshift,r.prototype.insertBack=r.prototype.push,r.prototype.enqueue=r.prototype.push,r.prototype.dequeue=r.prototype.shift,r.prototype.toJSON=r.prototype.toArray,Object.defineProperty(r.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(c(1.5*this._capacity+16))},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,r=this._length;n+r>e&&function(t,e,n,r,o){for(var c=0;c<o;++c)n[c+r]=t[c+e],t[c+e]=void 0}(this,0,this,e,n+r&e-1)};var o=Array.isArray;function c(t){if("number"!=typeof t){if(!o(t))return 16;t=t.length}return e=Math.min(Math.max(16,t),1073741824),e>>>=0,e-=1,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,1+(e|=e>>16);var e}t.exports=r},function(t,e,n){(function(e){var n=Object.prototype.toString,r="function"==typeof e.alloc&&"function"==typeof e.allocUnsafe&&"function"==typeof e.from;t.exports=function(t,o,c){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return input=t,"ArrayBuffer"===n.call(input).slice(8,-1)?function(t,n,o){n>>>=0;var c=t.byteLength-n;if(c<0)throw new RangeError("'offset' is out of bounds");if(void 0===o)o=c;else if((o>>>=0)>c)throw new RangeError("'length' is out of bounds");return r?e.from(t.slice(n,n+o)):new e(new Uint8Array(t.slice(n,n+o)))}(t,o,c):"string"==typeof t?function(t,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return r?e.from(t,n):new e(t,n)}(t,o):r?e.from(t):new e(t);var input}}).call(this,n(142).Buffer)},function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var element=r.element,o=r.index;if(Array.isArray(element))element.push(t);else if(o===e.length-2){element[e.pop()]=t}else e.push(t)}e.stringify=function(input){var t=[];t.push({obj:input});for(var e,n,r,i,o,c,f,l,h,d,v="";e=t.pop();)if(n=e.obj,v+=e.prefix||"",r=e.val||"")v+=r;else if("object"!=typeof n)v+=void 0===n?null:JSON.stringify(n);else if(null===n)v+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),i=n.length-1;i>=0;i--)o=0===i?"":",",t.push({obj:n[i],prefix:o});t.push({val:"["})}else{for(f in c=[],n)n.hasOwnProperty(f)&&c.push(f);for(t.push({val:"}"}),i=c.length-1;i>=0;i--)h=n[l=c[i]],d=i>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:h,prefix:d});t.push({val:"{"})}return v},e.parse=function(t){for(var e,n,o,c,f,l,h,d,v,y=[],m=[],i=0;;)if("}"!==(e=t[i++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":i+=3,r(null,y,m);break;case"t":i+=3,r(!0,y,m);break;case"f":i+=4,r(!1,y,m);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",i--;;){if(o=t[i++],!/[\d\.\-e\+]/.test(o)){i--;break}n+=o}r(parseFloat(n),y,m);break;case'"':for(c="",f=void 0,l=0;'"'!==(h=t[i++])||"\\"===f&&l%2==1;)c+=h,"\\"===(f=h)?l++:l=0;r(JSON.parse('"'+c+'"'),y,m);break;case"[":d={element:[],index:y.length},y.push(d.element),m.push(d);break;case"{":v={element:{},index:y.length},y.push(v.element),m.push(v);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===y.length)return y.pop();r(y.pop(),y,m)}}},function(t,e,n){(function(e){var r=n(137),o=n(210).AbstractLevelDOWN,c=n(210).AbstractIterator,f=n(289),l=n(290),h={},d=n(291);function v(t){return f.compare(t,this._end)>0}function y(t){return f.compare(t,this._end)>=0}function m(t){return f.compare(t,this._end)<0}function _(t){return f.compare(t,this._end)<=0}function w(t,e){c.call(this,t),this._limit=e.limit,-1===this._limit&&(this._limit=1/0);var n=t._store[t._location];this.keyAsBuffer=!1!==e.keyAsBuffer,this.valueAsBuffer=!1!==e.valueAsBuffer,this._reverse=e.reverse,this._options=e,this._done=0,this._reverse?(this._incr="prev",this._start=f.upperBound(e),this._end=f.lowerBound(e),void 0===this._start?this._tree=n.end:f.upperBoundInclusive(e)?this._tree=n.le(this._start):this._tree=n.lt(this._start),this._end&&(f.lowerBoundInclusive(e)?this._test=y:this._test=v)):(this._incr="next",this._start=f.lowerBound(e),this._end=f.upperBound(e),void 0===this._start?this._tree=n.begin:f.lowerBoundInclusive(e)?this._tree=n.ge(this._start):this._tree=n.gt(this._start),this._end&&(f.upperBoundInclusive(e)?this._test=_:this._test=m))}function k(t){if(!(this instanceof k))return new k(t);o.call(this,"string"==typeof t?t:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?h:this,this._store[this._location]=this._store[this._location]||l(f.compare)}r(w,c),w.prototype._next=function(t){var n,r;return this._done++>=this._limit?d(t):this._tree.valid?(n=this._tree.key,r=this._tree.value,this._test(n)?(this.keyAsBuffer&&(n=new e(n)),this.valueAsBuffer&&(r=new e(r)),this._tree[this._incr](),void d(function(){t(null,n,r)})):d(t)):d(t)},w.prototype._test=function(){return!0},k.clearGlobalStore=function(t){t?Object.keys(h).forEach(function(t){delete h[t]}):h={}},r(k,o),k.prototype._open=function(t,e){var n=this;d(function(){e(null,n)})},k.prototype._put=function(t,e,n,r){null==e&&(e="");var o=this._store[this._location].find(t);o.valid?this._store[this._location]=o.update(e):this._store[this._location]=this._store[this._location].insert(t,e),d(r)},k.prototype._get=function(t,n,r){var o=this._store[this._location].get(t);if(void 0===o)return d(function(){r(new Error("NotFound"))});!1===n.asBuffer||this._isBuffer(o)||(o=new e(String(o))),d(function(){r(null,o)})},k.prototype._del=function(t,e,n){this._store[this._location]=this._store[this._location].remove(t),d(n)},k.prototype._batch=function(t,e,n){for(var r,o,c,i=-1,f=t.length,l=this._store[this._location];++i<f;)t[i]&&(r=this._isBuffer(t[i].key)?t[i].key:String(t[i].key),c=l.find(r),"put"===t[i].type?(o=this._isBuffer(t[i].value)?t[i].value:String(t[i].value),l=c.valid?c.update(o):l.insert(r,o)):l=c.remove());this._store[this._location]=l,d(n)},k.prototype._iterator=function(t){return new w(this,t)},k.prototype._isBuffer=function(t){return e.isBuffer(t)},k.destroy=function(t,e){var n="$"+t;n in h&&delete h[n],d(e)},t.exports=k}).call(this,n(142).Buffer)},function(t,e,n){var r=n(211);t.exports=function(t){return!(!t||"object"!=typeof t)&&Object.keys(r.prototype).filter(function(t){return"_"!=t[0]&&"approximateSize"!=t}).every(function(e){return"function"==typeof t[e]})}},function(t,e,n){(function(t){function n(t,e){return Object.hasOwnProperty.call(t,e)}function r(t){return void 0!==t&&""!==t}function n(t,e){return Object.hasOwnProperty.call(t,e)}function o(t,e){return Object.hasOwnProperty.call(t,e)&&e}e.compare=function(a,b){if(t.isBuffer(a)){for(var e=Math.min(a.length,b.length),i=0;i<e;i++){var n=a[i]-b[i];if(n)return n}return a.length-b.length}return a<b?-1:a>b?1:0};var c=e.lowerBoundKey=function(t){return o(t,"gt")||o(t,"gte")||o(t,"min")||(t.reverse?o(t,"end"):o(t,"start"))||void 0},f=e.lowerBound=function(t){var e=c(t);return e&&t[e]},l=e.lowerBoundInclusive=function(t){return!n(t,"gt")},h=e.upperBoundInclusive=function(t){return!n(t,"lt")},d=e.lowerBoundExclusive=function(t){return!l(t)},v=e.upperBoundExclusive=function(t){return!h(t)},y=e.upperBoundKey=function(t){return o(t,"lt")||o(t,"lte")||o(t,"max")||(t.reverse?o(t,"start"):o(t,"end"))||void 0},m=e.upperBound=function(t){var e=y(t);return e&&t[e]};function _(t){return t}e.toLtgt=function(t,r,map,o,c){r=r||{},map=map||_;var f=arguments.length>3,l=e.lowerBoundKey(t),h=e.upperBoundKey(t);return l?"gt"===l?r.gt=map(t.gt,!1):r.gte=map(t[l],!1):f&&(r.gte=map(o,!1)),h?"lt"===h?r.lt=map(t.lt,!0):r.lte=map(t[h],!0):f&&(r.lte=map(c,!0)),null!=t.reverse&&(r.reverse=!!t.reverse),n(r,"max")&&delete r.max,n(r,"min")&&delete r.min,n(r,"start")&&delete r.start,n(r,"end")&&delete r.end,r},e.contains=function(t,n,o){o=o||e.compare;var c=f(t);if(r(c)&&((l=o(n,c))<0||0===l&&d(t)))return!1;var l,h=m(t);if(r(h)&&((l=o(n,h))>0||0===l&&v(t)))return!1;return!0},e.filter=function(t,n){return function(r){return e.contains(t,r,n)}}}).call(this,n(142).Buffer)},function(t,e,n){"use strict";t.exports=function(t){return new d(t||w,null)};var r=0,o=1;function c(t,e,n,r,o,c){this._color=t,this.key=e,this.value=n,this.left=r,this.right=o,this._count=c}function f(t){return new c(t._color,t.key,t.value,t.left,t.right,t._count)}function l(t,e){return new c(t,e.key,e.value,e.left,e.right,e._count)}function h(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function d(t,e){this._compare=t,this.root=e}var v=d.prototype;function y(t,e){this.tree=t,this._stack=e}Object.defineProperty(v,"keys",{get:function(){var t=[];return this.forEach(function(e,n){t.push(e)}),t}}),Object.defineProperty(v,"values",{get:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t}}),Object.defineProperty(v,"length",{get:function(){return this.root?this.root._count:0}}),v.insert=function(t,e){for(var n=this._compare,f=this.root,v=[],y=[];f;){var m=n(t,f.key);v.push(f),y.push(m),f=m<=0?f.left:f.right}v.push(new c(r,t,e,null,null,1));for(var s=v.length-2;s>=0;--s){f=v[s];y[s]<=0?v[s]=new c(f._color,f.key,f.value,v[s+1],f.right,f._count+1):v[s]=new c(f._color,f.key,f.value,f.left,v[s+1],f._count+1)}for(s=v.length-1;s>1;--s){var p=v[s-1];f=v[s];if(p._color===o||f._color===o)break;var _=v[s-2];if(_.left===p)if(p.left===f){if(!(w=_.right)||w._color!==r){if(_._color=r,_.left=p.right,p._color=o,p.right=_,v[s-2]=p,v[s-1]=f,h(_),h(p),s>=3)(k=v[s-3]).left===_?k.left=p:k.right=p;break}p._color=o,_.right=l(o,w),_._color=r,s-=1}else{if(!(w=_.right)||w._color!==r){if(p.right=f.left,_._color=r,_.left=f.right,f._color=o,f.left=p,f.right=_,v[s-2]=f,v[s-1]=p,h(_),h(p),h(f),s>=3)(k=v[s-3]).left===_?k.left=f:k.right=f;break}p._color=o,_.right=l(o,w),_._color=r,s-=1}else if(p.right===f){if(!(w=_.left)||w._color!==r){if(_._color=r,_.right=p.left,p._color=o,p.left=_,v[s-2]=p,v[s-1]=f,h(_),h(p),s>=3)(k=v[s-3]).right===_?k.right=p:k.left=p;break}p._color=o,_.left=l(o,w),_._color=r,s-=1}else{var w;if(!(w=_.left)||w._color!==r){var k;if(p.left=f.right,_._color=r,_.right=f.left,f._color=o,f.right=p,f.left=_,v[s-2]=f,v[s-1]=p,h(_),h(p),h(f),s>=3)(k=v[s-3]).right===_?k.right=f:k.left=f;break}p._color=o,_.left=l(o,w),_._color=r,s-=1}}return v[0]._color=o,new d(n,v[0])},v.forEach=function(t,e,n){if(this.root)switch(arguments.length){case 1:return function t(e,n){var r;if(n.left&&(r=t(e,n.left)))return r;return(r=e(n.key,n.value))||(n.right?t(e,n.right):void 0)}(t,this.root);case 2:return function t(e,n,r,o){if(n(e,o.key)<=0){var c;if(o.left&&(c=t(e,n,r,o.left)))return c;if(c=r(o.key,o.value))return c}if(o.right)return t(e,n,r,o.right)}(e,this._compare,t,this.root);case 3:if(this._compare(e,n)>=0)return;return function t(e,n,r,o,c){var f,l=r(e,c.key),h=r(n,c.key);if(l<=0){if(c.left&&(f=t(e,n,r,o,c.left)))return f;if(h>0&&(f=o(c.key,c.value)))return f}if(h>0&&c.right)return t(e,n,r,o,c.right)}(e,n,this._compare,t,this.root)}},Object.defineProperty(v,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new y(this,t)}}),Object.defineProperty(v,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new y(this,t)}}),v.at=function(t){if(t<0)return new y(this,[]);for(var e=this.root,n=[];;){if(n.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new y(this,n);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new y(this,[])},v.ge=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var c=e(t,n.key);r.push(n),c<=0&&(o=r.length),n=c<=0?n.left:n.right}return r.length=o,new y(this,r)},v.gt=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var c=e(t,n.key);r.push(n),c<0&&(o=r.length),n=c<0?n.left:n.right}return r.length=o,new y(this,r)},v.lt=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var c=e(t,n.key);r.push(n),c>0&&(o=r.length),n=c<=0?n.left:n.right}return r.length=o,new y(this,r)},v.le=function(t){for(var e=this._compare,n=this.root,r=[],o=0;n;){var c=e(t,n.key);r.push(n),c>=0&&(o=r.length),n=c<0?n.left:n.right}return r.length=o,new y(this,r)},v.find=function(t){for(var e=this._compare,n=this.root,r=[];n;){var o=e(t,n.key);if(r.push(n),0===o)return new y(this,r);n=o<=0?n.left:n.right}return new y(this,[])},v.remove=function(t){var e=this.find(t);return e?e.remove():this},v.get=function(t){for(var e=this._compare,n=this.root;n;){var r=e(t,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var m=y.prototype;function _(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function w(a,b){return a<b?-1:a>b?1:0}Object.defineProperty(m,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(m,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),m.clone=function(){return new y(this.tree,this._stack.slice())},m.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),n=t[t.length-1];e[e.length-1]=new c(n._color,n.key,n.value,n.left,n.right,n._count);for(var i=t.length-2;i>=0;--i){(n=t[i]).left===t[i+1]?e[i]=new c(n._color,n.key,n.value,e[i+1],n.right,n._count):e[i]=new c(n._color,n.key,n.value,n.left,e[i+1],n._count)}if((n=e[e.length-1]).left&&n.right){var v=e.length;for(n=n.left;n.right;)e.push(n),n=n.right;var y=e[v-1];e.push(new c(n._color,y.key,y.value,n.left,n.right,n._count)),e[v-1].key=n.key,e[v-1].value=n.value;for(i=e.length-2;i>=v;--i)n=e[i],e[i]=new c(n._color,n.key,n.value,n.left,e[i+1],n._count);e[v-1].left=e[v]}if((n=e[e.length-1])._color===r){var p=e[e.length-2];p.left===n?p.left=null:p.right===n&&(p.right=null),e.pop();for(i=0;i<e.length;++i)e[i]._count--;return new d(this.tree._compare,e[0])}if(n.left||n.right){n.left?_(n,n.left):n.right&&_(n,n.right),n._color=o;for(i=0;i<e.length-1;++i)e[i]._count--;return new d(this.tree._compare,e[0])}if(1===e.length)return new d(this.tree._compare,null);for(i=0;i<e.length;++i)e[i]._count--;var m=e[e.length-2];return function(t){for(var e,p,s,n,i=t.length-1;i>=0;--i){if(e=t[i],0===i)return void(e._color=o);if((p=t[i-1]).left===e){if((s=p.right).right&&s.right._color===r)return n=(s=p.right=f(s)).right=f(s.right),p.right=s.left,s.left=p,s.right=n,s._color=p._color,e._color=o,p._color=o,n._color=o,h(p),h(s),i>1&&((c=t[i-2]).left===p?c.left=s:c.right=s),void(t[i-1]=s);if(s.left&&s.left._color===r)return n=(s=p.right=f(s)).left=f(s.left),p.right=n.left,s.left=n.right,n.left=p,n.right=s,n._color=p._color,p._color=o,s._color=o,e._color=o,h(p),h(s),h(n),i>1&&((c=t[i-2]).left===p?c.left=n:c.right=n),void(t[i-1]=n);if(s._color===o){if(p._color===r)return p._color=o,void(p.right=l(r,s));p.right=l(r,s);continue}s=f(s),p.right=s.left,s.left=p,s._color=p._color,p._color=r,h(p),h(s),i>1&&((c=t[i-2]).left===p?c.left=s:c.right=s),t[i-1]=s,t[i]=p,i+1<t.length?t[i+1]=e:t.push(e),i+=2}else{if((s=p.left).left&&s.left._color===r)return n=(s=p.left=f(s)).left=f(s.left),p.left=s.right,s.right=p,s.left=n,s._color=p._color,e._color=o,p._color=o,n._color=o,h(p),h(s),i>1&&((c=t[i-2]).right===p?c.right=s:c.left=s),void(t[i-1]=s);if(s.right&&s.right._color===r)return n=(s=p.left=f(s)).right=f(s.right),p.left=n.right,s.right=n.left,n.right=p,n.left=s,n._color=p._color,p._color=o,s._color=o,e._color=o,h(p),h(s),h(n),i>1&&((c=t[i-2]).right===p?c.right=n:c.left=n),void(t[i-1]=n);if(s._color===o){if(p._color===r)return p._color=o,void(p.left=l(r,s));p.left=l(r,s);continue}var c;s=f(s),p.left=s.right,s.right=p,s._color=p._color,p._color=r,h(p),h(s),i>1&&((c=t[i-2]).right===p?c.right=s:c.left=s),t[i-1]=s,t[i]=p,i+1<t.length?t[i+1]=e:t.push(e),i+=2}}}(e),m.left===n?m.left=null:m.right=null,new d(this.tree._compare,e[0])},Object.defineProperty(m,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(m,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(m,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var n=this.tree.root;return n?n._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var s=e.length-2;s>=0;--s)e[s+1]===e[s].right&&(++t,e[s].left&&(t+=e[s].left._count));return t},enumerable:!0}),m.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(m,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var s=t.length-1;s>0;--s)if(t[s-1].left===t[s])return!0;return!1}}),m.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var n=new Array(e.length),r=e[e.length-1];n[n.length-1]=new c(r._color,r.key,t,r.left,r.right,r._count);for(var i=e.length-2;i>=0;--i)(r=e[i]).left===e[i+1]?n[i]=new c(r._color,r.key,r.value,n[i+1],r.right,r._count):n[i]=new c(r._color,r.key,r.value,r.left,n[i+1],r._count);return new d(this.tree._compare,n[0])},m.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(m,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var s=t.length-1;s>0;--s)if(t[s-1].right===t[s])return!0;return!1}})},function(t,e,n){t.exports=n(292)},function(t,e,n){"use strict";var r,o,c,f=[n(293),n(294),n(295),n(296),n(297)],l=-1,h=[],d=!1;function v(){r&&o&&(r=!1,o.length?h=o.concat(h):l=-1,h.length&&y())}function y(){if(!r){d=!1,r=!0;for(var t=h.length,e=setTimeout(v);t;){for(o=h,h=[];o&&++l<t;)o[l].run();l=-1,t=h.length}o=null,l=-1,r=!1,clearTimeout(e)}}for(var i=-1,m=f.length;++i<m;)if(f[i]&&f[i].test&&f[i].test()){c=f[i].install(y);break}function _(t,e){this.fun=t,this.array=e}_.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new _(t,e)),d||r||(d=!0,c())}},function(t,e,n){"use strict";(function(t){e.test=function(){return void 0!==t&&!1},e.install=function(e){return function(){t.nextTick(e)}}}).call(this,n(86))},function(t,e,n){"use strict";(function(t){var n=t.MutationObserver||t.WebKitMutationObserver;e.test=function(){return n},e.install=function(e){var r=0,o=new n(e),element=t.document.createTextNode("");return o.observe(element,{characterData:!0}),function(){element.data=r=++r%2}}}).call(this,n(28))},function(t,e,n){"use strict";(function(t){e.test=function(){return!t.setImmediate&&void 0!==t.MessageChannel},e.install=function(e){var n=new t.MessageChannel;return n.port1.onmessage=e,function(){n.port2.postMessage(0)}}}).call(this,n(28))},function(t,e,n){"use strict";(function(t){e.test=function(){return"document"in t&&"onreadystatechange"in t.document.createElement("script")},e.install=function(e){return function(){var n=t.document.createElement("script");return n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n),e}}}).call(this,n(28))},function(t,e,n){"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},,,,,function(t,e,n){"use strict";var r=n(143),o=n.n(r),c=n(144),f=n.n(c),l=n(149),h=n.n(l),d=n(185),v=n.n(d),y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function m(t,e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),t._pHM.has(e)){var n=t._pHM.get(e);t._hPM.delete(n),t._pHM.delete(e)}t._iC.delete(e)}}function _(t){t._tryIR||0===t._iC.size||(t._tryIR=!0,setTimeout(function(){t.isIdle()?setTimeout(function(){t.isIdle()?(!function(t){0!==t._iC.size&&(t._iC.values().next().value._manRes(),setTimeout(function(){return _(t)},0))}(t),t._tryIR=!1):t._tryIR=!1},0):t._tryIR=!1},0))}y.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,_(this)},wrapCall:function(t){var e,n=this;this.lock();try{e=t()}catch(t){throw this.unlock(),t}return e.then&&"function"==typeof e.then?e.then(function(t){return n.unlock(),t}).catch(function(t){throw n.unlock(),t}):(this.unlock(),e)},requestIdlePromise:function(t){var e,n=this;t=t||{};var r=new Promise(function(t){return e=t});if(r._manRes=function(){m(n,r),e()},t.timeout){var o=setTimeout(function(){r._manRes()},t.timeout);r._timeoutObj=o}return this._iC.add(r),_(this),r},cancelIdlePromise:function(t){m(this,t)},requestIdleCallback:function(t,e){var n=this._lHN++,r=this.requestIdlePromise(e);return this._hPM.set(n,r),this._pHM.set(r,n),r.then(function(){return t()}),n},cancelIdleCallback:function(t){var e=this._hPM.get(t);this.cancelIdlePromise(e)},clear:function(){var t=this;this._iC.forEach(function(e){return m(t,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var w=y;function k(time){return time||(time=0),new Promise(function(t){return setTimeout(t,time)})}function x(t){t||(t=5);for(var text="",e="abcdefghijklmnopqrstuvwxzy0123456789",i=0;i<t;i++)text+=e.charAt(Math.floor(Math.random()*e.length));return text}var E=0,O=0;function j(){var t=(new Date).getTime();return t===E?1e3*t+ ++O:(E=t,O=0,1e3*t)}var S=n(162),C=n.n(S);var P={create:function(t){var e={messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(t){e.messagesCallback&&e.messagesCallback(t.data)},e},close:function(t){t.bc.close(),t.subFns=[]},onMessage:function(t,e,time){t.messagesCallbackTime=time,t.messagesCallback=e},postMessage:function(t,e){t.bc.postMessage(e,!1)},canBeUsed:function(){if(C.a&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 100},microSeconds:j},A=function(t){this.ttl=t,this.set=new Set,this.timeMap=new Map,this.has=this.set.has.bind(this.set)};function R(){return(new Date).getTime()}A.prototype={add:function(t){this.timeMap.set(t,R()),this.set.add(t),function(t){var e=R()-t.ttl,n=t.set[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;var time=t.timeMap.get(r);if(!(time<e))return;t.timeMap.delete(r),t.set.delete(r)}}(this)},clear:function(){this.set.clear(),this.timeMap.clear()}};var T=A;function D(t){return t||(t={}),void 0===(t=JSON.parse(JSON.stringify(t))).webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var M="pubkey.broadcast-channel-0-",B="messages";function L(){return"undefined"!=typeof indexedDB?indexedDB:void 0!==window.mozIndexedDB?window.mozIndexedDB:void 0!==window.webkitIndexedDB?window.webkitIndexedDB:void 0!==window.msIndexedDB&&window.msIndexedDB}function I(t,e){return function(t,e){var n=(new Date).getTime()-e,r=t.transaction(B).objectStore(B),o=[];return new Promise(function(t){r.openCursor().onsuccess=function(e){var cursor=e.target.result;if(cursor){var r=cursor.value;if(!(r.time<n))return void t(o);o.push(r),cursor.continue()}else t(o)}})}(t,e).then(function(e){return Promise.all(e.map(function(e){return function(t,e){var n=t.transaction([B],"readwrite").objectStore(B).delete(e);return new Promise(function(t){n.onsuccess=function(){return t()}})}(t,e.id)}))})}function N(t){return t.closed?Promise.resolve():t.messagesCallback?(e=t.db,n=t.lastCursorId,r=e.transaction(B).objectStore(B),o=[],c=IDBKeyRange.bound(n+1,1/0),new Promise(function(t){r.openCursor(c).onsuccess=function(e){var cursor=e.target.result;cursor?(o.push(cursor.value),cursor.continue()):t(o)}})).then(function(e){return e.map(function(e){return e.id>t.lastCursorId&&(t.lastCursorId=e.id),e}).filter(function(e){return function(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}(e,t)}).sort(function(t,e){return t.time-e.time}).forEach(function(e){t.messagesCallback&&(t.eMIs.add(e.id),t.messagesCallback(e.data))}),Promise.resolve()}):Promise.resolve();var e,n,r,o,c}var F="pubkey.broadcastChannel-";function U(t){return F+t}function $(){return!C.a&&!!function(){var t;if("undefined"==typeof window)return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return t}()}var V=[P,{create:function(t,e){return e=D(e),function(t){var e=L(),n=M+t,r=e.open(n,1);return r.onupgradeneeded=function(t){t.target.result.createObjectStore(B,{keyPath:"id",autoIncrement:!0})},new Promise(function(t,e){r.onerror=function(t){return e(t)},r.onsuccess=function(){t(r.result)}})}(t).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:x(10),eMIs:new T(2*e.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return function t(e){if(!e.closed)return N(e).then(function(){return k(e.options.idb.fallbackInterval)}).then(function(){return t(e)})}(r),r})},close:function(t){t.closed=!0,t.db.close()},onMessage:function(t,e,time){t.messagesCallbackTime=time,t.messagesCallback=e,N(t)},postMessage:function(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return function(t,e,n){var r={uuid:e,time:(new Date).getTime(),data:n},o=t.transaction([B],"readwrite");return new Promise(function(t,e){o.oncomplete=function(){return t()},o.onerror=function(t){return e(t)},o.objectStore(B).add(r)})}(t.db,t.uuid,e)}).then(function(){var e,n;0===(e=0,n=10,Math.floor(Math.random()*(n-e+1)+e))&&I(t.db,t.options.idb.ttl)}),t.writeBlockPromise},canBeUsed:function(){return!C.a&&!!L()},type:"idb",averageResponseTime:function(t){return 2*t.idb.fallbackInterval},microSeconds:j},{create:function(t,e){if(e=D(e),!$())throw new Error("BroadcastChannel: localstorage cannot be used");var n=x(10),r=new T(e.localstorage.removeTimeout),o={channelName:t,uuid:n,eMIs:r};return o.listener=function(t,e){var n=U(t),r=function(t){t.key===n&&e(JSON.parse(t.newValue))};return window.addEventListener("storage",r),r}(t,function(t){o.messagesCallback&&t.uuid!==n&&t.token&&!r.has(t.token)&&(t.data.time&&t.data.time<o.messagesCallbackTime||(r.add(t.token),o.messagesCallback(t.data)))}),o},close:function(t){var e;e=t.listener,window.removeEventListener("storage",e)},onMessage:function(t,e,time){t.messagesCallbackTime=time,t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(n){k().then(function(){var r=U(t.channelName),o={token:x(10),time:(new Date).getTime(),data:e,uuid:t.uuid},c=JSON.stringify(o);localStorage.setItem(r,c);var f=document.createEvent("Event");f.initEvent("storage",!0,!0),f.key=r,f.newValue=c,window.dispatchEvent(f),n()})})},canBeUsed:$,type:"localstorage",averageResponseTime:function(){return 120},microSeconds:j}];if(C.a){var z=n(222);"function"==typeof z.canBeUsed&&V.push(z)}function H(t){if(t.type){var e=V.find(function(e){return e.type===t.type});if(e)return e;throw new Error("method-type "+t.type+" not found")}var n=V;t.webWorkerSupport||C.a||(n=V.filter(function(t){return"idb"!==t.type}));var r=n.find(function(t){return t.canBeUsed()});if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(V.map(function(t){return t.type})))}var W=function(t,e){var n,r,o;this.name=t,this.options=D(e),this.method=H(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._befC=[],this._prepP=null,r=(n=this).method.create(n.name,n.options),(o=r)&&"function"==typeof o.then?(n._prepP=r,r.then(function(s){n._state=s})):n._state=r};function K(t,e,n){var r={time:t.method.microSeconds(),type:e,data:n};return(t._prepP?t._prepP:Promise.resolve()).then(function(){return t.method.postMessage(t._state,r)})}function Y(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function J(t,e,n){t._addEL[e].push(n),function(t){if(!t._iL&&Y(t)){var e=function(e){t._addEL[e.type].forEach(function(t){e.time>=t.time&&t.fn(e.data)})},time=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,time)}):(t._iL=!0,t.method.onMessage(t._state,e,time))}}(t)}function Q(t,e,n){t._addEL[e]=t._addEL[e].filter(function(t){return t!==n}),function(t){if(t._iL&&!Y(t)){t._iL=!1;var time=t.method.microSeconds();t.method.onMessage(t._state,null,time)}}(t)}W._pubkey=!0,W.clearNodeFolder=function(t){var e=H(t=D(t));return"node"===e.type?e.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)},W.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return K(this,"message",t)},postInternal:function(t){return K(this,"internal",t)},set onmessage(t){var e={time:this.method.microSeconds(),fn:t};Q(this,"message",this._onML),t&&"function"==typeof t?(this._onML=e,J(this,"message",e)):this._onML=null},addEventListener:function(t,e){J(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){Q(this,t,this._addEL[t].find(function(t){return t.fn===e}))},close:function(){var t=this;if(!this.closed){this.closed=!0;var e=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(t._befC.map(function(t){return t()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type}};var G=W,X=n(166),Z=n.n(X),tt=n(140),et=n(158),nt=n(137),it=n.n(nt),ot=n(147),at=n(156),st=n(150),ut=("undefined"!=typeof AbortController&&AbortController,fetch),ct=Headers;var ft=-324,lt=3,ht="";function pt(a,b){if(a===b)return 0;a=vt(a),b=vt(b);var t=_t(a),e=_t(b);if(t-e!=0)return t-e;switch(typeof a){case"number":return a-b;case"boolean":return a<b?-1:1;case"string":return function(a,b){return a===b?0:a>b?1:-1}(a,b)}return Array.isArray(a)?function(a,b){for(var t=Math.min(a.length,b.length),i=0;i<t;i++){var e=pt(a[i],b[i]);if(0!==e)return e}return a.length===b.length?0:a.length>b.length?1:-1}(a,b):function(a,b){for(var t=Object.keys(a),e=Object.keys(b),n=Math.min(t.length,e.length),i=0;i<n;i++){var r=pt(t[i],e[i]);if(0!==r)return r;if(0!==(r=pt(a[t[i]],b[e[i]])))return r}return t.length===e.length?0:t.length>e.length?1:-1}(a,b)}function vt(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var i=0;i<n;i++)t[i]=vt(e[i])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var r in t={},e)if(e.hasOwnProperty(r)){var o=e[r];void 0!==o&&(t[r]=vt(o))}}}return t}function yt(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",c=(f=((r?-n:n)-ft).toString(),l="0",h=lt,function(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}(f,l,h)+f);var f,l,h;o+=ht+c;var d=Math.abs(parseFloat(e[0]));r&&(d=10-d);var v=d.toFixed(20);return v=v.replace(/\.?0+$/,""),o+=ht+v}(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),i=-1,r=n.length,o="";if(e)for(;++i<r;)o+=gt(n[i]);else for(;++i<r;){var c=n[i];o+=gt(c)+gt(t[c])}return o}return""}function gt(t){return _t(t=vt(t))+ht+yt(t)+"\0"}function mt(t,i){var e,n=i;if("1"===t[i])e=0,i++;else{var r="0"===t[i];i++;var o="",c=t.substring(i,i+lt),f=parseInt(c,10)+ft;for(r&&(f=-f),i+=lt;;){var l=t[i];if("\0"===l)break;o+=l,i++}e=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),r&&(e-=10),0!==f&&(e=parseFloat(e+"e"+f))}return{num:e,length:i-n}}function bt(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var element=r.element,o=r.index;if(Array.isArray(element))element.push(n);else if(o===t.length-2){element[t.pop()]=n}else t.push(n)}}function _t(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}function wt(t,e){for(var n=t,i=0,r=e.length;i<r;i++){if(!(n=n[e[i]]))break}return n}function kt(t,e,n){for(var i=0,r=e.length;i<r-1;i++){t=t[e[i]]={}}t[e[r-1]]=n}function xt(t,e){return t<e?-1:t>e?1:0}function Et(t){for(var e=[],n="",i=0,r=t.length;i<r;i++){var o=t[i];"."===o?i>0&&"\\"===t[i-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=o}return e.push(n),e}var Ot=["$or","$nor","$not"];function jt(t){return Ot.indexOf(t)>-1}function St(t){return Object.keys(t)[0]}function Ct(t){return t[St(t)]}function Pt(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){var r=t[n];if("object"!=typeof r&&(r={$eq:r}),jt(n))r instanceof Array?e[n]=r.map(function(t){return Pt([t])}):e[n]=Pt([r]);else{var o=e[n]=e[n]||{};Object.keys(r).forEach(function(t){var e=r[t];return"$gt"===t||"$gte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e}(t,e,o):"$lt"===t||"$lte"===t?function(t,e,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e}(t,e,o):"$ne"===t?function(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}(e,o):"$eq"===t?function(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}(e,o):void(o[t]=e)})}})}),e}function At(input){var t=Object(tt.e)(input),e=!1;"$and"in t&&(t=Pt(t.$and),e=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(t){for(var e=Object.keys(t),i=0;i<e.length;i++){var n=e[i],r=t[n];"object"==typeof r&&null!==r||(t[n]={$eq:r})}})}),"$not"in t&&(t.$not=Pt([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],o=t[r];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!e&&(o.$ne=[o.$ne]),t[r]=o}return t}function Rt(t,e,n){if(t=t.filter(function(t){return Tt(t.doc,e.selector,n)}),e.sort){var r=function(t){function e(e){return t.map(function(t){var n=Et(St(t));return wt(e,n)})}return function(t,n){var r=pt(e(t.doc),e(n.doc));return 0!==r?r:xt(t.doc._id,n.doc._id)}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===Ct(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var o=e.skip||0,c=("limit"in e?e.limit:t.length)+o;t=t.slice(o,c)}return t}function Tt(t,e,n){return n.every(function(n){var r=e[n],o=Et(n),c=wt(t,o);return jt(n)?function(t,e,n){if("$or"===t)return e.some(function(t){return Tt(n,t,Object.keys(t))});if("$not"===t)return!Tt(n,e,Object.keys(e));return!e.find(function(t){return Tt(n,t,Object.keys(t))})}(n,r,t):Dt(r,t,o,c)})}function Dt(t,e,n,r){return!t||Object.keys(t).every(function(o){var c=t[o];return function(t,e,n,r,o){if(!It[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return It[t](e,n,r,o)}(o,e,c,n,r)})}function Mt(t){return null!=t}function Bt(t){return void 0!==t}function Lt(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}var It={$elemMatch:function(t,e,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(t){return Tt(t,e,Object.keys(e))}):r.some(function(r){return Dt(e,t,n,r)})))},$allMatch:function(t,e,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every(function(t){return Tt(t,e,Object.keys(e))}):r.every(function(r){return Dt(e,t,n,r)})))},$eq:function(t,e,n,r){return Bt(r)&&0===pt(r,e)},$gte:function(t,e,n,r){return Bt(r)&&pt(r,e)>=0},$gt:function(t,e,n,r){return Bt(r)&&pt(r,e)>0},$lte:function(t,e,n,r){return Bt(r)&&pt(r,e)<=0},$lt:function(t,e,n,r){return Bt(r)&&pt(r,e)<0},$exists:function(t,e,n,r){return e?Bt(r):!Bt(r)},$mod:function(t,e,n,r){return Mt(r)&&function(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}(r,e)},$ne:function(t,e,n,r){return e.every(function(t){return 0!==pt(r,t)})},$in:function(t,e,n,r){return Mt(r)&&Lt(r,e)},$nin:function(t,e,n,r){return Mt(r)&&!Lt(r,e)},$size:function(t,e,n,r){return Mt(r)&&function(t,e){return t.length===e}(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&function(t,e){return e.every(function(e){return t.indexOf(e)>-1})}(r,e)},$regex:function(t,e,n,r){return Mt(r)&&function(t,e){return new RegExp(e).test(t)}(r,e)},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,e)}};function Nt(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var n="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function qt(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=Object(tt.q)(t.view):t.filter=Object(tt.q)(t.filter))}function Ft(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!Object(tt.n)(t.db)}function Ut(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=Object(st.p)(st.b,"`view` filter parameter not found or invalid.");return n(r)}var o=Object(tt.s)(e.view);t.db.get("_design/"+o[0],function(r,c){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Object(st.q)(r));var code,f=c&&c.views&&c.views[o[1]]&&c.views[o[1]].map;if(!f)return n(Object(st.p)(st.g,c.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=(code=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+f+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),Object(tt.v)(code,{})),t.doChanges(e)})}else if(e.selector)e.filter=function(t){return function(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");var n=Rt([{doc:t}],{selector:e=At(e)},Object.keys(e));return n&&1===n.length}(t,e.selector)},t.doChanges(e);else{var c=Object(tt.s)(e.filter);t.db.get("_design/"+c[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Object(st.q)(r));var input,f=o&&o.filters&&o.filters[c[1]];if(!f)return n(Object(st.p)(st.g,o&&o.filters?"missing json key: "+c[1]:"missing json key: filters"));e.filter=(input=f,Object(tt.v)('"use strict";\nreturn '+input+";",{})),t.doChanges(e)})}}var $t=function(t){t._changesFilterPlugin={validate:Nt,normalize:qt,shouldFilter:Ft,filter:Ut}};function Vt(t,e,n){ot.EventEmitter.call(this);var r=this;this.db=t;var o=(e=e?Object(tt.e)(e):{}).complete=Object(tt.r)(function(e,n){e?Object(tt.o)(r,"error")>0&&r.emit("error",e):r.emit("complete",n),r.removeAllListeners(),t.removeListener("destroyed",c)});function c(){r.cancel()}n&&(r.on("complete",function(t){n(null,t)}),r.on("error",n)),t.once("destroyed",c),e.onChange=function(t,e,n){r.isCancelled||function(t,e,n,r){try{t.emit("change",e,n,r)}catch(t){Object(tt.k)("error",'Error in .on("change", function):',t)}}(r,t,e,n)};var f=new Promise(function(t,n){e.complete=function(e,r){e?n(e):t(r)}});r.once("cancel",function(){t.removeListener("destroyed",c),e.complete(null,{status:"cancelled"})}),this.then=f.then.bind(f),this.catch=f.catch.bind(f),this.then(function(t){o(null,t)},o),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):r.isCancelled?r.emit("cancel"):r.validateChanges(e)})}function zt(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=Object(et.b)(e.rev_tree).map(function(t){return{rev:t.rev}}));var o={id:e.id,changes:r,doc:t};return Object(et.d)(e,t._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=Object(et.a)(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function Ht(t,e){return t<e?-1:t>e?1:0}function Wt(t,e){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=e,t(n)):t(null,r.length?r[0]:r)}}function Kt(a,b){var t=Ht(a._id,b._id);return 0!==t?t:Ht(a._revisions?a._revisions.start:0,b._revisions?b._revisions.start:0)}function Yt(){for(var p in ot.EventEmitter.call(this),Yt.prototype)"function"==typeof this[p]&&(this[p]=this[p].bind(this))}function Jt(){this.isReady=!1,this.failed=!1,this.queue=[]}function Qt(t,e){if(!(this instanceof Qt))return new Qt(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(t=(e=t).name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=Object(tt.e)(e),n.auto_compaction=e.auto_compaction,n.prefix=Qt.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=function(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Qt.adapters,o=Qt.preferredAdapters,c=Qt.prefix,f=e.adapter;if(!f)for(var i=0;i<o.length&&"idb"===(f=o[i])&&"websql"in r&&Object(tt.l)()&&localStorage["_pouch__websqldb_"+c+t];++i)Object(tt.k)("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var l=r[f];return{name:l&&"use_prefix"in l&&!l.use_prefix?t:c+t,adapter:f}}((e.prefix||"")+t,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,n.name=t,n._adapter=e.adapter,Qt.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Qt.adapters[e.adapter]||!Qt.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Yt.call(n),n.taskqueue=new Jt,n.adapter=e.adapter,Qt.adapters[e.adapter].call(n,e,function(t){if(t)return n.taskqueue.fail(t);!function(t){function e(e){t.removeListener("closed",n),e||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}(n),n.emit("created",n),Qt.emit("created",n.name),n.taskqueue.ready(n)})}it()(Vt,ot.EventEmitter),Vt.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Vt.prototype.validateChanges=function(t){var e=t.complete,n=this;Qt._changesFilterPlugin?Qt._changesFilterPlugin.validate(t,function(r){if(r)return e(r);n.doChanges(t)}):n.doChanges(t)},Vt.prototype.doChanges=function(t){var e=this,n=t.complete;if("live"in(t=Object(tt.e)(t))&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=zt,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(Qt._changesFilterPlugin){if(Qt._changesFilterPlugin.normalize(t),Qt._changesFilterPlugin.shouldFilter(this,t))return Qt._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&Object(tt.k)("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var o=e.cancel;e.cancel=Z()(function(t){r.cancel(),o.apply(this,t)})}}else this.db.info().then(function(r){e.isCancelled?n(null,{status:"cancelled"}):(t.since=r.update_seq,e.doChanges(t))},n)},it()(Yt,ot.EventEmitter),Yt.prototype.post=Object(tt.a)("post",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(Object(st.p)(st.j));this.bulkDocs({docs:[t]},e,Wt(n,t._id))}),Yt.prototype.put=Object(tt.a)("put",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(Object(st.p)(st.j));if(Object(tt.m)(t._id),Object(et.e)(t._id)&&"function"==typeof this._putLocal)return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var r,o,c,f,l=this;function h(n){"function"==typeof l._put&&!1!==e.new_edits?l._put(t,e,n):l.bulkDocs({docs:[t]},e,Wt(n,t._id))}e.force&&t._rev?(r=t._rev.split("-"),o=r[1],c=parseInt(r[0],10)+1,f=Object(tt.u)(),t._revisions={start:c,ids:[f,o]},t._rev=c+"-"+f,e.new_edits=!1,h(function(e){var r=e?null:{ok:!0,id:t._id,rev:t._rev};n(e,r)})):h(n)}),Yt.prototype.putAttachment=Object(tt.a)("putAttachment",function(t,e,n,r,o){var c=this;function f(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:r,revpos:++n},c.put(t)}return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||Object(tt.k)("warn","Attachment",e,"on document",t,"is missing content_type"),c.get(t).then(function(t){if(t._rev!==n)throw Object(st.p)(st.n);return f(t)},function(e){if(e.reason===st.g.message)return f({_id:t});throw e})}),Yt.prototype.removeAttachment=Object(tt.a)("removeAttachment",function(t,e,n,r){var o=this;o.get(t,function(t,c){if(t)r(t);else if(c._rev===n){if(!c._attachments)return r();delete c._attachments[e],0===Object.keys(c._attachments).length&&delete c._attachments,o.put(c,r)}else r(Object(st.p)(st.n))})}),Yt.prototype.remove=Object(tt.a)("remove",function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),(n=n||{}).was_delete=!0;var c={_id:o._id,_rev:o._rev||n.rev,_deleted:!0};if(Object(et.e)(c._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[c]},n,Wt(r,c._id))}),Yt.prototype.revsDiff=Object(tt.a)("revsDiff",function(t,e,n){"function"==typeof e&&(n=e,e={});var r=Object.keys(t);if(!r.length)return n(null,{});var o=0,c=new at.a;function f(t,e){c.has(t)||c.set(t,{missing:[]}),c.get(t).missing.push(e)}r.map(function(e){this._getRevisionTree(e,function(l,h){if(l&&404===l.status&&"missing"===l.message)c.set(e,{missing:t[e]});else{if(l)return n(l);!function(e,n){var r=t[e].slice(0);Object(et.j)(n,function(t,n,o,c,l){var h=n+"-"+o,d=r.indexOf(h);-1!==d&&(r.splice(d,1),"available"!==l.status&&f(e,h))}),r.forEach(function(t){f(e,t)})}(e,h)}if(++o===r.length){var d={};return c.forEach(function(t,e){d[e]=t}),n(null,d)}})},this)}),Yt.prototype.bulkGet=Object(tt.a)("bulkGet",function(t,e){Object(tt.c)(this,t,e)}),Yt.prototype.compactDocument=Object(tt.a)("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(o,c){if(o)return n(o);var f=function(t){var e={},n=[];return Object(et.j)(t,function(t,r,o,c){var f=r+"-"+o;return t&&(e[f]=0),void 0!==c&&n.push({from:c,to:f}),f}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}(c),l=[],h=[];Object.keys(f).forEach(function(t){f[t]>e&&l.push(t)}),Object(et.j)(c,function(t,e,n,r,o){var c=e+"-"+n;"available"===o.status&&-1!==l.indexOf(c)&&h.push(c)}),r._doCompaction(t,h,n)})}),Yt.prototype.compact=Object(tt.a)("compact",function(t,e){"function"==typeof t&&(e=t,t={});t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:e}),1===this._compactionQueue.length&&function t(e){var n=e._compactionQueue[0],r=n.opts,o=n.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),e._compact(r,function(n,r){n?o(n):o(null,r),Object(tt.p)(function(){e._compactionQueue.shift(),e._compactionQueue.length&&t(e)})})})}(this)}),Yt.prototype._compact=function(t,e){var n=this,r={return_docs:!1,last_seq:t.last_seq||0},o=[];n.changes(r).on("change",function(t){o.push(n.compactDocument(t.id,0))}).on("complete",function(t){var r=t.last_seq;Promise.all(o).then(function(){return Object(tt.x)(n,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<r)&&(t.last_seq=r,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}).on("error",e)},Yt.prototype.get=Object(tt.a)("get",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(Object(st.p)(st.d));if(Object(et.e)(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var r=[],o=this;function c(){var c=[],f=r.length;if(!f)return n(null,c);r.forEach(function(r){o.get(t,{rev:r,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(t,e){if(t)c.push({missing:r});else{for(var o,i=0,l=c.length;i<l;i++)if(c[i].ok&&c[i].ok._rev===e._rev){o=!0;break}o||c.push({ok:e})}--f||n(null,c)})})}if(!e.open_revs)return this._get(t,e,function(r,c){if(r)return r.docId=t,n(r);var f=c.doc,l=c.metadata,h=c.ctx;if(e.conflicts){var d=Object(et.a)(l);d.length&&(f._conflicts=d)}if(Object(et.d)(l,f._rev)&&(f._deleted=!0),e.revs||e.revs_info){for(var v=f._rev.split("-"),y=parseInt(v[0],10),m=v[1],_=Object(et.i)(l.rev_tree),path=null,i=0;i<_.length;i++){var w=_[i],k=w.ids.map(function(t){return t.id}).indexOf(m);(k===y-1||!path&&-1!==k)&&(path=w)}var x=path.ids.map(function(t){return t.id}).indexOf(f._rev.split("-")[1])+1,E=path.ids.length-x;if(path.ids.splice(x,E),path.ids.reverse(),e.revs&&(f._revisions={start:path.pos+path.ids.length-1,ids:path.ids.map(function(t){return t.id})}),e.revs_info){var O=path.pos+path.ids.length;f._revs_info=path.ids.map(function(t){return{rev:--O+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&f._attachments){var j=f._attachments,S=Object.keys(j).length;if(0===S)return n(null,f);Object.keys(j).forEach(function(t){this._getAttachment(f._id,t,j[t],{rev:f._rev,binary:e.binary,ctx:h},function(e,data){var r=f._attachments[t];r.data=data,delete r.stub,delete r.length,--S||n(null,f)})},o)}else{if(f._attachments)for(var C in f._attachments)f._attachments.hasOwnProperty(C)&&(f._attachments[C].stub=!0);n(null,f)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){if(t)return n(t);r=Object(et.b)(e).map(function(t){return t.rev}),c()});else{if(!Array.isArray(e.open_revs))return n(Object(st.p)(st.o,"function_clause"));r=e.open_revs;for(var i=0;i<r.length;i++){var f=r[i];if("string"!=typeof f||!/^\d+-/.test(f))return n(Object(st.p)(st.e))}c()}}),Yt.prototype.getAttachment=Object(tt.a)("getAttachment",function(t,e,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(c,f){return c?r(c):f.doc._attachments&&f.doc._attachments[e]?(n.ctx=f.ctx,n.binary=!0,void o._getAttachment(t,e,f.doc._attachments[e],n,r)):r(Object(st.p)(st.g))})}),Yt.prototype.allDocs=Object(tt.a)("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(Object(st.p)(st.l,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Object(tt.n)(this)&&(function(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}(t),0===t.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(t,e)}),Yt.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),(t=t||{}).return_docs="return_docs"in t?t.return_docs:!t.live,new Vt(this,t,e)},Yt.prototype.close=Object(tt.a)("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),Yt.prototype.info=Object(tt.a)("info",function(t){var e=this;this._info(function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||Object(tt.n)(e)),r.adapter=e.adapter,t(null,r)})}),Yt.prototype.id=Object(tt.a)("id",function(t){return this._id(t)}),Yt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Yt.prototype.bulkDocs=Object(tt.a)("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(Object(st.p)(st.f));for(var i=0;i<t.docs.length;++i)if("object"!=typeof t.docs[i]||Array.isArray(t.docs[i]))return n(Object(st.p)(st.j));var r;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){r=r||function(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}(e),t._attachments[e].content_type||Object(tt.k)("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),r)return n(Object(st.p)(st.b,r));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var o=this;e.new_edits||Object(tt.n)(o)||t.docs.sort(Kt),function(t){for(var i=0;i<t.length;i++){var e=t[i];if(e._deleted)delete e._attachments;else if(e._attachments)for(var n=Object.keys(e._attachments),r=0;r<n.length;r++){var o=n[r];e._attachments[o]=Object(tt.t)(e._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(t.docs);var c=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter(function(t){return t.error})),!Object(tt.n)(o))for(var i=0,f=r.length;i<f;i++)r[i].id=r[i].id||c[i];n(null,r)})}),Yt.prototype.registerDependentDatabase=Object(tt.a)("registerDependentDatabase",function(t,e){var n=new this.constructor(t,this.__opts);Object(tt.x)(this,"_local/_pouch_dependentDbs",function(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}).then(function(){e(null,{db:n})}).catch(e)}),Yt.prototype.destroy=Object(tt.a)("destroy",function(t,e){"function"==typeof t&&(e=t,t={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function o(){n._destroy(t,function(t,r){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,r||{ok:!0})})}if(Object(tt.n)(n))return o();n.get("_local/_pouch_dependentDbs",function(t,c){if(t)return 404!==t.status?e(t):o();var f=c.dependentDbs,l=n.constructor,h=Object.keys(f).map(function(t){var e=r?t.replace(new RegExp("^"+l.prefix),""):t;return new l(e,n.__opts).destroy()});Promise.all(h).then(o,e)})}),Jt.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},Jt.prototype.fail=function(t){this.failed=t,this.execute()},Jt.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},Jt.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},it()(Qt,Yt),Qt.adapters={},Qt.preferredAdapters=[],Qt.prefix="_pouch_";var Gt=new ot.EventEmitter;!function(t){Object.keys(ot.EventEmitter.prototype).forEach(function(e){"function"==typeof ot.EventEmitter.prototype[e]&&(t[e]=Gt[e].bind(Gt))});var e=t._destructionListeners=new at.a;t.on("ref",function(t){e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t)}),t.on("unref",function(t){if(e.has(t.name)){var n=e.get(t.name),r=n.indexOf(t);r<0||(n.splice(r,1),n.length>1?e.set(t.name,n):e.delete(t.name))}}),t.on("destroyed",function(t){if(e.has(t)){var n=e.get(t);e.delete(t),n.forEach(function(t){t.emit("destroyed",!0)})}})}(Qt),Qt.adapter=function(t,e,n){e.valid()&&(Qt.adapters[t]=e,n&&Qt.preferredAdapters.push(t))},Qt.plugin=function(t){if("function"==typeof t)t(Qt);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){Qt.prototype[e]=t[e]})}return this.__defaults&&(Qt.__defaults=Object(tt.b)({},this.__defaults)),Qt},Qt.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"==typeof t&&(t=(n=t).name,delete n.name),n=Object(tt.b)({},e.__defaults,n),Qt.call(this,t,n)}return it()(e,Qt),e.preferredAdapters=Qt.preferredAdapters.slice(),Object.keys(Qt).forEach(function(t){t in e||(e[t]=Qt[t])}),e.__defaults=Object(tt.b)({},this.__defaults,t),e},Qt.fetch=function(t,e){return ut(t,e)};Qt.plugin($t),Qt.version="7.0.0";var Xt=Qt,Zt=n(157),te=n(167);function ee(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ee)}catch(t){}}function ne(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ne)}catch(t){}}function re(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,re)}catch(t){}}function ie(t,e){return e&&t.then(function(t){Object(tt.p)(function(){e(null,t)})},function(t){Object(tt.p)(function(){e(t)})}),t}function oe(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}}function ae(t){var e=new at.b(t),n=new Array(e.size),r=-1;return e.forEach(function(t){n[++r]=t}),n}function se(map){var t=new Array(map.size),e=-1;return map.forEach(function(n,r){t[++e]=r}),t}function ue(){this.promise=new Promise(function(t){t()})}function ce(input){if(!input)return"undefined";switch(typeof input){case"function":case"string":return input.toString();default:return JSON.stringify(input)}}function fe(t,e,n,r,o,c){var f,l=function(t,e){return ce(t)+ce(e)+"undefined"}(n,r);if(!o&&(f=t._cachedViews=t._cachedViews||{})[l])return f[l];var h=t.info().then(function(h){var d=h.db_name+"-mrview-"+(o?"temp":Object(Zt.b)(l));return Object(tt.x)(t,"_local/"+c,function(t){t.views=t.views||{};var n=e;-1===n.indexOf("/")&&(n=e+"/"+e);var r=t.views[n]=t.views[n]||{};if(!r[d])return r[d]=!0,t}).then(function(){return t.registerDependentDatabase(d).then(function(e){var o=e.db;o.auto_compaction=!0;var view={name:d,db:o,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return view.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return view.seq=t?t.seq:0,f&&view.db.once("destroyed",function(){delete f[l]}),view})})})});return f&&(f[l]=h),h}it()(ee,Error),it()(ne,Error),it()(re,Error),ue.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},ue.prototype.finish=function(){return this.promise};var le={},he=new ue,pe=50;function de(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function ve(t,e){try{t.emit("error",e)}catch(t){Object(tt.k)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Object(tt.k)("error",e)}}var ye=function(t,e,n,r){function o(t,e,n){try{e(n)}catch(e){ve(t,e)}}function c(t,e,n,r,o){try{return{output:e(n,r,o)}}catch(e){return ve(t,e),{error:e}}}function f(t,e){var n=pt(t.key,e.key);return 0!==n?n:pt(t.value,e.value)}function l(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function h(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function d(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&function(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=Object(te.b)(n.data,n.content_type)})})}(e),e}}function v(t,e,n,r){var o=e[t];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function y(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function m(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[r]&&pt(t[n],t[r])>0)throw new ee("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new ee("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new ee("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=function(t){if(t){if("number"!=typeof t)return new ee('Invalid value for integer: "'+t+'"');if(t<0)return new ee('Invalid value for positive integer: "'+t+'"')}}(t[e]);if(n)throw n})}function _(t){return function(e){if(404===e.status)return t;throw e}}function w(t,view,e){var n="_local/doc_"+t,r={_id:n,keys:[]},o=e.get(t),c=o[0];return(function(t){return 1===t.length&&/^1-/.test(t[0].rev)}(o[1])?Promise.resolve(r):view.db.get(n).catch(_(r))).then(function(t){return function(t){return t.keys.length?view.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})}(t).then(function(e){return function(t,e){for(var n=[],r=new at.b,i=0,o=e.rows.length;i<o;i++){var f=e.rows[i].doc;if(f&&(n.push(f),r.add(f._id),f._deleted=!c.has(f._id),!f._deleted)){var l=c.get(f._id);"value"in l&&(f.value=l.value)}}var h=se(c);return h.forEach(function(t){if(!r.has(t)){var e={_id:t},o=c.get(t);"value"in o&&(e.value=o.value),n.push(e)}}),t.keys=ae(h.concat(t.keys)),n.push(t),n}(t,e)})})}function k(view){var t="string"==typeof view?view:view.name,e=le[t];return e||(e=le[t]=new ue),e}function x(view){return oe(k(view),function(){return function(view){var t,n,r=e(view.mapFun,function(e,r){var output={id:n._id,key:vt(e)};null!=r&&(output.value=vt(r)),t.push(output)}),c=view.seq||0;function l(t,e){return function(){return function(view,t,e){return view.db.get("_local/lastSeq").catch(_({_id:"_local/lastSeq",seq:0})).then(function(n){var r=se(t);return Promise.all(r.map(function(e){return w(e,view,t)})).then(function(t){var r=Object(tt.i)(t);return n.seq=e,r.push(n),view.db.bulkDocs({docs:r})})})}(view,t,e)}}var h=new ue;function d(){return view.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:pe}).then(v)}function v(e){var v=e.results;if(v.length){var m=function(e){for(var l=new at.a,i=0,h=e.length;i<h;i++){var d=e[i];if("_"!==d.doc._id[0]){t=[],(n=d.doc)._deleted||o(view.sourceDB,r,n),t.sort(f);var v=y(t);l.set(d.doc._id,[v,d.changes])}c=d.seq}return l}(v);if(h.add(l(m,c)),!(v.length<pe))return d()}}function y(t){for(var e,n=new at.a,i=0,r=t.length;i<r;i++){var o=t[i],c=[o.key,o.id];i>0&&0===pt(o.key,e)&&c.push(i),n.set(gt(c),o),e=o.key}return n}return d().then(function(){return h.finish()}).then(function(){view.seq=c})}(view)})()}function E(view,t){return oe(k(view),function(){return function(view,t){var e,r=view.reduceFun&&!1!==t.reduce,o=t.skip||0;function f(t){return t.include_docs=!0,view.db.allDocs(t).then(function(t){return e=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=function(t){for(var e=[],n=[],i=0;;){var r=t[i++];if("\0"!==r)switch(r){case"1":e.push(null);break;case"2":e.push("1"===t[i]),i++;break;case"3":var o=mt(t,i);e.push(o.num),i+=o.length;break;case"4":for(var c="";;){var f=t[i];if("\0"===f)break;c+=f,i++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(c);break;case"5":var l={element:[],index:e.length};e.push(l.element),n.push(l);break;case"6":var h={element:{},index:e.length};e.push(h.element),n.push(h);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===e.length)return e.pop();bt(e,n)}}}(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function d(f){var d;if(d=r?function(view,t,e){0===e.group_level&&delete e.group_level;var r=e.group||e.group_level,o=n(view.reduceFun),f=[],h=isNaN(e.group_level)?Number.POSITIVE_INFINITY:e.group_level;t.forEach(function(t){var e=f[f.length-1],n=r?t.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,h)),e&&0===pt(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);f.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),t=[];for(var i=0,d=f.length;i<d;i++){var v=f[i],y=c(view.sourceDB,o,v.keys,v.values,!1);if(y.error&&y.error instanceof re)throw y.error;t.push({value:y.error?null:y.output,key:v.groupKey})}return{rows:l(t,e.limit,e.skip)}}(view,f,t):{total_rows:e,offset:o,rows:f},t.update_seq&&(d.update_seq=view.seq),t.include_docs){var v=ae(f.map(h));return view.sourceDB.allDocs({keys:v,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(t){var e=new at.a;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),f.forEach(function(t){var n=h(t),r=e.get(n);r&&(t.doc=r)}),d})}return d}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var v=t.keys,y=v.map(function(e){var n={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(n.update_seq=!0),f(n)});return Promise.all(y).then(tt.i).then(d)}var m,_,w={descending:t.descending};if(t.update_seq&&(w.update_seq=!0),"start_key"in t&&(m=t.start_key),"startkey"in t&&(m=t.startkey),"end_key"in t&&(_=t.end_key),"endkey"in t&&(_=t.endkey),void 0!==m&&(w.startkey=t.descending?gt([m,{}]):gt([m])),void 0!==_){var k=!1!==t.inclusive_end;t.descending&&(k=!k),w.endkey=gt(k?[_,{}]:[_])}if(void 0!==t.key){var x=gt([t.key]),E=gt([t.key,{}]);w.descending?(w.endkey=x,w.startkey=E):(w.startkey=x,w.endkey=E)}return r||("number"==typeof t.limit&&(w.limit=t.limit),w.skip=o),f(w).then(d)}(view,t)})()}function O(e,n,o){if("function"==typeof e._query)return function(t,e,n){return new Promise(function(r,o){t._query(e,n,function(t,e){if(t)return o(t);r(e)})})}(e,n,o);if(Object(tt.n)(e))return function(t,e,n){var body,r,o,c=[],f="GET";if(v("reduce",n,c),v("include_docs",n,c),v("attachments",n,c),v("limit",n,c),v("descending",n,c),v("group",n,c),v("group_level",n,c),v("skip",n,c),v("stale",n,c),v("conflicts",n,c),v("startkey",n,c,!0),v("start_key",n,c,!0),v("endkey",n,c,!0),v("end_key",n,c,!0),v("inclusive_end",n,c),v("key",n,c,!0),v("update_seq",n,c),c=""===(c=c.join("&"))?"":"?"+c,void 0!==n.keys){var l="keys="+encodeURIComponent(JSON.stringify(n.keys));l.length+c.length+1<=2e3?c+=("?"===c[0]?"&":"?")+l:(f="POST","string"==typeof e?body={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var h=de(e);return t.fetch("_design/"+h[0]+"/_view/"+h[1]+c,{headers:new ct({"Content-Type":"application/json"}),method:f,body:JSON.stringify(body)}).then(function(t){return r=t.ok,o=t.status,t.json()}).then(function(t){if(!r)throw t.status=o,Object(st.q)(t);return t.rows.forEach(function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)}),t}).then(d(n))}return body=body||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?body[t]=e[t]:body[t]=e[t].toString()}),t.fetch("_temp_view"+c,{headers:new ct({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(body)}).then(function(t){return r=t.ok,o=t.status,t.json()}).then(function(t){if(!r)throw t.status=o,Object(st.q)(t);return t}).then(d(n))}(e,n,o);if("string"!=typeof n)return m(o,n),he.add(function(){return fe(e,"temp_view/temp_view",n.map,n.reduce,!0,t).then(function(view){return t=x(view).then(function(){return E(view,o)}),e=function(){return view.db.destroy()},t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})});var t,e})}),he.finish();var c=n,f=de(c),l=f[0],h=f[1];return e.get("_design/"+l).then(function(n){var f=n.views&&n.views[h];if(!f)throw new ne("ddoc "+n._id+" has no view named "+h);return r(n,h),m(o,f),fe(e,c,f.map,f.reduce,!1,t).then(function(view){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&Object(tt.p)(function(){x(view)}),E(view,o)):x(view).then(function(){return E(view,o)})})})}var j;return{query:function(t,e,n){var r=this;"function"==typeof e&&(n=e,e={}),e=e?function(t){return t.group_level=y(t.group_level),t.limit=y(t.limit),t.skip=y(t.skip),t}(e):{},"function"==typeof t&&(t={map:t});var o=Promise.resolve().then(function(){return O(r,t,e)});return ie(o,n),o},viewCleanup:(j=function(){var e=this;return"function"==typeof e._viewCleanup?function(t){return new Promise(function(e,n){t._viewCleanup(function(t,r){if(t)return n(t);e(r)})})}(e):Object(tt.n)(e)?function(t){return t.fetch("_view_cleanup",{headers:new ct({"Content-Type":"application/json"}),method:"POST"}).then(function(t){return t.json()})}(e):function(e){return e.get("_local/"+t).then(function(t){var n=new at.a;Object.keys(t.views).forEach(function(t){var e=de(t),r="_design/"+e[0],o=e[1],c=n.get(r);c||(c=new at.b,n.set(r,c)),c.add(o)});var r={keys:se(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var c=r+"/"+n;t.views[c]||(c=n);var f=Object.keys(t.views[c]),l=e.doc&&e.doc.views&&e.doc.views[n];f.forEach(function(t){o[t]=o[t]||l})})});var c=Object.keys(o).filter(function(t){return!o[t]}).map(function(t){return oe(k(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Promise.all(c).then(function(){return{ok:!0}})})},_({ok:!0}))}(e)},Z()(function(t){var e=t.pop(),n=j.apply(this,t);return"function"==typeof e&&ie(n,e),n}))}};function ge(t){return(t=Object(tt.e)(t)).index||(t.index={}),["type","name","ddoc"].forEach(function(e){t.index[e]&&(t[e]=t.index[e],delete t.index[e])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}function me(t,path,e,n){var r,o;e.headers=new ct({"Content-type":"application/json"}),t.fetch(path,e).then(function(t){return r=t.status,o=t.ok,t.json()}).then(function(t){if(o)n(null,t);else{t.status=r;var e=Object(st.q)(t);n(e)}}).catch(n)}function be(t,e,n){e=ge(e),me(t,"_index",{method:"POST",body:JSON.stringify(e)},n)}function _e(t,e,n){me(t,"_find",{method:"POST",body:JSON.stringify(e)},n)}function we(t,e,n){me(t,"_explain",{method:"POST",body:JSON.stringify(e)},n)}function ke(t,e){me(t,"_index",{method:"GET"},e)}function xe(t,e,n){var r=e.ddoc,o=e.type||"json",c=e.name;return r?c?void me(t,"_index/"+[r,o,c].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}function Ee(t){return function(){for(var e=arguments.length,n=new Array(e),i=-1;++i<e;)n[i]=arguments[i];return t.call(this,n)}}function Oe(t){return Ee(function(e){var n=e.pop(),r=t.apply(this,e);return function(t,e){t.then(function(t){Object(tt.p)(function(){e(null,t)})},function(t){Object(tt.p)(function(){e(t)})})}(r,n),r})}var je=Ee(function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];Array.isArray(r)?e=e.concat(je.apply(null,r)):e.push(r)}return e});function Se(t){for(var e={},i=0,n=t.length;i<n;i++)e=Object(tt.b)(e,t[i]);return e}function Ce(t,e){for(var i=0,n=Math.min(t.length,e.length);i<n;i++)if(t[i]!==e[i])return!1;return!0}function Pe(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Ae(t,e){var n=function(t){for(var i=0,e=t.length;i<e;i++)if(-1!==t[i].indexOf("."))return!1;return!0}(t),r=1===t.length;return n?r?function(t,e){return function(n){e(n[t])}}(t[0],e):function(t,e){return function(n){for(var r=[],i=0,o=t.length;i<o;i++)r.push(n[t[i]]);e(r)}}(t,e):r?function(t,e){var n=Et(t);return function(t){for(var r=t,i=0,o=n.length;i<o;i++)if(void 0===(r=r[n[i]]))return;e(r)}}(t[0],e):function(t,e){return function(n){for(var r=[],i=0,o=t.length;i<o;i++){for(var c=Et(t[i]),f=n,l=0,h=c.length;l<h;l++)if(void 0===(f=f[c[l]]))return;r.push(f)}e(r)}}(t,e)}var Re=ye("indexes",function(t,e){return Ae(Object.keys(t.fields),e)},function(){throw new Error("reduce not supported")},function(t,e){var view=t.views[e];if(!view.map||!view.map.fields)throw new Error("ddoc "+t._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function Te(t){return t.fields=t.fields.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t}),t}function De(t,e){for(var n=[],i=0;i<e.def.fields.length;i++){var r=St(e.def.fields[i]);n.push(t[r])}return n}function Me(t){return t.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(t){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=je(e.indexes,t.rows.filter(function(t){return"query"===t.doc.language}).map(function(t){return(void 0!==t.doc.views?Object.keys(t.doc.views):[]).map(function(e){var view=t.doc.views[e];return{ddoc:t.id,name:e,type:"json",def:Te(view.options.def)}})})),e.indexes.sort(function(t,e){return xt(t.name,e.name)}),e.total_rows=e.indexes.length,e})}var Be=null,Le={"":{}};function Ie(t,e){for(var n=t.def.fields.map(St),i=0,r=n.length;i<r;i++){if(e===n[i])return!0}return!1}function Ne(t,e){return"$eq"!==St(t[e])}function qe(t,e){var n=e.def.fields.map(St);return t.slice().sort(function(a,b){var t=n.indexOf(a),e=n.indexOf(b);return-1===t&&(t=Number.MAX_VALUE),-1===e&&(e=Number.MAX_VALUE),xt(t,e)})}function Fe(t,e,n,r){var o=je(t,function(t,e,n){for(var r=!1,i=0,o=(n=qe(n,t)).length;i<o;i++){var c=n[i];if(r||!Ie(t,c))return n.slice(i);i<o-1&&Ne(e,c)&&(r=!0)}return[]}(e,n,r),function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Object.keys(r).forEach(function(t){"$ne"===t&&e.push(n)})}),e}(n));return qe(function(t){for(var e={},i=0;i<t.length;i++)e["$"+t[i]]=!0;return Object.keys(e).map(function(t){return t.substring(1)})}(o),e)}function Ue(t,e,n){if(e){var r=(f=t,!((c=e).length>f.length)&&Ce(c,f)),o=Ce(n,t);return r&&o}var c,f;return function(t,e){t=t.slice();for(var i=0,n=e.length;i<n;i++){var r=e[i];if(!t.length)break;var o=t.indexOf(r);if(-1===o)return!1;t.splice(o,1)}return!0}(n,t)}var $e=["$eq","$gt","$gte","$lt","$lte"];function Ve(t){return-1===$e.indexOf(t)}function ze(t,e,n,r){var o=t.def.fields.map(St);return!!Ue(o,e,n)&&function(t,e){var n=e[t[0]];return void 0===n||!!Object.keys(n).some(function(t){return!Ve(t)})&&!(1===Object.keys(n).length&&"$ne"===St(n))}(o,r)}function He(t,e,n,r,o){var c=function(t,e,n,r){return r.reduce(function(r,o){return ze(o,n,e,t)&&r.push(o),r},[])}(t,e,n,r);if(0===c.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var f=r[0];return f.defaultUsed=!0,f}if(1===c.length&&!o)return c[0];var l=function(t){for(var e={},i=0,n=t.length;i<n;i++)e[t[i]]=!0;return e}(e);if(o){var h="_design/"+o[0],d=2===o.length&&o[1],v=c.find(function(t){return!(!d||t.ddoc!==h||d!==t.name)||t.ddoc===h});if(!v)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return v}return function(t,e){for(var n=null,r=-1,i=0,o=t.length;i<o;i++){var element=t[i],c=e(element);c>r&&(r=c,n=element)}return n}(c,function(t){for(var e=t.def.fields.map(St),n=0,i=0,r=e.length;i<r;i++){var o=e[i];l[o]&&n++}return n})}function We(t,e){switch(t){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function Ke(t,e){return e.defaultUsed?function(t){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(t)]}}(t):1===e.def.fields.length?function(t,e){var n,r=St(e.def.fields[0]),o=t[r]||{},c=[];return Object.keys(o).forEach(function(t){if(Ve(t))c.push(r);else{var e=function(t,e){switch(t){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}(t,o[t]);n=n?Se([n,e]):e}}),{queryOpts:n,inMemoryFields:c}}(t,e):function(t,e){var n,r,o=e.def.fields.map(St),c=[],f=[],l=[];function h(i){!1!==n&&f.push(Be),!1!==r&&l.push(Le),c=o.slice(i)}for(var i=0,d=o.length;i<d;i++){var v=t[o[i]];if(!v||!Object.keys(v).length){h(i);break}if(i>0){if(Object.keys(v).some(Ve)){h(i);break}var y="$gt"in v||"$gte"in v||"$lt"in v||"$lte"in v,m=Object.keys(t[o[i-1]]),_=Pe(m,["$eq"]),w=Pe(m,Object.keys(v));if(y&&!_&&!w){h(i);break}}for(var k=Object.keys(v),x=null,E=0;E<k.length;E++){var O=k[E],j=We(O,v[O]);x=x?Se([x,j]):j}f.push("startkey"in x?x.startkey:Be),l.push("endkey"in x?x.endkey:Le),"inclusive_start"in x&&(n=x.inclusive_start),"inclusive_end"in x&&(r=x.inclusive_end)}var S={startkey:f,endkey:l};return void 0!==n&&(S.inclusive_start=n),void 0!==r&&(S.inclusive_end=r),{queryOpts:S,inMemoryFields:c}}(t,e)}function Ye(t,e){var n=t.selector,r=function(t,e){var n,r=Object.keys(t),o=e?e.map(St):[];return n=r.length>=o.length?r:o,0===o.length?{fields:n}:{fields:n=n.sort(function(t,e){var n=o.indexOf(t);-1===n&&(n=Number.MAX_VALUE);var r=o.indexOf(e);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),sortOrder:e.map(St)}}(n,t.sort),o=r.fields,c=He(n,o,r.sortOrder,e,t.use_index),f=Ke(n,c);return{queryOpts:f.queryOpts,index:c,inMemoryFields:Fe(f.inMemoryFields,c,n,o)}}function Je(t,e,n){var r,o;return e.selector&&(e.selector=At(e.selector)),e.sort&&(e.sort=function(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t})}(e.sort)),e.use_index&&(e.use_index=(r=e.use_index,o=[],"string"==typeof r?o.push(r):o=r,o.map(function(t){return t.replace("_design/","")}))),function(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}(e),Me(t).then(function(r){t.constructor.emit("debug",["find","planning query",e]);var o=Ye(e,r.indexes);t.constructor.emit("debug",["find","query plan",o]);var c=o.index;!function(t,e){if(e.defaultUsed&&t.sort){var n=t.sort.filter(function(t){return"_id"!==Object.keys(t)[0]}).map(function(t){return Object.keys(t)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}e.defaultUsed}(e,c);var f=Object(tt.b)({include_docs:!0,reduce:!1},o.queryOpts);return"startkey"in f&&"endkey"in f&&pt(f.startkey,f.endkey)>0?{docs:[]}:(e.sort&&"string"!=typeof e.sort[0]&&"desc"===Ct(e.sort[0])&&(f.descending=!0,f=function(t){var e=Object(tt.e)(t);return delete e.startkey,delete e.endkey,delete e.inclusive_start,delete e.inclusive_end,"endkey"in t&&(e.startkey=t.endkey),"startkey"in t&&(e.endkey=t.startkey),"inclusive_start"in t&&(e.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(e.inclusive_start=t.inclusive_end),e}(f)),o.inMemoryFields.length||("limit"in e&&(f.limit=e.limit),"skip"in e&&(f.skip=e.skip)),n?Promise.resolve(o,f):Promise.resolve().then(function(){if("_all_docs"===c.name)return function(t,e){var n=Object(tt.e)(e);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),t.allDocs(n).then(function(t){return t.rows=t.rows.filter(function(t){return!/^_design\//.test(t.id)}),t})}(t,f);var e,n=(e=c).ddoc.substring(8)+"/"+e.name;return Re.query.call(t,n,f)}).then(function(t){!1===f.inclusive_start&&(t.rows=function(t,e,n){for(var r=n.def.fields,i=0,o=t.length;i<o;i++){var c=De(t[i].doc,n);if(1===r.length)c=c[0];else for(;c.length>e.length;)c.pop();if(Math.abs(pt(c,e))>0)break}return i>0?t.slice(i):t}(t.rows,f.startkey,c)),o.inMemoryFields.length&&(t.rows=Rt(t.rows,e,o.inMemoryFields));var n={docs:t.rows.map(function(t){var n=t.doc;return e.fields?function(t,e){for(var n={},i=0,r=e.length;i<r;i++){var o=Et(e[i]),c=wt(t,o);void 0!==c&&kt(n,o,c)}return n}(n,e.fields):n})};return c.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var Qe=Oe(function(t,e){e=ge(e);var n,r=Object(tt.e)(e.index);function o(){return n||(n=Object(Zt.b)(JSON.stringify(e)))}e.index=Te(e.index),function(t){var e=t.fields.filter(function(t){return"asc"===Ct(t)});if(0!==e.length&&e.length!==t.fields.length)throw new Error("unsupported mixed sorting")}(e.index);var c=e.name||"idx-"+o(),f=e.ddoc||"idx-"+o(),l="_design/"+f,h=!1,d=!1;return t.constructor.emit("debug",["find","creating index",l]),Object(tt.x)(t,l,function(t){return t._rev&&"query"!==t.language&&(h=!0),t.language="query",t.views=t.views||{},!(d=!!t.views[c])&&(t.views[c]={map:{fields:Se(e.index.fields)},reduce:"_count",options:{def:r}},t)}).then(function(){if(h)throw new Error('invalid language for ddoc with id "'+l+'" (should be "query")')}).then(function(){var e=f+"/"+c;return Re.query.call(t,e,{limit:0,reduce:!1}).then(function(){return{id:l,name:c,result:d?"exists":"created"}})})}),Ge=Oe(Je),Xe=Oe(function(t,e){return Je(t,e,!0).then(function(n){return{dbname:t.name,index:n.index,selector:e.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:e.use_index||[],bookmark:"nil",limit:e.limit,skip:e.skip,sort:e.sort||{},fields:e.fields,conflicts:!1,r:[49]},limit:e.limit,skip:e.skip||0,fields:e.fields}})}),Ze=Oe(Me),tn=Oe(function(t,e){if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var n=e.ddoc,r=e.name;return Object(tt.x)(t,n,function(t){return 1===Object.keys(t.views).length&&t.views[r]?{_id:n,_deleted:!0}:(delete t.views[r],t)}).then(function(){return Re.viewCleanup.apply(t)}).then(function(){return{ok:!0}})}),en={};en.createIndex=Object(tt.w)(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to create"));(Object(tt.n)(this)?be:Qe)(this,t,e)}),en.find=Object(tt.w)(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to find()"));(Object(tt.n)(this)?_e:Ge)(this,t,e)}),en.explain=Object(tt.w)(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to explain()"));(Object(tt.n)(this)?we:Xe)(this,t,e)}),en.getIndexes=Object(tt.w)(function(t){(Object(tt.n)(this)?ke:Ze)(this,t)}),en.deleteIndex=Object(tt.w)(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to delete"));(Object(tt.n)(this)?xe:tn)(this,t,e)});var nn=en,rn=n(139);Xt.plugin(nn),Xt.countAllUndeleted=function(t){return t.allDocs({include_docs:!1,attachments:!1}).then(function(t){return t.rows.filter(function(t){return!t.id.startsWith("_design/")}).length})},Xt.getBatch=function(t,e){if(e<=1)throw rn.a.newRxError("P1",{limit:e});return t.allDocs({include_docs:!0,attachments:!1,limit:e}).then(function(t){return t.rows.map(function(t){return t.doc}).filter(function(t){return!t._id.startsWith("_design")})})},Xt.isInstanceOf=function(t){return t instanceof Xt};var on=Xt,an=n(138),sn=n(141),un=n(145);function cn(t,e){return function(source){return source.lift(new fn(t,e))}}var fn=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,source){return source.subscribe(new ln(t,this.predicate,this.thisArg))},t}(),ln=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return sn.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(un.a),hn=n(159),pn=n.n(hn),dn=n(152),vn={createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],preCreateRxSchema:[],createRxSchema:[],createRxQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreatePouchDb:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function yn(t,e){vn[t].forEach(function(t){return t(e)})}var gn={runPluginHooks:yn,runAsyncPluginHooks:function(t,e){return Promise.all(vn[t].map(function(t){return t(e)}))},HOOKS:vn};var mn=n(177),bn=n(192);var _n="function"==typeof Symbol&&Symbol.observable||"@@observable";function wn(){}function kn(t){return t?1===t.length?t[0]:function(input){return t.reduce(function(t,e){return e(t)},input)}:wn}var xn=n(175),En=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof un.a)return t;if(t[mn.a])return t[mn.a]()}return t||e||n?new un.a(t,e,n):new un.a(bn.a)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||xn.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),xn.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){xn.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof un.a?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=On(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var source=this.source;return source&&source.subscribe(t)},t.prototype[_n]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:kn(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=On(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function On(t){if(t||(t=xn.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var jn=n(154);function Sn(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}Sn.prototype=Object.create(Error.prototype);var Cn=Sn,Pn=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return sn.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(jn.a),An=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return sn.a(e,t),e}(un.a),Rn=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return sn.a(e,t),e.prototype[mn.a]=function(){return new An(this)},e.prototype.lift=function(t){var e=new Tn(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Cn;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new Cn;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Cn;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Cn;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Cn;return this.hasError?(t.error(this.thrownError),jn.a.EMPTY):this.isStopped?(t.complete(),jn.a.EMPTY):(this.observers.push(t),new Pn(this,t))},e.prototype.asObservable=function(){var t=new En;return t.source=this,t},e.create=function(t,source){return new Tn(t,source)},e}(En),Tn=function(t){function e(e,source){var n=t.call(this)||this;return n.destination=e,n.source=source,n}return sn.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):jn.a.EMPTY},e}(Rn),Dn=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return sn.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Cn;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Rn),map=n(195);function Mn(t,e){return function(source){return source.lift(new Bn(t,e))}}var Bn=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,source){return source.subscribe(new Ln(t,this.compare,this.keySelector))},t}(),Ln=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return sn.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(un.a);function In(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,e=function(t,e){this.collection=t,this._isTemporary=!1,this._dataSync$=new Dn(Object(an.b)(e)),this._deleted$=new Dn(!1),this._atomicQueue=Promise.resolve()};return e.prototype=t,e}var Nn,qn={get isInstanceOfRxDocument(){return!0},get _data(){return this._dataSync$.getValue()},get primaryPath(){return this.collection.schema.primaryPath},get primary(){return this._data[this.primaryPath]},get revision(){return this._data._rev},get deleted$(){return this._deleted$.asObservable()},get deleted(){return this._deleted$.getValue()},get $(){return this._dataSync$.asObservable()},_handleChangeEvent:function(t){if(t.data.doc===this.primary){var e=Object(an.e)(t.data.v._rev);if(!(Object(an.e)(this._data._rev)>e))switch(t.data.op){case"INSERT":break;case"UPDATE":var n=Object(an.b)(t.data.v);this._dataSync$.next(Object(an.b)(n));break;case"REMOVE":this.collection._docCache.delete(this.primary),this._deleted$.next(!0)}}},$emit:function(t){return this.collection.$emit(t)},get$:function(path){if(path.includes(".item."))throw rn.a.newRxError("DOC1",{path:path});if(path===this.primaryPath)throw rn.a.newRxError("DOC2");if(this.collection.schema.finalFields.includes(path))throw rn.a.newRxError("DOC3",{path:path});if(!this.collection.schema.getSchemaByObjectPath(path))throw rn.a.newRxError("DOC4",{path:path});return this._dataSync$.pipe(Object(map.a)(function(data){return pn.a.get(data,path)}),Mn()).asObservable()},populate:function(path){var t=this.collection.schema.getSchemaByObjectPath(path),e=this.get(path);if(!t)throw rn.a.newRxError("DOC5",{path:path});if(!t.ref)throw rn.a.newRxError("DOC6",{path:path,schemaObj:t});var n=this.collection.database.collections[t.ref];if(!n)throw rn.a.newRxError("DOC7",{ref:t.ref,path:path,schemaObj:t});return"array"===t.type?Promise.all(e.map(function(t){return n.findOne(t).exec()})):n.findOne(e).exec()},get:function(t){if(this._data){var e=pn.a.get(this._data,t);return"object"!=typeof(e=Object(an.b)(e))||Array.isArray(e)?e:(Un(this.collection.schema,e,t,this),e)}},toJSON:function(){return Object(an.b)(this._data)},set:function(t,e){if(!this._isTemporary)throw rn.a.newRxTypeError("DOC16",{objPath:t,value:e});if("string"!=typeof t)throw rn.a.newRxTypeError("DOC15",{objPath:t,value:e});if(!Object.is(this.get(t),e)){var n=t.split(".");n.pop();var r=n.join(".");if(void 0===pn.a.get(this._data,r))throw rn.a.newRxError("DOC10",{childpath:t,rootPath:r});return pn.a.set(this._data,t,e),this}},update:function(){throw rn.a.pluginMissing("update")},putAttachment:function(){throw rn.a.pluginMissing("attachments")},getAttachment:function(){throw rn.a.pluginMissing("attachments")},allAttachments:function(){throw rn.a.pluginMissing("attachments")},get allAttachments$(){throw rn.a.pluginMissing("attachments")},atomicUpdate:function(t){var e=this;return this._atomicQueue=this._atomicQueue.then(f()(o.a.mark(function n(){var r,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object(an.b)(e._dataSync$.getValue()),n.next=3,t(Object(an.b)(e._dataSync$.getValue()),e);case 3:return c=n.sent,n.abrupt("return",e._saveData(c,r));case 5:case"end":return n.stop()}},n,this)}))),this._atomicQueue.then(function(){return e})},atomicSet:function(t,e){return this.atomicUpdate(function(n){return pn.a.set(n,t,e),n})},_saveData:function(t,e){var n=this;if(t=Object(an.b)(t),this._deleted$.getValue())throw rn.a.newRxError("DOC11",{id:this.primary,document:this});return this.collection.schema.validateChange(t,e),this.collection._runHooks("pre","save",t,this).then(function(){return n.collection.schema.validate(t),n.collection._pouchPut(Object(an.b)(t))}).then(function(e){if(!e.ok)throw rn.a.newRxError("DOC12",{data:e});t._rev=e.rev;var r=dn.a.create("UPDATE",n.collection.database,n.collection,n,t);return n.$emit(r),n.collection._runHooks("post","save",t,n)})},save:function(){var t=this;if(!this._isTemporary)throw rn.a.newRxError("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(Object(an.b)(t._data)),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject(rn.a.newRxError("DOC13",{document:this,id:this.primary}));var e=Object(an.b)(this._data);return this.collection._runHooks("pre","remove",e,this).then(function(){return e._deleted=!0,t.collection._pouchPut(e)}).then(function(){return t.$emit(dn.a.create("REMOVE",t.collection.database,t.collection,t,t._data)),t.collection._runHooks("post","remove",e,t)}).then(function(){return t})},destroy:function(){throw rn.a.newRxError("DOC14")}},Fn=new(In(qn));function Un(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==e){var o=t.getSchemaByObjectPath(n);void 0!==o&&(o.properties&&(o=o.properties),Object.keys(o).forEach(function(t){var o=Object(an.r)(n+"."+t);e.__defineGetter__(t,function(){return(r||this).get(o)}),Object.defineProperty(e,t+"$",{get:function(){return(r||this).get$(o)},enumerable:!1,configurable:!1}),Object.defineProperty(e,t+"_",{get:function(){return(r||this).populate(o)},enumerable:!1,configurable:!1}),e.__defineSetter__(t,function(t){return(r||this).set(o,t)})}))}}var $n={createWithConstructor:function(t,e,n){if(n[e.schema.primaryPath]&&n[e.schema.primaryPath].startsWith("_design"))return null;var r=new t(e,n);return yn("createRxDocument",r),r},properties:function(){if(!Nn){var t=Object.getOwnPropertyNames(Fn),e=Object.getOwnPropertyNames(qn);Nn=[].concat(t,e,["deleted","synced"])}return Nn},createRxDocumentConstructor:In,basePrototype:qn,isInstanceOf:function(t){return void 0!==t&&!!t.isInstanceOfRxDocument}},Vn=n(178),zn=n.n(Vn);function Hn(t,e){Object.keys(e).forEach(function(n){void 0===t[n]?t[n]=e[n]:Wn(e[n])?Hn(t[n],e[n]):t[n]=e[n]})}function Wn(t){return"[object Object]"===t.toString()}var Kn=function(){function t(t){var e=this.constructor.prototype;this.options={},this._conditions=e._conditions?Object(an.b)(e._conditions):{},this._fields=e._fields?Object(an.b)(e._fields):void 0,this._path=e._path||void 0,t&&this.find(t)}var e=t.prototype;return e.clone=function(){var e=new t;return Object.entries(this).forEach(function(t){var n=t[0],r=t[1];return e[n]=Object(an.b)(r)}),e},e.where=function(){if(!arguments.length)return this;var t=typeof arguments[0];if("string"===t)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===t&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw rn.a.newRxTypeError("MQ1",{path:arguments[0]})},e.equals=function(t){this._ensurePath("equals");var path=this._path;return this._conditions[path]=t,this},e.eq=function(t){this._ensurePath("eq");var path=this._path;return this._conditions[path]=t,this},e.or=function(t){var e=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.nor=function(t){var e=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.and=function(t){var e=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.mod=function(){var t,path;return 1===arguments.length?(this._ensurePath("mod"),t=arguments[0],path=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(t=arguments.slice(1),path=arguments[0]):(t=arguments[1],path=arguments[0]):(this._ensurePath("mod"),t=arguments.slice(),path=this._path),(this._conditions[path]||(this._conditions[path]={})).$mod=t,this},e.exists=function(){var path,t;return 0===arguments.length?(this._ensurePath("exists"),path=this._path,t=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),path=this._path,t=arguments[0]):(path=arguments[0],t=!0):2===arguments.length&&(path=arguments[0],t=arguments[1]),(this._conditions[path]||(this._conditions[path]={})).$exists=t,this},e.elemMatch=function(){if(null===arguments[0])throw rn.a.newRxTypeError("MQ2");var e,path,n;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),path=this._path,e=arguments[0];else if(Wn(arguments[0]))this._ensurePath("elemMatch"),path=this._path,n=arguments[0];else if("function"==typeof arguments[1])path=arguments[0],e=arguments[1];else{if(!arguments[1]||!Wn(arguments[1]))throw rn.a.newRxTypeError("MQ2");path=arguments[0],n=arguments[1]}return e&&(e(n=new t),n=n._conditions),(this._conditions[path]||(this._conditions[path]={})).$elemMatch=n,this},e.sort=function(t){var e,n=this;if(!t)return this;var r=typeof t;if(Array.isArray(t)){e=t.length;for(var i=0;i<t.length;++i)Jn(this.options,t[i][0],t[i][1]);return this}if(1===arguments.length&&"string"===r){e=(t=t.split(/\s+/)).length;for(var o=0;o<e;++o){var c=t[o];if(c){var f="-"===c[0]?-1:1;-1===f&&(c=c.substring(1)),Yn(this.options,c,f)}}return this}if(Wn(t))return Object.keys(t).forEach(function(e){return Yn(n.options,e,t[e])}),this;throw rn.a.newRxTypeError("MQ3",{args:arguments})},e.merge=function(source){if(!source)return this;if(!t.canMerge(source))throw rn.a.newRxTypeError("MQ4",{source:source});return source instanceof t?(source._conditions&&Hn(this._conditions,source._conditions),source._fields&&(this._fields||(this._fields={}),Hn(this._fields,source._fields)),source.options&&(this.options||(this.options={}),Hn(this.options,source.options)),source._update&&(this._update||(this._update={}),function t(e,n){Object.keys(n).forEach(function(r){void 0===e[r]?e[r]=Object(an.b)(n[r],{retainKeyOrder:1}):Wn(n[r])?t(e[r],n[r]):e[r]=Object(an.b)(n[r],{retainKeyOrder:1})})}(this._update,source._update)),source._distinct&&(this._distinct=source._distinct),this):(Hn(this._conditions,source),this)},e.find=function(e){return t.canMerge(e)&&this.merge(e),this},e._ensurePath=function(t){if(!this._path)throw rn.a.newRxError("MQ5",{method:t})},t}();function Yn(t,e,n){if(Array.isArray(t.sort))throw rn.a.newRxTypeError("MQ6",{opts:t,field:e,value:n});if(n&&n.$meta){(t.sort||(t.sort={}))[e]={$meta:n.$meta}}else{var r=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(r))throw Array.isArray(n)&&(n="["+n+"]"),rn.a.newRxTypeError("MQ7",{field:e,value:n});var s=t.sort||(t.sort={}),o=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");s[e]=parseInt(o,10)}}function Jn(t,e,n){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw rn.a.newRxTypeError("MQ8",{opts:t,field:e,value:n});t.sort.push([e,n])}["gt","gte","lt","lte","ne","in","nin","all","regex","size"].forEach(function(t){Kn.prototype[t]=function(){var path,e;return 1===arguments.length?(this._ensurePath(t),e=arguments[0],path=this._path):(e=arguments[1],path=arguments[0]),(null===this._conditions[path]||"object"==typeof this._conditions[path]?this._conditions[path]:this._conditions[path]={})["$"+t]=e,this}}),Kn.canMerge=function(t){return t instanceof Kn||Wn(t)},["limit","skip","maxScan","batchSize","comment"].forEach(function(t){Kn.prototype[t]=function(e){return this.options[t]=e,this}});var Qn=Kn,Gn=!1,Xn=function(){function t(t){this.query=t,this.primaryKey=this.query.collection.schema.primaryPath}var e=t.prototype;return e.runChangeDetection=function(t){var e=this;if(0===t.length)return!1;if(!this.query.collection.database.queryChangeDetection)return!0;var n=this.query._resultsData,r=!1;return!!t.find(function(t){var o=e.handleSingleChange(n,t);return Array.isArray(o)?(r=!0,n=o,!1):!!o||void 0})||!!r&&n},e.handleSingleChange=function(t,e){var n=this,r=t.slice(0),o=this.query.toJSON(),c=e.data.v,f=function(t,e,n){var r=t.query.collection.schema.primaryPath;return!!n.find(function(t){return t[r]===e[r]})}(this,c,t),l=function(t,e){if(e._deleted)return!1;e=t.query.collection.schema.swapPrimaryToId(e);var n=Object.keys(t.query.toJSON().selector);return 1===Rt([{doc:e}],{selector:At(t.query.toJSON().selector)},n).length}(this,c),h=!o.limit||o.limit&&t.length>=o.limit,d=o.limit&&t.length>=o.limit;Gn&&(console.log("QueryChangeDetector.handleSingleChange()"),Zn(this,"start",e.data.v,"handleSingleChange()"),console.log("changeEvent.data:"),console.dir(e.data),console.log("wasDocInResults: "+f),console.log("doesMatchNow: "+l),console.log("isFilled: "+h),console.log("options:"+JSON.stringify(o)));var v=null,y=null,m=null;if("REMOVE"===e.data.op){if(!f&&!l)return Gn&&Zn(this,"R1",c),!1;if(o.skip&&l&&(null===y&&(y=nr(n,c,r[0])),y)&&!h)return Gn&&Zn(this,"R2",c),r.shift(),r;if(l&&f&&!h)return Gn&&Zn(this,"R3",c),r=r.filter(function(t){return t[n.primaryKey]!==c[n.primaryKey]});if(1===o.limit&&!l&&f)return Gn&&Zn(this,"R3.05",c),!0;if(l&&f&&!o.limit&&!o.skip)return Gn&&Zn(this,"R3.1",c),r=r.filter(function(t){return t[n.primaryKey]!==c[n.primaryKey]});if(l&&o.limit&&(null===v&&(v=nr(n,r[r.length-1],c)),v))return Gn&&Zn(this,"R4",c),!1}else{if(!(o.skip||o.limit||f||l))return Gn&&Zn(this,"U1",c),!1;if(!o.skip&&!o.limit&&f&&l){var _=r.find(function(t){return t[n.primaryKey]===c[n.primaryKey]}),i=r.indexOf(_);return r[i]=c,function(){if(null===m){var e=t.find(function(t){return t[n.primaryKey]===c[n.primaryKey]});m=rr(n,e,c)}return rr}()?(Gn&&Zn(this,"U2 - resort",c),er(this,r)):(Gn&&Zn(this,"U2 - no-resort",c),r)}if(!o.skip&&!d&&!f&&l)return Gn&&Zn(this,"U3",c),r.push(c),er(this,r)}return!0},t}();function Zn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},title=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"optimized";console.dir({name:"QueryChangeDetector",title:title,query:t.query.toString(),key:e,changeEventData:n})}function er(t,e){var n=ir(t),r=e.map(function(e){return{doc:t.query.collection.schema.swapPrimaryToId(e)}}),o=Object.keys(t.query.toJSON().selector);return Rt(r,{selector:At(t.query.toJSON().selector),sort:n},o).map(function(t){return t.doc}).map(function(e){return t.query.collection.schema.swapIdToPrimary(e)})}function nr(t,e,n){var r=ir(t),o=Object.keys(t.query.toJSON().selector),c=t.query.collection.schema.swapPrimaryToId(e);return Rt([c,t.query.collection.schema.swapPrimaryToId(n)].map(function(t){return{id:t._id,doc:t}}),{selector:At(t.query.toJSON().selector),sort:r},o)[0].id===c._id}function rr(t,e,n){var r=ir(t).map(function(t){return Object.keys(t).pop()}),o=!1;return r.find(function(t){return pn.a.get(e,t)!==pn.a.get(n,t)&&(o=!0,!0)}),o}function ir(t){if(!t._sortOptions){var e=t.query.toJSON().sort;e||(e=[{_id:"asc"}]),t._sortOptions=e}return t._sortOptions}var or={create:function(t){return new Xn(t)},enableDebugging:function(){console.log("QueryChangeDetector.enableDebugging()"),Gn=!0}};var ar=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return sn.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(un.a),sr=function(t){return function(e){for(var i=0,n=t.length;i<n&&!e.closed;i++)e.next(t[i]);e.closed||e.complete()}},ur=n(176),cr=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,ur.a),e}};function fr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var lr=fr(),pr=function(t){return function(e){for(var n=t[lr]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},dr=function(t){return function(e){var n=t[_n]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},vr=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function yr(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var gr=n(194),mr=function(t){if(t instanceof En)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[_n])return dr(t);if(vr(t))return sr(t);if(yr(t))return cr(t);if(t&&"function"==typeof t[lr])return pr(t);var e=Object(gr.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function _r(t,e,n,r,o){if(void 0===o&&(o=new ar(t,n,r)),!o.closed)return mr(e)(o)}var wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sn.a(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(un.a);function kr(input,t){return new En(t?function(e){var sub=new jn.a,i=0;return sub.add(t.schedule(function(){i!==input.length?(e.next(input[i++]),e.closed||sub.add(this.schedule())):e.complete()})),sub}:sr(input))}function xr(input,t){if(!t)return input instanceof En?input:new En(mr(input));if(null!=input){if(function(input){return input&&"function"==typeof input[_n]}(input))return function(input,t){return new En(t?function(e){var sub=new jn.a;return sub.add(t.schedule(function(){var n=input[_n]();sub.add(n.subscribe({next:function(n){sub.add(t.schedule(function(){return e.next(n)}))},error:function(n){sub.add(t.schedule(function(){return e.error(n)}))},complete:function(){sub.add(t.schedule(function(){return e.complete()}))}}))})),sub}:dr(input))}(input,t);if(yr(input))return function(input,t){return new En(t?function(e){var sub=new jn.a;return sub.add(t.schedule(function(){return input.then(function(n){sub.add(t.schedule(function(){e.next(n),sub.add(t.schedule(function(){return e.complete()}))}))},function(n){sub.add(t.schedule(function(){return e.error(n)}))})})),sub}:cr(input))}(input,t);if(vr(input))return kr(input,t);if(function(input){return input&&"function"==typeof input[lr]}(input)||"string"==typeof input)return function(input,t){if(!input)throw new Error("Iterable cannot be null");return new En(t?function(e){var n,sub=new jn.a;return sub.add(function(){n&&"function"==typeof n.return&&n.return()}),sub.add(t.schedule(function(){n=input[lr](),sub.add(t.schedule(function(){if(!e.closed){var t,r;try{var o=n.next();t=o.value,r=o.done}catch(t){return void e.error(t)}r?e.complete():(e.next(t),this.schedule())}}))})),sub}:pr(input))}(input,t)}throw new TypeError((null!==input&&typeof input||input)+" is not observable")}function Er(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(source){return source.pipe(Er(function(a,i){return xr(t(a,i)).pipe(Object(map.a)(function(b,t){return e(a,b,i,t)}))},n))}:("number"==typeof e&&(n=e),function(source){return source.lift(new Or(t,n))})}var Or=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,source){return source.subscribe(new jr(t,this.project,this.concurrent))},t}(),jr=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return sn.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new ar(this,void 0,void 0);this.destination.add(r),_r(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(wr);function Sr(t){return t}function Cr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=Number.POSITIVE_INFINITY,o=null,c=t[t.length-1];return(n=c)&&"function"==typeof n.schedule?(o=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof c&&(r=t.pop()),null===o&&1===t.length&&t[0]instanceof En?t[0]:function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Er(Sr,t)}(r)(kr(t,o))}function Pr(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Pr.prototype=Object.create(Error.prototype);var Ar=Pr;function Rr(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Rr.prototype=Object.create(Error.prototype);var Tr=Rr,Dr=new En(function(t){return t.complete()});function Mr(t){return t?function(t){return new En(function(e){return t.schedule(function(){return e.complete()})})}(t):Dr}var Br=function(){function t(t){if(this.total=t,this.total<0)throw new Tr}return t.prototype.call=function(t,source){return source.subscribe(new Lr(t,this.total))},t}(),Lr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return sn.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(un.a);var Ir=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,source){return source.subscribe(new Nr(t,this.defaultValue))},t}(),Nr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return sn.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(un.a),qr=n(168);function Fr(t,e,n){return function(source){return source.lift(new Ur(t,e,n))}}var Ur=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,source){return source.subscribe(new $r(t,this.nextOrObserver,this.error,this.complete))},t}(),$r=function(t){function e(e,n,r,o){var c=t.call(this,e)||this;return c._tapNext=wn,c._tapError=wn,c._tapComplete=wn,c._tapError=r||wn,c._tapComplete=o||wn,Object(qr.a)(n)?(c._context=c,c._tapNext=n):n&&(c._context=n,c._tapNext=n.next||wn,c._tapError=n.error||wn,c._tapComplete=n.complete||wn),c}return sn.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(un.a),Vr=function(t){return void 0===t&&(t=zr),Fr({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function zr(){return new Ar}function Hr(t,e){var n=arguments.length>=2;return function(source){return source.pipe(t?cn(function(e,i){return t(e,i,source)}):Sr,(r=1,function(source){return 0===r?Mr():source.lift(new Br(r))}),n?function(t){return void 0===t&&(t=null),function(source){return source.lift(new Ir(t))}}(e):Vr(function(){return new Ar}));var r}}var Wr=0,Kr=function(){return++Wr},Yr=function(){function t(t,e,n){this.op=t,this.collection=n,this.id=Kr(),e||(e=Jr(this.collection)),this.mquery=new Qn(e),this._subs=[],this._resultsData=null,this._resultsDocs$=new Dn(null),this._queryChangeDetector=or.create(this),this._latestChangeEvent=-1,this._execOverDatabaseCount=0,this._ensureEqualQueue=Promise.resolve()}var e=t.prototype;return e.toString=function(){if(!this.stringRep){var t=Object(an.p)({op:this.op,options:this.mquery.options,_conditions:this.mquery._conditions,_path:this.mquery._path,_fields:this.mquery._fields},!0);this.stringRep=JSON.stringify(t,an.q)}return this.stringRep},e._clone=function(){var e=new t(this.op,Jr(this.collection),this.collection);return e.mquery=this.mquery.clone(),e},e._setResultData=function(t){this._resultsData=t;var e=this.collection._createDocuments(this._resultsData);return this._resultsDocs$.next(e),e},e._execOverDatabase=function(){var t;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this.op){case"find":t=this.collection._pouchFind(this);break;case"findOne":t=this.collection._pouchFind(this,1);break;default:throw rn.a.newRxError("QU1",{op:this.op})}return t},e.exec=function(){var t=f()(o.a.mark(function t(){var e=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Zr(this).then(function(){return e.$.pipe(Hr()).toPromise()}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.toJSON=function(){if(this._toJSON)return this._toJSON;var t=this.collection.schema.primaryPath,e={selector:this.mquery._conditions},n=Object(an.b)(this.mquery.options);if(n.sort){var r=[];Object.keys(n.sort).map(function(e){var o="asc";-1===n.sort[e]&&(o="desc");var c={};e===t&&(e="_id"),c[e]=o,r.push(c)}),e.sort=r}if(n.limit){if("number"!=typeof n.limit)throw rn.a.newRxTypeError("QU2",{limit:n.limit});e.limit=n.limit}if(n.skip){if("number"!=typeof n.skip)throw rn.a.newRxTypeError("QU3",{skip:n.skip});e.skip=n.skip}return Object.entries(e.selector).filter(function(t){return"object"==typeof t[1]}).filter(function(t){return null!==t[1]}).filter(function(t){var e=t[1];return!Array.isArray(e)}).filter(function(t){var e=t[1];return 0===Object.keys(e).length}).forEach(function(t){var n=t[0];return delete e.selector[n]}),"_id"!==t&&e.selector[t]&&(e.selector._id=e.selector[t],delete e.selector[t]),0===Object.keys(e.selector).length&&(e.selector={_id:{}}),this._toJSON=e,this._toJSON},e.keyCompress=function(){return this.collection.schema.doKeyCompression()?(this._keyCompress||(this._keyCompress=this.collection._keyCompressor.compressQuery(this.toJSON())),this._keyCompress):this.toJSON()},e.remove=function(){var t;return this.exec().then(function(e){return t=e,Array.isArray(e)?Promise.all(e.map(function(t){return t.remove()})):e.remove()}).then(function(){return t})},e.update=function(){throw rn.a.pluginMissing("update")},e.regex=function(t){var e=this._clone();if(this.mquery._path===this.collection.schema.primaryPath)throw rn.a.newRxError("QU4",{path:this.mquery._path});return e.mquery.regex(t),Qr(e)},e.sort=function(t){var e=this._clone();if("object"!=typeof t){var n="-"===t.charAt(0)?t.substring(1):t;e.mquery._conditions[n]||Xr(n,e)}else Object.keys(t).filter(function(t){return!e.mquery._conditions[t]||!e.mquery._conditions[t].$gt}).forEach(function(t){return Xr(t,e)});return e.mquery.sort(t),Qr(e)},e.limit=function(t){if("findOne"===this.op)throw rn.a.newRxError("QU6");var e=this._clone();return e.mquery.limit(t),Qr(e)},h()(t,[{key:"$",get:function(){var t=this;if(!this._$){var e=this._resultsDocs$.pipe(Er(function(e){return Zr(t).then(function(t){return!t&&e})}),cn(function(t){return!!t}),Object(map.a)(function(e){return"findOne"===t.op?0===e.length?null:e[0]:e}),Object(map.a)(function(t){return Array.isArray(t)?t.slice():t})).asObservable(),n=this.collection.docChanges$.pipe(Fr(function(){return Zr(t)}),cn(function(){return!1}));this._$=Cr(e,n)}return this._$}}]),t}();function Jr(t){var e;return(e={})[t.schema.primaryPath]={},e}function Qr(t){return t.collection._queryCache.getByQuery(t)}var Gr=!1;function Xr(t,e){var n=e.collection.schema.getSchemaByObjectPath(t);switch(n||function(t){throw rn.a.newRxError("QU5",{key:t})}(t),n.type){case"integer":e.mquery.where(t).gt(-1e28);break;case"string":e.mquery.where(t).gt("");break;default:e.mquery.where(t).gt(null)}}function Zr(t){return t._ensureEqualQueue=t._ensureEqualQueue.then(function(){return new Promise(function(t){return setTimeout(t,0)})}).then(function(){return function(t){if(t.collection.database.destroyed)return!1;if(function(t){return t._latestChangeEvent>=t.collection._changeEventBuffer.counter}(t))return!1;var e=!1,n=!1;-1===t._latestChangeEvent&&(n=!0);if(!n){var r=t.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(null===r)n=!0;else{t._latestChangeEvent=t.collection._changeEventBuffer.counter;var o=t.collection._changeEventBuffer.reduceByLastOfDoc(r),c=t._queryChangeDetector.runChangeDetection(o);!Array.isArray(c)&&c&&(n=!0),Array.isArray(c)&&!zn()(c,t._resultsData)&&(e=!0,t._setResultData(c))}}if(n){var f=t.collection._changeEventBuffer.counter;return t._execOverDatabase().then(function(n){return t._latestChangeEvent=f,zn()(n,t._resultsData)||(e=!0,t._setResultData(n)),e})}return e}(t)}).then(function(t){return new Promise(function(t){return setTimeout(t,0)}).then(function(){return t})}),t._ensureEqualQueue}var ti={create:function(t,e,n){if(e&&"object"!=typeof e)throw rn.a.newRxTypeError("QU7",{queryObj:e});if(Array.isArray(e))throw rn.a.newRxTypeError("QU8",{queryObj:e});var r,o=new Yr(t,e,n);return o=Qr(o),Gr||(Gr=!0,r=Object.getPrototypeOf(o),Object.getOwnPropertyNames(o.mquery.__proto__).filter(function(t){return!t.startsWith("_")}).filter(function(t){return!r[t]}).forEach(function(t){r[t]=function(e){var n=this._clone();return n.mquery[t](e),Qr(n)}})),yn("createRxQuery",o),o},RxQuery:Yr,isInstanceOf:function(t){return t instanceof Yr}},ei=function(){function t(t){this.jsonID=t,this.compoundIndexes=this.jsonID.compoundIndexes,this.indexes=ii(this.jsonID),this.primaryPath=oi(this.jsonID),this.primaryPath&&this.jsonID.required.push(this.primaryPath),this.finalFields=ai(this.jsonID),this.jsonID.required=this.jsonID.required.concat(this.finalFields).filter(function(t,e,n){return n.indexOf(t)===e}),this.jsonID.properties[this.primaryPath]||(this.jsonID.properties[this.primaryPath]={type:"string",minLength:1})}var e=t.prototype;return e.getSchemaByObjectPath=function(path){return path="properties."+(path=path.replace(/\./g,".properties.")),path=Object(an.r)(path),pn.a.get(this.jsonID,path)},e.validateChange=function(t,e){this.finalFields.forEach(function(n){if(!zn()(t[n],e[n]))throw rn.a.newRxError("DOC9",{dataBefore:t,dataAfter:e,fieldName:n})})},e.validate=function(){throw rn.a.pluginMissing("validate")},e.fillObjectWithDefaults=function(t){return t=Object(an.b)(t),Object.entries(this.defaultValues).filter(function(e){var n=e[0];return!t.hasOwnProperty(n)||void 0===t[n]}).forEach(function(e){var n=e[0],r=e[1];return t[n]=r}),t},e.swapIdToPrimary=function(t){return"_id"===this.primaryPath||t[this.primaryPath]?t:(t[this.primaryPath]=t._id,delete t._id,t)},e.swapPrimaryToId=function(t){var e=this;if("_id"===this.primaryPath)return t;var n={};return Object.entries(t).forEach(function(t){var r=t[0]===e.primaryPath?"_id":t[0];n[r]=t[1]}),n},e.doKeyCompression=function(){return this.jsonID.hasOwnProperty("disableKeyCompression")?!this.jsonID.disableKeyCompression:this.jsonID.keyCompression},e.getDocumentPrototype=function(){if(!this._getDocumentPrototype){var t={};Un(this,t,""),this._getDocumentPrototype=t}return this._getDocumentPrototype},h()(t,[{key:"version",get:function(){return this.jsonID.version}},{key:"previousVersions",get:function(){var t=0;return new Array(this.version).fill(0).map(function(){return t++})}},{key:"crypt",get:function(){return this._crypt||(this._crypt=ri(this.jsonID)),this._crypt}},{key:"normalized",get:function(){return this._normalized||(this._normalized=si(this.jsonID)),this._normalized}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var t=this;return this._defaultValues||(this._defaultValues={},Object.entries(this.normalized.properties).filter(function(t){return t[1].hasOwnProperty("default")}).forEach(function(e){var n=e[0],r=e[1];return t._defaultValues[n]=r.default})),this._defaultValues}},{key:"encryptedPaths",get:function(){return this._encryptedPaths||(this._encryptedPaths=ni(this.jsonID)),this._encryptedPaths}},{key:"hash",get:function(){return this._hash||(this._hash=Object(an.f)(this.normalized)),this._hash}}]),t}();function ni(t){var e={};return function t(n,r){if("object"==typeof n)if(n.encrypted)e[r.substring(1)]=n;else for(var o in n){var c=r;"properties"!==o&&(c=c+"."+o),t(n[o],c)}}(t.properties,""),e}function ri(t){var e=ni(t);return Object.keys(e).length>0}function ii(t){var e=Object(an.c)(t),n=Object.keys(e).map(function(t){var e=t.split(".");return e.pop(),e.join(".")}).filter(function(t){return""!==t}).filter(function(t,e,n){return n.indexOf(t)===e}).filter(function(e){return!!pn.a.get(t,e).index}).map(function(t){return t=(t=t.replace("properties.","")).replace(/\.properties\./g,"."),[Object(an.r)(t)]}),r=t.compoundIndexes||[];return n=n.concat(r)}function oi(t){var e=Object.keys(t.properties).filter(function(e){return t.properties[e].primary}).shift();return e||"_id"}function ai(t){var e=Object.keys(t.properties).filter(function(e){return t.properties[e].final});return e.push(oi(t)),e}function si(t){return Object(an.p)(Object(an.b)(t))}var ui=function(t){return(t=Object(an.b)(t)).additionalProperties=!1,t.hasOwnProperty("keyCompression")||(t.keyCompression=!1),t.compoundIndexes=t.compoundIndexes||[],t.required=t.required||[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.version=t.version||0,t};var ci={RxSchema:ei,getEncryptedPaths:ni,hasCrypt:ri,getIndexes:ii,getPrimary:oi,getFinalFields:ai,normalize:si,create:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&yn("preCreateRxSchema",t);var e=new ei(ui(t));return yn("createRxSchema",e),e},isInstanceOf:function(t){return t instanceof ei}},fi=function(){function t(t,e){this._password=t,this._schema=e}var e=t.prototype;return e._encryptValue=function(){throw rn.a.pluginMissing("encryption")},e._decryptValue=function(){throw rn.a.pluginMissing("encryption")},e.encrypt=function(t){var e=this;return t=Object(an.b)(t),this._password?(Object.keys(this._schema.encryptedPaths).map(function(path){var n=pn.a.get(t,path),r=e._encryptValue(n);pn.a.set(t,path,r)}),t):t},e.decrypt=function(t){var e=this;return t=Object(an.b)(t),this._password?(Object.keys(this._schema.encryptedPaths).map(function(path){var n=pn.a.get(t,path),r=e._decryptValue(n);pn.a.set(t,path,r)}),t):t},t}();var hi={create:function(t,e){return new fi(t,e)},Crypter:fi},pi=n(163),di=function(){function t(t,e){this.newestCollection=t,this.migrationStrategies=e,this.currentSchema=t.schema,this.database=t.database,this.name=t.name}var e=t.prototype;return e.migrate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw rn.a.newRxError("DM1");this._migrated=!0;var n={done:!1,total:null,handled:0,success:0,deleted:0,percent:0},r=new Rn;return f()(o.a.mark(function c(){var f,l,h,d,v;return o.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,yi(t);case 2:return f=c.sent,c.next=5,Promise.all(f.map(function(t){return t.countAllUndeleted()}));case 5:l=c.sent,h=l.reduce(function(t,e){return t+e},0),n.total=h,r.next(Object(an.b)(n)),d=f.shift(),v=o.a.mark(function t(){var c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=d.migrate(e),t.next=3,new Promise(function(t){var sub=c.subscribe(function(t){n.handled++,n[t.type]=n[t.type]+1,n.percent=Math.round(n.handled/n.total*100),r.next(Object(an.b)(n))},function(t){sub.unsubscribe(),r.error(t)},function(){sub.unsubscribe(),t()})});case 3:d=f.shift();case 4:case"end":return t.stop()}},t,this)});case 11:if(!d){c.next=15;break}return c.delegateYield(v(),"t0",13);case 13:c.next=11;break;case 15:n.done=!0,n.percent=100,r.next(Object(an.b)(n)),r.complete();case 19:case"end":return c.stop()}},c,this)}))(),r.asObservable()},e.migratePromise=function(){var t=f()(o.a.mark(function t(e){var n=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._migratePromise){t.next=7;break}return t.next=3,gi(this);case 3:if(t.sent){t.next=6;break}return t.abrupt("return",Promise.resolve(!1));case 6:this._migratePromise=new Promise(function(t,r){n.migrate(e).subscribe(null,r,t)});case 7:return t.abrupt("return",this._migratePromise);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),t}(),vi=function(){function t(t,e,n){this.version=t,this.dataMigrator=n,this.schemaObj=e,this.newestCollection=n.newestCollection,this.database=n.newestCollection.database}var e=t.prototype;return e.countAllUndeleted=function(){return on.countAllUndeleted(this.pouchdb)},e.getBatch=function(t){var e=this;return on.getBatch(this.pouchdb,t).then(function(t){return t.map(function(t){return e._handleFromPouch(t)})})},e._handleFromPouch=function(t){var data=Object(an.b)(t);return data=this.schema.swapIdToPrimary(t),this.schema.doKeyCompression()&&(data=this.keyCompressor.decompress(data)),data=this.crypter.decrypt(data)},e._handleToPouch=function(t){var data=Object(an.b)(t);return data=this.crypter.encrypt(data),data=this.schema.swapPrimaryToId(data),this.schema.doKeyCompression()&&(data=this.keyCompressor.compress(data)),data},e.migrateDocumentData=function(){var t=f()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(an.b)(e),n=this.version+1;case 2:if(!(n<=this.newestCollection.schema.version)){t.next=11;break}return t.next=5,this.dataMigrator.migrationStrategies[n+""](e);case 5:if(e=t.sent,n++,null!==e){t.next=9;break}return t.abrupt("return",null);case 9:t.next=2;break;case 11:t.prev=11,this.newestCollection.schema.validate(e),t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(11),rn.a.newRxError("DM2",{fromVersion:this.version,toVersion:this.newestCollection.schema.version,finalDoc:e});case 18:return t.abrupt("return",e);case 19:case"end":return t.stop()}},t,this,[[11,15]])}));return function(e){return t.apply(this,arguments)}}(),e._migrateDocument=function(){var t=f()(o.a.mark(function t(e){var n,r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.migrateDocumentData(e);case 2:if(n=t.sent,r={doc:e,migrated:n,oldCollection:this,newestCollection:this.newestCollection},!n){t.next=16;break}return gn.runPluginHooks("preMigrateDocument",r),delete n._rev,t.next=9,this.newestCollection._pouchPut(n,!0);case 9:return c=t.sent,r.res=c,r.type="success",t.next=14,gn.runAsyncPluginHooks("postMigrateDocument",r);case 14:t.next=17;break;case 16:r.type="deleted";case 17:return t.prev=17,t.next=20,this.pouchdb.remove(this._handleToPouch(e));case 20:t.next=24;break;case 22:t.prev=22,t.t0=t.catch(17);case 24:return t.abrupt("return",r);case 25:case"end":return t.stop()}},t,this,[[17,22]])}));return function(e){return t.apply(this,arguments)}}(),e.delete=function(){var t=this;return this.pouchdb.destroy().then(function(){return t.database.removeCollectionDoc(t.dataMigrator.name,t.schema)})},e.migrate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrate)throw rn.a.newRxError("DM3");this._migrate=!0;var n=new Rn;return f()(o.a.mark(function r(){var c,f;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getBatch(e);case 2:c=r.sent;case 3:return r.next=5,Promise.all(c.map(function(e){return t._migrateDocument(e).then(function(t){return n.next(t)})})).catch(function(t){return f=t});case 5:if(!f){r.next=8;break}return n.error(f),r.abrupt("return");case 8:return r.next=10,t.getBatch(e);case 10:c=r.sent;case 11:if(!f&&c.length>0){r.next=3;break}case 12:return r.next=14,t.delete();case 14:n.complete();case 15:case"end":return r.stop()}},r,this)}))(),n.asObservable()},e.migratePromise=function(t){var e=this;return this._migratePromise||(this._migratePromise=new Promise(function(n,r){e.migrate(t).subscribe(null,r,n)})),this._migratePromise},h()(t,[{key:"schema",get:function(){return this._schema||(this._schema=ci.create(this.schemaObj,!1)),this._schema}},{key:"keyCompressor",get:function(){return this._keyCompressor||(this._keyCompressor=pi.a.createKeyCompressor(this.schema)),this._keyCompressor}},{key:"crypter",get:function(){return this._crypter||(this._crypter=hi.create(this.database.password,this.schema)),this._crypter}},{key:"pouchdb",get:function(){return this._pouchdb||(this._pouchdb=this.database._spawnPouchDB(this.newestCollection.name,this.version,this.newestCollection.pouchSettings)),this._pouchdb}}]),t}();function yi(t){return Promise.all(t.currentSchema.previousVersions.map(function(e){return t.database._collectionsPouch.get(t.name+"-"+e)}).map(function(t){return t.catch(function(){return null})})).then(function(e){return e.filter(function(t){return null!==t}).map(function(e){return new vi(e.schema.version,e.schema,t)})})}function gi(t){return 0===t.currentSchema.version?Promise.resolve(!1):yi(t).then(function(t){return 0!==t.length})}var mi={create:function(t,e){return new di(t,e)}},bi=function(){function t(){this._map=new Map}var e=t.prototype;return e.get=function(t){return this._map.get(t)},e.set=function(t,e){return this._map.set(t,e)},e.delete=function(t){this._map.delete(t)},t}();var _i={create:function(){return new bi}},wi=function(){function t(){this.subs=[],this._map=new Map}var e=t.prototype;return e.getByQuery=function(t){var e=t.toString();return this._map.has(e)||this._map.set(e,t),this._map.get(e)},e.destroy=function(){this.subs.forEach(function(sub){return sub.unsubscribe()}),this._map=new Map},t}();var ki={create:function(){return new wi}},xi=function(){function t(t){var e=this;this.collection=t,this.subs=[],this.limit=100,this.buffer=[],this.counter=0,this.eventCounterMap=new WeakMap,this.subs.push(this.collection.$.subscribe(function(t){return e._handleChangeEvent(t)}))}var e=t.prototype;return e._handleChangeEvent=function(t){for(this.counter++,this.buffer.push(t),this.eventCounterMap.set(t,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},e.getArrayIndexByPointer=function(t){var e=this.buffer[0],n=this.eventCounterMap.get(e);return t<n?null:t-n},e.getFrom=function(t){var e=[],n=this.getArrayIndexByPointer(t);if(null===n)return null;for(;;){var r=this.buffer[n];if(n++,!r)return e;e.push(r)}},e.runFrom=function(t,e){this.getFrom(t).forEach(function(t){return e(t)})},e.reduceByLastOfDoc=function(t){var e={};return t.forEach(function(t){e[t.data.doc]=t}),Object.values(e)},e.hasChangeWithRevision=function(t){for(var e=this.buffer.length;e>0;){e--;var n=this.buffer[e];if(n.data.v&&n.data.v._rev===t)return!0}return!1},e.destroy=function(){this.subs.forEach(function(sub){return sub.unsubscribe()})},t}();var Ei={create:function(t){return new xi(t)}},Oi=function(){function t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};this._isInMemory=!1,this.destroyed=!1,this.database=t,this.name=e,this.schema=n,this._migrationStrategies=o,this._pouchSettings=r,this._methods=c,this._attachments=f,this.options=l,this._atomicUpsertQueues=new Map,this._statics=h,this._docCache=_i.create(),this._queryCache=ki.create(),this.synced=!1,this.hooks={},this._subs=[],this._repStates=[],this.pouch=null,function(t){if(Pi)return;Pi=!0;var e=Object.getPrototypeOf(t);Ci.forEach(function(t){Si.map(function(n){var r=n+Object(an.s)(t);e[r]=function(e,r){return this.addHook(n,t,e,r)}})})}(this)}var e=t.prototype;return e.prepare=function(){var t=this;this.pouch=this.database._spawnPouchDB(this.name,this.schema.version,this._pouchSettings),this.schema.doKeyCompression()&&(this._keyCompressor=pi.a.createKeyCompressor(this.schema));var e=this.pouch.info(),n=function(t,e){return Promise.all(t.schema.indexes.map(function(n){var r=n.map(function(e){return t.schema.doKeyCompression()?t._keyCompressor.transformKey("","",e.split(".")):e});return e.then(function(){return t.pouch.createIndex({index:{fields:r}})})}))}(this,e);return this._dataMigrator=mi.create(this,this._migrationStrategies),this._crypter=hi.create(this.database.password,this.schema),this._observable$=this.database.$.pipe(cn(function(e){return e.data.col===t.name})),this._changeEventBuffer=Ei.create(this),this._subs.push(this._observable$.pipe(cn(function(t){return!t.data.isLocal})).subscribe(function(e){var n=t._docCache.get(e.data.doc);n&&n._handleChangeEvent(e)})),Promise.all([e,n])},e.getDocumentPrototype=function(){if(!this._getDocumentPrototype){var t=this.schema.getDocumentPrototype(),e=function(t){var e={};return Object.entries(t._methods).forEach(function(t){var n=t[0],r=t[1];e[n]=r}),e}(this),n=$n.basePrototype,r={};[t,e,n].forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(e){var desc=Object.getOwnPropertyDescriptor(t,e),n=!0;(e.startsWith("_")||e.endsWith("_")||e.startsWith("$")||e.endsWith("$"))&&(n=!1),"function"==typeof desc.value?Object.defineProperty(r,e,{get:function(){return desc.value.bind(this)},enumerable:n,configurable:!1}):(desc.enumerable=n,desc.configurable=!1,desc.writable&&(desc.writable=!1),Object.defineProperty(r,e,desc))})}),this._getDocumentPrototype=r}return this._getDocumentPrototype},e.getDocumentConstructor=function(){return this._getDocumentConstructor||(this._getDocumentConstructor=$n.createRxDocumentConstructor(this.getDocumentPrototype())),this._getDocumentConstructor},e.migrationNeeded=function(){return gi(this._dataMigrator)},e.migrate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migrate(t)},e.migratePromise=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migratePromise(t)},e._handleToPouch=function(t){var data=Object(an.b)(t);return data=this._crypter.encrypt(data),data=this.schema.swapPrimaryToId(data),this.schema.doKeyCompression()&&(data=this._keyCompressor.compress(data)),data},e._handleFromPouch=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],data=Object(an.b)(t);return data=this.schema.swapIdToPrimary(data),this.schema.doKeyCompression()&&(data=this._keyCompressor.decompress(data)),e?data:data=this._crypter.decrypt(data)},e._pouchPut=function(){var t=f()(o.a.mark(function t(e){var n,r,c,f=this,l=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],e=this._handleToPouch(e),r=null,t.prev=3,t.next=6,this.database.lockedRun(function(){return f.pouch.put(e)});case 6:r=t.sent,t.next=22;break;case 9:if(t.prev=9,t.t0=t.catch(3),!n||409!==t.t0.status){t.next=21;break}return t.next=14,this.database.lockedRun(function(){return f.pouch.get(e._id)});case 14:return c=t.sent,e._rev=c._rev,t.next=18,this.database.lockedRun(function(){return f.pouch.put(e)});case 18:r=t.sent,t.next=22;break;case 21:throw t.t0;case 22:return t.abrupt("return",r);case 23:case"end":return t.stop()}},t,this,[[3,9]])}));return function(e){return t.apply(this,arguments)}}(),e._pouchGet=function(t){var e=this;return this.pouch.get(t).then(function(t){return e._handleFromPouch(t)})},e._pouchFind=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.keyCompress();return e&&(o.limit=e),this.database.lockedRun(function(){return n.pouch.find(o)}).then(function(t){return t.docs.map(function(t){return n._handleFromPouch(t,r)})})},e._createDocument=function(t){var e=t[this.schema.primaryPath],n=this._docCache.get(e);if(n)return n;var r=$n.createWithConstructor(this.getDocumentConstructor(),this,t);return this._docCache.set(e,r),this._runHooksSync("post","create",t,r),yn("postCreateRxDocument",r),r},e._createDocuments=function(t){var e=this;return t.map(function(t){return e._createDocument(t)})},e.$emit=function(t){return this.database.$emit(t)},e.insert=function(t){var e=this,n=null;if($n.isInstanceOf(t)){if(n=t,!t._isTemporary)throw rn.a.newRxError("COL1",{data:t});t=t.toJSON()}if(t=Object(an.b)(t),(t=this.schema.fillObjectWithDefaults(t))._id&&"_id"!==this.schema.primaryPath)throw rn.a.newRxError("COL2",{data:t});"_id"!==this.schema.primaryPath||t._id||(t._id=Object(an.d)());var r=n;return this._runHooks("pre","insert",t).then(function(){return e.schema.validate(t),e._pouchPut(t)}).then(function(o){return t[e.schema.primaryPath]=o.id,t._rev=o.rev,n?n._dataSync$.next(t):r=e._createDocument(t),e._runHooks("post","insert",t,r)}).then(function(){var n=dn.a.create("INSERT",e.database,e,r,t);return e.$emit(n),r})},e.upsert=function(t){var e=this,n=(t=Object(an.b)(t))[this.schema.primaryPath];if(!n)throw rn.a.newRxError("COL3",{primaryPath:this.schema.primaryPath,data:t});return this.findOne(n).exec().then(function(n){return n?(t._rev=n._rev,n.atomicUpdate(function(){return t}).then(function(){return n})):e.insert(t)})},e.atomicUpsert=function(t){var e,n=this,r=(t=Object(an.b)(t))[this.schema.primaryPath];if(!r)throw rn.a.newRxError("COL4",{data:t});return e=(e=this._atomicUpsertQueues.has(r)?this._atomicUpsertQueues.get(r):Promise.resolve()).then(function(){return function(t,e,n){return t.findOne(e).exec().then(function(e){return e?{doc:e,inserted:!1}:t.insert(n).then(function(t){return{doc:t,inserted:!0}})})}(n,r,t)}).then(function(e){return e.inserted?e.doc:function(t,e){return t.atomicUpdate(function(t){return e._rev=t._rev,t._data=e,t._data}).then(function(){return t})}(e.doc,t).then(function(){return Object(an.i)()}).then(function(){return e.doc})}),this._atomicUpsertQueues.set(r,e),e},e.find=function(t){if("string"==typeof t)throw rn.a.newRxError("COL5",{queryObj:t});return ti.create("find",t,this)},e.findOne=function(t){var e;if(e="string"==typeof t?ti.create("findOne",{_id:t},this):ti.create("findOne",t,this),"number"==typeof t||Array.isArray(t))throw rn.a.newRxTypeError("COL6",{queryObj:t});return e},e.dump=function(){throw rn.a.pluginMissing("json-dump")},e.importDump=function(){throw rn.a.pluginMissing("json-dump")},e.watchForChanges=function(){throw rn.a.pluginMissing("watch-for-changes")},e.sync=function(){throw rn.a.pluginMissing("replication")},e.inMemory=function(){throw rn.a.pluginMissing("in-memory")},e.addHook=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw rn.a.newRxTypeError("COL7",{key:e,when:t});if(!Si.includes(t))throw rn.a.newRxTypeError("COL8",{key:e,when:t});if(!Ci.includes(e))throw rn.a.newRxError("COL9",{key:e});if("post"===t&&"create"===e&&!0===r)throw rn.a.newRxError("COL10",{when:t,key:e,parallel:r});var o=n.bind(this),c=r?"parallel":"series";this.hooks[e]=this.hooks[e]||{},this.hooks[e][t]=this.hooks[e][t]||{series:[],parallel:[]},this.hooks[e][t][c].push(o)},e.getHooks=function(t,e){try{return this.hooks[e][t]}catch(t){return{series:[],parallel:[]}}},e._runHooks=function(t,e,data,n){var r=this.getHooks(t,e);if(!r)return Promise.resolve();var o=r.series.map(function(t){return function(){return t(data,n)}});return Object(an.l)(o).then(function(){return Promise.all(r.parallel.map(function(t){return t(data,n)}))})},e._runHooksSync=function(t,e,data,n){var r=this.getHooks(t,e);r&&r.series.forEach(function(t){return t(data,n)})},e.newDocument=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=this.schema.fillObjectWithDefaults(t);var e=$n.createWithConstructor(this.getDocumentConstructor(),this,t);return e._isTemporary=!0,this._runHooksSync("post","create",t,e),e},e.destroy=function(){this.destroyed||(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(sub){return sub.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this._queryCache.destroy(),this._repStates.forEach(function(t){return t.cancel()}),delete this.database.collections[this.name],this.destroyed=!0)},e.remove=function(){return this.database.removeCollection(this.name)},h()(t,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe(cn(function(t){return"INSERT"===t.data.op}))}},{key:"update$",get:function(){return this.$.pipe(cn(function(t){return"UPDATE"===t.data.op}))}},{key:"remove$",get:function(){return this.$.pipe(cn(function(t){return"REMOVE"===t.data.op}))}},{key:"docChanges$",get:function(){return this.__docChanges$||(this.__docChanges$=this.$.pipe(cn(function(t){return["INSERT","UPDATE","REMOVE"].includes(t.data.op)}))),this.__docChanges$}},{key:"onDestroy",get:function(){var t=this;return this._onDestroy||(this._onDestroy=new Promise(function(e){return t._onDestroyCall=e})),this._onDestroy}}]),t}(),ji=function(t,e){if("object"!=typeof e||Array.isArray(e))throw rn.a.newRxTypeError("COL11",{schema:t});if(t.previousVersions.length!==Object.keys(e).length)throw rn.a.newRxError("COL12",{have:Object.keys(e),should:t.previousVersions});return t.previousVersions.map(function(t){return{v:t,s:e[t+1+""]}}).filter(function(t){return"function"!=typeof t.s}).forEach(function(e){throw rn.a.newRxTypeError("COL13",{version:e.v,type:typeof e,schema:t})}),!0},Si=["pre","post"],Ci=["insert","save","remove","create"],Pi=!1;var Ai=null;function Ri(){if(!Ai){var t=new Oi,e=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Ai=[].concat(e,n)}return Ai}var Ti=function(t){Object.entries(t).forEach(function(t){var e=t[0],n=t[1];if("string"!=typeof e)throw rn.a.newRxTypeError("COL14",{name:e});if(e.startsWith("_"))throw rn.a.newRxTypeError("COL15",{name:e});if("function"!=typeof n)throw rn.a.newRxTypeError("COL16",{name:e,type:typeof e});if(Ri().includes(e)||$n.properties().includes(e))throw rn.a.newRxError("COL17",{name:e})})};var Di={create:function(t){var e=t.database,n=t.name,r=t.schema,o=t.pouchSettings,c=void 0===o?{}:o,f=t.migrationStrategies,l=void 0===f?{}:f,h=t.autoMigrate,d=void 0===h||h,v=t.statics,y=void 0===v?{}:v,m=t.methods,_=void 0===m?{}:m,w=t.attachments,k=void 0===w?{}:w,x=t.options,E=void 0===x?{}:x;Object(an.t)(n),ci.isInstanceOf(r)||(r=ci.create(r)),ji(r,l),Ti(y),Ti(_),Ti(k),Object.keys(_).filter(function(t){return r.topLevelFields.includes(t)}).forEach(function(t){throw rn.a.newRxError("COL18",{funName:t})});var O=new Oi(e,n,r,c,l,_,k,E,y);return O.prepare().then(function(){Object.entries(y).forEach(function(t){var e=t[0],n=t[1];return O.__defineGetter__(e,function(){return n.bind(O)})});var t=Promise.resolve();return d&&(t=O.migratePromise()),t}).then(function(){return yn("createRxCollection",O),O})},properties:Ri,isInstanceOf:function(t){return t instanceof Oi},RxCollection:Oi},Mi={},Bi=0,Li=function(){function t(t,e,n,r,o,c,f){void 0!==t&&Bi++,this.name=t,this.adapter=e,this.password=n,this.multiInstance=r,this.queryChangeDetection=o,this.options=c,this.pouchSettings=f,this.idleQueue=new w,this.token=v()(10),this._subs=[],this.destroyed=!1,this.collections={},this.subject=new Rn,this.observable$=this.subject.asObservable().pipe(cn(function(t){return dn.a.isInstanceOf(t)}))}var e=t.prototype;return e.dangerousRemoveCollectionInfo=function(){var t=this._collectionsPouch;return t.allDocs().then(function(e){return Promise.all(e.rows.map(function(t){return{_id:t.key,_rev:t.value.rev}}).map(function(e){return t.remove(e._id,e._rev)}))})},e._spawnPouchDB=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Yi(this.name,this.adapter,t,e,n,this.pouchSettings)},e.waitForLeadership=function(){return this.multiInstance?this.leaderElector.waitForLeadership():Promise.resolve(!0)},e.$emit=function(t){t&&(this.subject.next(t),t.data.it===this.token&&function(t,e){if(t.multiInstance&&!e.isIntern()&&t.broadcastChannel){var n=e.toJSON();delete n.db;var r={db:t.token,st:t.storageToken,d:n};return t.broadcastChannel.postMessage(r)}Promise.resolve(!1)}(this,t))},e.removeCollectionDoc=function(t,e){var n=this,r=zi(t,e);return this._collectionsPouch.get(r).then(function(t){return n.lockedRun(function(){return n._collectionsPouch.remove(t)})})},e.collection=function(){var t=f()(o.a.mark(function t(e){var n,r,c,f,l,h,d=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.collections[e]);case 2:if(e.database=this,yn("preCreateRxCollection",e),"_"!==e.name.charAt(0)){t.next=6;break}throw rn.a.newRxError("DB2",{name:e.name});case 6:if(!this.collections[e.name]){t.next=8;break}throw rn.a.newRxError("DB3",{name:e.name});case 8:if(e.schema){t.next=10;break}throw rn.a.newRxError("DB4",{name:e.name,args:e});case 10:if(n=zi(e.name,e.schema),!Ni().includes(e.name)){t.next=13;break}throw rn.a.newRxError("DB5",{name:e.name});case 13:return e.schema=ci.create(e.schema),r=e.schema.hash,c=null,t.prev=16,t.next=19,this.lockedRun(function(){return d._collectionsPouch.get(n)});case 19:c=t.sent,t.next=24;break;case 22:t.prev=22,t.t0=t.catch(16);case 24:if(!c||c.schemaHash===r){t.next=31;break}return f=this._spawnPouchDB(e.name,e.schema.version,e.pouchSettings),t.next=28,f.find({selector:{_id:{}},limit:1});case 28:if(0===t.sent.docs.length){t.next=31;break}throw rn.a.newRxError("DB6",{name:e.name,previousSchemaHash:c.schemaHash,schemaHash:r});case 31:return t.next=33,Di.create(e);case 33:if(l=t.sent,!(Object.keys(l.schema.encryptedPaths).length>0)||this.password){t.next=36;break}throw rn.a.newRxError("DB7",{name:e.name});case 36:if(c){t.next=44;break}return t.prev=37,t.next=40,this.lockedRun(function(){return d._collectionsPouch.put({_id:n,schemaHash:r,schema:l.schema.normalized,version:l.schema.version})});case 40:t.next=44;break;case 42:t.prev=42,t.t1=t.catch(37);case 44:return(h=dn.a.create("RxDatabase.collection",this)).data.v=l.name,h.data.col="_collections",this.$emit(h),this.collections[e.name]=l,this.__defineGetter__(e.name,function(){return d.collections[e.name]}),t.abrupt("return",l);case 51:case"end":return t.stop()}},t,this,[[16,22],[37,42]])}));return function(e){return t.apply(this,arguments)}}(),e.removeCollection=function(){var t=f()(o.a.mark(function t(e){var n,r,c=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.collections[e]){t.next=3;break}return t.next=3,this.collections[e].destroy();case 3:return t.next=5,Hi(this,e);case 5:return n=t.sent,r=n.map(function(t){return c._spawnPouchDB(e,t)}),t.abrupt("return",Promise.all(r.map(function(t){return c.lockedRun(function(){return t.destroy()})})));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.lockedRun=function(t){return this.idleQueue.wrapCall(t)},e.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},e.dump=function(){throw rn.a.pluginMissing("json-dump")},e.importDump=function(){throw rn.a.pluginMissing("json-dump")},e.server=function(){throw rn.a.pluginMissing("server")},e.destroy=function(){var t=f()(o.a.mark(function t(){var e=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.destroyed){t.next=2;break}return t.abrupt("return");case 2:if(yn("preDestroyRxDatabase",this),Bi--,this.destroyed=!0,this.broadcastChannel&&setTimeout(function(){return e.broadcastChannel.close()},1e3),!this._leaderElector){t.next=9;break}return t.next=9,this._leaderElector.destroy();case 9:return this._subs.map(function(sub){return sub.unsubscribe()}),t.next=12,Promise.all(Object.keys(this.collections).map(function(t){return e.collections[t]}).map(function(col){return col.destroy()}));case 12:qi(this.name,this.adapter);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.remove=function(){var t=this;return this.destroy().then(function(){return Gi(t.name,t.adapter)})},h()(t,[{key:"leaderElector",get:function(){return this._leaderElector||(this._leaderElector=pi.a.createLeaderElector(this)),this._leaderElector}},{key:"isLeader",get:function(){return!this.multiInstance||this.leaderElector.isLeader}},{key:"$",get:function(){return this.observable$}}]),t}(),Ii=null;function Ni(){if(!Ii){var t=new Li,e=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));Ii=[].concat(e,n)}return Ii}function qi(t,e){if(Mi[t]){var n=Mi[t].indexOf(e);Mi[t].splice(n,1)}}function Fi(t){return Ui.apply(this,arguments)}function Ui(){return(Ui=f()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.password){t.next=2;break}return t.abrupt("return",!1);case 2:return n=Object(an.f)(e.password),r=null,t.prev=4,t.next=7,e._adminPouch.get("_local/pwHash");case 7:r=t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(4);case 12:if(r||e._adminPouch.put({_id:"_local/pwHash",value:n}).catch(function(){return null}),!r||!e.password||n===r.value){t.next=17;break}return t.next=16,e.destroy();case 16:throw rn.a.newRxError("DB1",{passwordHash:Object(an.f)(e.password),existingPasswordHash:r.value});case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t,this,[[4,10]])}))).apply(this,arguments)}function $i(t){return Vi.apply(this,arguments)}function Vi(){return(Vi=f()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._adminPouch.get("_local/storageToken");case 3:t.next=16;break;case 5:return t.prev=5,t.t0=t.catch(0),t.prev=7,t.next=10,e._adminPouch.put({_id:"_local/storageToken",value:v()(10)});case 10:t.next=14;break;case 12:t.prev=12,t.t1=t.catch(7);case 14:return t.next=16,new Promise(function(t){return setTimeout(t,0)});case 16:return t.next=18,e._adminPouch.get("_local/storageToken");case 18:return n=t.sent,t.abrupt("return",n.value);case 20:case"end":return t.stop()}},t,this,[[0,5],[7,12]])}))).apply(this,arguments)}function zi(t,e){return t+"-"+e.version}function Hi(t,e){return t.lockedRun(function(){return t._collectionsPouch.allDocs({include_docs:!0})}).then(function(data){var n=data.rows.map(function(t){return t.doc}).filter(function(t){return t._id.split("-")[0]===e});return Promise.all(n.map(function(e){return t.lockedRun(function(){return t._collectionsPouch.remove(e)})})).then(function(){return n.map(function(t){return t.version})})})}function Wi(t){t.broadcastChannel=new G("RxDB:"+t.name+":socket"),t.broadcastChannel$=new Rn,t.broadcastChannel.onmessage=function(e){if(e.st===t.storageToken&&e.db!==t.token){var n=dn.a.fromJSON(e.d);t.broadcastChannel$.next(n)}},t._subs.push(t.broadcastChannel$.subscribe(function(e){t.$emit(e)}))}function Ki(){return(Ki=f()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._adminPouch=Ji(e.name,e.adapter,e.pouchSettings),e._collectionsPouch=Qi(e.name,e.adapter,e.pouchSettings),t.next=4,e._adminPouch.info();case 4:return t.next=6,Promise.all([$i(e),Fi(e)]);case 6:n=t.sent,r=n[0],e.storageToken=r,e.multiInstance&&Wi(e);case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Yi(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},f={location:function(t,e,n){var r=t+"-rxdb-"+n+"-";if(e.includes("/")){var o=e.split("/"),c=o.pop(),f=o.join("/");return f+="/"+r+c}return r+e}(t,n,r),adapter:Object(an.a)(e),settings:o},l=Object.assign({},f.adapter,c,f.settings);return yn("preCreatePouchDb",f),new on(f.location,l)}function Ji(t,e){return Yi(t,e,"_admin",0,{auto_compaction:!1,revs_limit:1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function Qi(t,e){return Yi(t,e,"_collections",0,{auto_compaction:!1,revs_limit:1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function Gi(t,e){return Xi.apply(this,arguments)}function Xi(){return(Xi=f()(o.a.mark(function t(e,n){var r,c,f;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ji(e,n),c=Qi(e,n),t.next=4,c.allDocs({include_docs:!0});case 4:return f=t.sent,t.next=7,Promise.all(f.rows.map(function(t){return t.id}).map(function(t){var r=t.split("-"),o=r[0],c=parseInt(r[1],10);return Yi(e,n,o,c).destroy()}));case 7:return t.abrupt("return",Promise.all([c.destroy(),r.destroy()]));case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Zi={create:function(t){var e=t.name,n=t.adapter,r=t.password,o=t.multiInstance,c=void 0===o||o,f=t.queryChangeDetection,l=void 0!==f&&f,h=t.ignoreDuplicate,d=void 0!==h&&h,v=t.options,y=void 0===v?{}:v,m=t.pouchSettings,_=void 0===m?{}:m;if(Object(an.t)(e),"string"==typeof n){if(!on.adapters||!on.adapters[n])throw rn.a.newRxError("DB9",{adapter:n})}else if(Object(an.h)(n),!on.adapters||!on.adapters.leveldb)throw rn.a.newRxError("DB10",{adapter:n});r&&pi.a.validatePassword(r),d||function(t,e){if(!Mi[t])return!1;var n=!1;if(Mi[t].forEach(function(t){t===e&&(n=!0)}),n)throw rn.a.newRxError("DB8",{name:t,adapter:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(e,n),Mi[e]||(Mi[e]=[]),Mi[e].push(n);var w=new Li(e,n,r,c,l,y,_);return function(t){return Ki.apply(this,arguments)}(w).then(function(){return yn("createRxDatabase",w),w})},removeDatabase:Gi,checkAdapter:function(t){return pi.a.checkAdapter(t)},isInstanceOf:function(t){return t instanceof Li},RxDatabase:Li,RxSchema:ci,dbCount:function(){return Bi}},to={RxSchema:ci.RxSchema.prototype,Crypter:hi.Crypter.prototype,RxDocument:qn,RxQuery:ti.RxQuery.prototype,RxCollection:Di.RxCollection.prototype,RxDatabase:Zi.RxDatabase.prototype},eo=new Set;var no=function(t){eo.has(t)||(eo.add(t),t.rxdb||("object"==typeof t&&t.default&&(t=t.default),on.plugin(t)),t.prototypes&&Object.entries(t.prototypes).forEach(function(t){var e=t[0];return(0,t[1])(to[e])}),t.overwritable&&Object.entries(t.overwritable).forEach(function(t){var e=t[0],n=t[1];return pi.a[e]=n}),t.hooks&&Object.entries(t.hooks).forEach(function(t){var e=t[0],n=t[1];return vn[e].push(n)}))},ro=(pi.a,Zi.create),io=Zi.removeDatabase,oo=Zi.checkAdapter,ao=no,so=Zi.isInstanceOf,uo={create:ro,removeDatabase:io,checkAdapter:oo,plugin:ao,dbCount:Zi.dbCount,isRxDatabase:so,isRxCollection:Di.isInstanceOf,isRxDocument:$n.isInstanceOf,isRxQuery:ti.isInstanceOf,isRxSchema:ci.isInstanceOf,RxSchema:ci,PouchDB:on,QueryChangeDetector:or,RxDatabase:Zi};function co(t){function e(t,e,path){if("string"!=typeof t||"object"!=typeof e||Array.isArray(e)||function(t){if(""!==t&&"_id"!==t){if(["properties","language"].includes(t))throw rn.a.newRxError("SC23",{fieldName:t});var e="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(e);if(!t.match(n))throw rn.a.newRxError("SC1",{regex:e,fieldName:t})}}(t),e.hasOwnProperty("item")&&"array"!==e.type)throw rn.a.newRxError("SC2",{fieldName:t});if(e.hasOwnProperty("required")&&"boolean"==typeof e.required)throw rn.a.newRxError("SC24",{fieldName:t});if(e.hasOwnProperty("ref"))switch(e.type){case"string":break;case"array":if(!e.items||!e.items.type||"string"!==e.items.type)throw rn.a.newRxError("SC3",{fieldName:t});break;default:throw rn.a.newRxError("SC4",{fieldName:t})}if(e.hasOwnProperty("ref")&&e.primary)throw rn.a.newRxError("SC5",{fieldName:t});var n=path.split(".").length>=2;if(n){if(e.primary)throw rn.a.newRxError("SC6",{path:path,primary:e.primary});if(e.default)throw rn.a.newRxError("SC7",{path:path})}if(!n&&"_"===t.charAt(0)){if("_id"===t&&e.primary)return;throw rn.a.newRxError("SC8",{fieldName:t})}}return function t(n,r){if("object"==typeof n)for(var o in n){n.properties||e(o,n[o],r);var c=r;"properties"!==o&&(c=c+"."+o),t(n[o],c)}}(t,""),!0}var fo={rxdb:!0,hooks:{preCreateRxSchema:function(t){if(t.properties._rev)throw rn.a.newRxError("SC10",{schema:t});if(!t.hasOwnProperty("version")||"number"!=typeof t.version||t.version<0)throw rn.a.newRxError("SC11",{version:t.version});var e;if(co(t),Object.keys(t.properties).forEach(function(n){var r=t.properties[n];if(r.primary){if(e)throw rn.a.newRxError("SC12",{value:r});if(e=n,r.index)throw rn.a.newRxError("SC13",{value:r});if(r.unique)throw rn.a.newRxError("SC14",{value:r});if(r.encrypted)throw rn.a.newRxError("SC15",{value:r});if("string"!==r.type)throw rn.a.newRxError("SC16",{value:r})}if($n.properties().includes(n))throw rn.a.newRxError("SC17",{key:n})}),t.compoundIndexes){if(!Array.isArray(t.compoundIndexes))throw rn.a.newRxError("SC18",{compoundIndexes:t.compoundIndexes});t.compoundIndexes.forEach(function(e){if(!Array.isArray(e))throw rn.a.newRxError("SC19",{compoundIndexes:t.compoundIndexes});e.forEach(function(e){if("string"!=typeof e)throw rn.a.newRxError("SC20",{compoundIndexes:t.compoundIndexes})})})}ii(t).reduce(function(a,b){return a.concat(b)},[]).filter(function(t,e,n){return n.indexOf(t)===e}).map(function(e){var path="properties."+e.replace(/\./g,".properties."),n=pn.a.get(t,path);if(!n||"object"!=typeof n)throw rn.a.newRxError("SC21",{key:e});return{key:e,schemaObj:n}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(t){throw rn.a.newRxError("SC22",{key:t.key,type:t.schemaObj.type})})}}},lo={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",P1:"PouchDB.getBatch: limit must be > 2",QU1:"RxQuery._execOverDatabase(): op not known",QU2:"limit() must get a number",QU3:"skip() must get a number",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.collection(): collection-names cannot start with underscore _",DB3:"RxDatabase.collection(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.collection(): schema is missing",DB5:"RxDatabase.collection(): collection-name not allowed",DB6:"RxDatabase.collection(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.collection(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() do not provide ._id when it is not the primary key",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC12:"RxDocument.save(): error",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importDump(): the imported json relies on a different schema",JD3:"RxCollection.importDump(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.sync() query must be from the same RxCollection",RC3:"RxCollection.sync() Do not use a collection's pouchdb as remote, use the collection instead",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string or array<string>",SC5:"SchemaCheck: fieldname cannot be primary and ref at same time",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema need an number>=0 as version",SC12:"SchemaCheck: primary can only be defined once",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: compoundIndexes must be an array",SC19:"SchemaCheck: compoundIndexes must contain arrays",SC20:"SchemaCheck: compoundIndexes.array must contains strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use RxDB.plugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()"},ho={rxdb:!0,prototypes:{},overwritable:{tunnelErrorMessage:function(code){if(!lo[code])throw console.error("RxDB: Error-Code not known: "+code),new Error("Error-Cdoe "+code+" not known, contact the maintainer");return lo[code]}}},po=n(236),vo=n.n(po),yo={};function go(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.hash;yo[e]||(yo[e]={});var n=yo[e];if(!n[t]){var r=""===t?this.jsonID:this.getSchemaByObjectPath(t);if(!r)throw rn.a.newRxError("VD1",{schemaPath:t});n[t]=vo()(r)}return n[t]}var mo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this._getValidator(e);if(n(t))return t;throw rn.a.newRxError("VD2",{errors:n.errors,schemaPath:e,obj:t,schema:this.jsonID})},bo={rxdb:!0,prototypes:{RxSchema:function(t){t._getValidator=go,t.validate=mo}},hooks:{createRxSchema:function(t){Object(an.o)(function(){t._getValidator()})}}},_o=function(){function t(t){this.schema=t,this._table,this._reverseTable,this._fullTable}var e=t.prototype;return e.compress=function(t){return this.schema.doKeyCompression()?function t(e,n){var path=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";var r={};if("object"!=typeof n||null===n)return n;if(Array.isArray(n))return n.map(function(n){return t(e,n,Object(an.r)(path+".item"))});Object.keys(n).forEach(function(o){var c=n[o],f=Object(an.r)(path+"."+o),l=e.table[f]?e.table[f]:o,h=c;h=t(e,c,f),r[l]=h});return r}(this,t):Object(an.b)(t)},e._decompressObj=function(t){var e=this,n=this.reverseTable;if("object"!=typeof t||null===t)return t;if(Array.isArray(t))return t.map(function(t){return e._decompressObj(t)});var r={};return Object.keys(t).forEach(function(o){var c=o;(o.startsWith("|")||o.startsWith("_"))&&n[o]&&(c=n[o]),r[c]=e._decompressObj(t[o])}),r},e.decompress=function(t){return this.schema.doKeyCompression()?this._decompressObj(t):Object(an.b)(t)},e.transformKey=function(t,e,n){var table=this.table;t=Object(an.r)(t),e=Object(an.r)(e);var r=n.shift(),o=Object(an.r)(t+"."+r);return table[o]?e+="."+table[o]:e+="."+r,n.length>0?this.transformKey(o,e,n):Object(an.r)(e)},e.compressQuery=function(t){var e=this;if(t=Object(an.b)(t),!this.schema.doKeyCompression())return t;var n={};return Object.keys(t.selector).forEach(function(r){var o=t.selector[r];if(r.startsWith("$")){var c=o.map(function(t){var n={};return Object.keys(t).forEach(function(r){var o=e.transformKey("","",r.split("."));n[o]=t[r]}),n});n[r]=c}else{var f=e.transformKey("","",r.split("."));n[f]=o}}),t.selector=n,t.sort&&(t.sort=t.sort.map(function(t){var n=Object.keys(t)[0],r=t[n],o={};return o[e.transformKey("","",n.split("."))]=r,o})),t},h()(t,[{key:"table",get:function(){var t=this;if(!this._table){var e=0;this._table={};!function n(path,r){Object.keys(r).map(function(o){var c=r[o],f="properties"===o?path:Object(an.r)(path+"."+o);"object"==typeof c&&!Array.isArray(c)&&!t._table[f]&&""!==f&&o.length>3&&!f.startsWith("_")&&(t._table[f]="|"+(e++,Object(an.j)(e-1))),!0===c.primary&&(t._table[f]="_id"),"object"!=typeof c||Array.isArray(c)||n(f,c)})}("",this.schema.normalized)}return this._table}},{key:"reverseTable",get:function(){var t=this;if(!this._reverseTable){var table=this.table;this._reverseTable={},Object.keys(table).forEach(function(e){var n=table[e],r=e.split(".").pop();t._reverseTable[n]=r})}return this._reverseTable}}]),t}();var wo={rxdb:!0,prototypes:{},overwritable:{createKeyCompressor:function(t){return new _o(t)}}};var ko={add:function(t){"function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||(window.addEventListener("beforeunload",function(){t()},!0),window.addEventListener("unload",function(){t()},!0))}},xo=n(243),Eo=n.n(xo),Oo=C.a?Eo.a:ko,jo=new Set,So=!1;function Co(){var t=[];return jo.forEach(function(e){t.push(e()),jo.delete(e)}),Promise.all(t)}var Po={add:function(t){if(So||(So=!0,Oo.add(Co)),"function"!=typeof t)throw new Error('The "listener" argument must be of type Function. Received type '+typeof t);return jo.add(t),{remove:function(){return jo.delete(t)},run:function(){return jo.delete(t),t()}}},runAll:Co,removeAll:function(){jo.clear()},getSize:function(){return jo.size}},Ao=function(t,e){this._channel=t,this._options=e,this.isLeader=!1,this.isDead=!1,this.token=x(10),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[]};function Ro(t,e){var n={context:"leader",action:e,token:t.token};return t._channel.postInternal(n)}Ao.prototype={applyOnce:function(){var t=this;if(this.isLeader)return Promise.resolve(!1);if(this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var e=!1,n=[],r=function(r){"leader"===r.context&&r.token!=t.token&&(n.push(r),"apply"===r.action&&r.token>t.token&&(e=!0),"tell"===r.action&&(e=!0))};return this._channel.addEventListener("internal",r),Ro(this,"apply").then(function(){return k(t._options.responseTime)}).then(function(){return e?Promise.reject(new Error):Ro(t,"apply")}).then(function(){return k(t._options.responseTime)}).then(function(){return e?Promise.reject(new Error):Ro(t)}).then(function(){return function(t){t.isLeader=!0;var e=Po.add(function(){return t.die()});t._unl.push(e);var n=function(e){"leader"===e.context&&"apply"===e.action&&Ro(t,"tell")};return t._channel.addEventListener("internal",n),t._lstns.push(n),Ro(t,"tell")}(t)}).then(function(){return!0}).catch(function(){return!1}).then(function(e){return t._channel.removeEventListener("internal",r),t._isApl=!1,!e&&t._reApply?(t._reApply=!1,t.applyOnce()):e})},awaitLeadership:function(){var t;return this._aLP||(this._aLP=(t=this).isLeader?Promise.resolve():new Promise(function(e){var n=!1,r=function(){n||(n=!0,clearInterval(o),t._channel.removeEventListener("internal",c),e(!0))};t.applyOnce().then(function(){t.isLeader&&r()});var o=setInterval(function(){t.applyOnce().then(function(){t.isLeader&&r()})},t._options.fallbackInterval);t._invs.push(o);var c=function(e){"leader"===e.context&&"death"===e.action&&t.applyOnce().then(function(){t.isLeader&&r()})};t._channel.addEventListener("internal",c),t._lstns.push(c)})),this._aLP},die:function(){var t=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(e){return t._channel.removeEventListener("internal",e)}),this._invs.forEach(function(t){return clearInterval(t)}),this._unl.forEach(function(t){t.remove()}),Ro(this,"death")}};var To={create:function(t,e){if(t._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");e=function(t,e){return t||(t={}),(t=JSON.parse(JSON.stringify(t))).fallbackInterval||(t.fallbackInterval=3e3),t.responseTime||(t.responseTime=e.method.averageResponseTime(e.options)),t}(e,t);var n=new Ao(t,e);return t._befC.push(function(){return n.die()}),t._leaderElector=n,n}},Do=function(){function t(t){this.destroyed=!1,this.database=t,this.isLeader=!1,this.isDead=!1,this.elector=To.create(t.broadcastChannel)}var e=t.prototype;return e.die=function(){return this.elector.die()},e.waitForLeadership=function(){var t=this;return this.elector.awaitLeadership().then(function(){return t.isLeader=!0,!0})},e.destroy=function(){if(!this.destroyed)return this.destroyed=!0,this.isDead=!0,this.die()},t}();var Mo={rxdb:!0,prototypes:{},overwritable:{createLeaderElector:function(t){return new Do(t)}}},Bo=n(244),Lo=n(251);var Io=function(t){return function(t,e){return Object(Bo.encrypt)(t,e).toString()}(JSON.stringify(t),this._password)},No=function(t){var e,n,r=(e=t,n=this._password,Object(Bo.decrypt)(e,n).toString(Lo));return JSON.parse(r)},qo={rxdb:!0,prototypes:{Crypter:function(t){t._encryptValue=Io,t._decryptValue=No}},overwritable:{validatePassword:function(t){if(t&&"string"!=typeof t)throw rn.a.newRxTypeError("EN1",{password:t});if(t&&t.length<8)throw rn.a.newRxError("EN2",{minPassLength:8,password:t})}}},Fo=n(252),Uo=n.n(Fo);function $o(t){var e=Object(an.b)(this._data),n=Uo()(e,t);return this._saveData(n,e)}function Vo(t){return zo.apply(this,arguments)}function zo(){return(zo=f()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.exec();case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:if(!Array.isArray(n)){t.next=10;break}return t.next=8,Promise.all(n.map(function(t){return t.update(e)}));case 8:t.next=12;break;case 10:return t.next=12,n.update(e);case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Ho={rxdb:!0,prototypes:{RxDocument:function(t){t.update=$o},RxQuery:function(t){t.update=Vo}}},Wo=n(193);Object.prototype.toString;function Ko(t,e,n,r){return Object(qr.a)(n)&&(r=n,n=void 0),r?Ko(t,e,n).pipe(Object(map.a)(function(t){return Object(Wo.a)(t)?r.apply(void 0,t):r(t)})):new En(function(r){!function t(e,n,r,o,c){var f;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var l=e;e.addEventListener(n,r,c),f=function(){return l.removeEventListener(n,r,c)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var h=e;e.on(n,r),f=function(){return h.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var d=e;e.addListener(n,r),f=function(){return d.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var i=0,v=e.length;i<v;i++)t(e[i],n,r,o,c)}o.add(f)}(t,e,function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)},r,n)})}function Yo(){var t=this;if(!this.synced){this.synced=!0,this._watchForChangesUnhandled=new Set;var e=Ko(this.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe(Object(map.a)(function(t){return t[0]})).subscribe(function(e){var n=function(t,e){return"_"===e.id.charAt(0)?Promise.resolve(!1):Object(an.m)(20).then(function(){return Object(an.i)()}).then(function(){return Object(an.i)()}).then(function(){var n=e.doc;if(t._changeEventBuffer.hasChangeWithRevision(n._rev))return Promise.resolve(!1);var r=dn.a.fromPouchChange(n,t);return t.$emit(r),!0})}(t,e);t._watchForChangesUnhandled.add(n),n.then(function(){t._watchForChangesUnhandled.delete(n)})});this._subs.push(e)}}var Jo={rxdb:!0,prototypes:{RxCollection:function(t){t.watchForChanges=Yo}}},Qo=1,Go="pouchdb",Xo=5,Zo=0;function ta(t,e,n,r,o){return t.get(e).catch(function(n){if(404===n.status)return"http"!==t.adapter&&"https"!==t.adapter||Object(tt.g)(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:Go,version:Qo};throw n}).then(function(c){if(!o.cancelled&&c.last_seq!==n)return c.history=(c.history||[]).filter(function(t){return t.session_id!==r}),c.history.unshift({last_seq:n,session_id:r}),c.history=c.history.slice(0,Xo),c.version=Qo,c.replicator=Go,c.session_id=r,c.last_seq=n,t.put(c).catch(function(c){if(409===c.status)return ta(t,e,n,r,o);throw c})})}function ea(t,e,n,r,o){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=o||{}}ea.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},ea.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?ta(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},ea.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return ta(this.src,this.id,t,e,this.returnValue).catch(function(t){if(ia(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t})}return Promise.resolve(!0)};var na={undefined:function(t,e){return 0===pt(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return function(t,e){if(t.session_id===e.session_id)return{last_seq:t.last_seq,history:t.history};return function t(e,n){var r=e[0];var o=e.slice(1);var c=n[0];var f=n.slice(1);if(!r||0===n.length)return{last_seq:Zo,history:[]};var l=r.session_id;if(ra(l,n))return{last_seq:r.last_seq,history:e};var h=c.session_id;if(ra(h,o))return{last_seq:c.last_seq,history:f};return t(o,f)}(t.history,e.history)}(e,t).last_seq}};function ra(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||ra(t,r))}function ia(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}ea.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(t){return t.last_seq||Zo}).catch(function(t){if(404!==t.status)throw t;return Zo}):t.target.get(t.id).then(function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||Zo:t.src.get(t.id).then(function(t){return e.version!==t.version?Zo:(n=e.version?e.version.toString():"undefined")in na?na[n](e,t):Zo;var n},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:Zo}).then(function(){return Zo},function(n){return ia(n)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):Zo});throw n})}).catch(function(t){if(404!==t.status)throw t;return Zo})};var oa=ea;var aa=function(t,e,n){var r=n.doc_ids?n.doc_ids.sort(pt):"",o=n.filter?n.filter.toString():"",c="",f="",l="";return n.selector&&(l=JSON.stringify(n.selector)),n.filter&&n.query_params&&(c=JSON.stringify(function(t){return Object.keys(t).sort(pt).reduce(function(e,n){return e[n]=t[n],e},{})}(n.query_params))),n.filter&&"_view"===n.filter&&(f=n.view.toString()),Promise.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+o+f+c+r+l;return new Promise(function(t){Object(Zt.a)(e,t)})}).then(function(t){return"_local/"+(t=t.replace(/\//g,".").replace(/\+/g,"_"))})};function sa(t){return/^1-/.test(t)}function ua(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map(function(n){return t.getAttachment(e._id,n,{rev:e._rev})}))}function ca(t,e,n,r){n=Object(tt.e)(n);var o=[],c=!0;function f(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){var e;t.deleted||!t.doc||!sa(t.value.rev)||(e=t.doc,e._attachments&&Object.keys(e._attachments).length>0)||function(t){return t._conflicts&&t._conflicts.length>0}(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,o.push(t.doc),delete n[t.id])})})}return Promise.resolve().then(function(){var t=Object.keys(n).filter(function(t){var e=n[t].missing;return 1===e.length&&sa(e[0])});if(t.length>0)return f(t)}).then(function(){var f=function(t){var e=[];return Object.keys(t).forEach(function(n){t[n].missing.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0,latest:!0}}(n);if(f.docs.length)return t.bulkGet(f).then(function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map(function(n){return Promise.all(n.docs.map(function(n){var r=n.ok;return n.error&&(c=!1),r&&r._attachments?function(t,e,n){var r=Object(tt.n)(e)&&!Object(tt.n)(t),o=Object.keys(n._attachments);return r?t.get(n._id).then(function(r){return Promise.all(o.map(function(o){return function(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}(r,n,o)?e.getAttachment(n._id,o):t.getAttachment(r._id,o)}))}).catch(function(t){if(404!==t.status)throw t;return ua(e,n)}):ua(e,n)}(e,t,r).then(function(t){var e=Object.keys(r._attachments);return t.forEach(function(t,i){var n=r._attachments[e[i]];delete n.stub,delete n.length,n.data=t}),r}):r}))})).then(function(t){o=o.concat(Object(tt.i)(t).filter(Boolean))})})}).then(function(){return{ok:c,docs:o}})}var fa=0;function la(t,e,n,r,o){var c,f,l,h=[],d={seq:0,changes:[],docs:[]},v=!1,y=!1,m=!1,_=0,w=n.continuous||n.live||!1,k=n.batch_size||100,x=n.batches_limit||10,E=!1,O=n.doc_ids,j=n.selector,S=[],C=Object(tt.y)();o=o||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var P={};function A(){return l?Promise.resolve():aa(t,e,n).then(function(o){f=o;var c={};c=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},l=new oa(t,e,f,r,c)})}function R(){if(S=[],0!==c.docs.length){var t=c.docs,f={timeout:n.timeout};return e.bulkDocs({docs:t,new_edits:!1},f).then(function(e){if(r.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);e.forEach(function(t){t.error&&(n[t.id]=t)});var c=Object.keys(n).length;o.doc_write_failures+=c,o.docs_written+=t.length-c,t.forEach(function(t){var e=n[t._id];if(e){o.errors.push(e);var c=(e.name||"").toLowerCase();if("unauthorized"!==c&&"forbidden"!==c)throw e;r.emit("denied",Object(tt.e)(e))}else S.push(t)})},function(e){throw o.doc_write_failures+=t.length,e})}}function T(){if(c.error)throw new Error("There was a problem getting docs.");o.last_seq=_=c.seq;var t=Object(tt.e)(o);return S.length&&(t.docs=S,"number"==typeof c.pending&&(t.pending=c.pending,delete c.pending),r.emit("change",t)),v=!0,l.writeCheckpoint(c.seq,C).then(function(){if(v=!1,r.cancelled)throw I(),new Error("cancelled");c=void 0,$()}).catch(function(t){throw z(t),t})}function D(){return ca(t,e,c.diffs,r).then(function(t){c.error=!t.ok,t.docs.forEach(function(t){delete c.diffs[t._id],o.docs_read++,c.docs.push(t)})})}function M(){var t;r.cancelled||c||(0!==h.length?(c=h.shift(),(t={},c.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(r.cancelled)throw I(),new Error("cancelled");c.diffs=t})).then(D).then(R).then(T).then(M).catch(function(t){L("batch processing terminated with error",t)})):B(!0))}function B(t){0!==d.changes.length?(t||y||d.changes.length>=k)&&(h.push(d),d={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),M()):0!==h.length||c||((w&&P.live||y)&&(r.state="pending",r.emit("paused")),y&&I())}function L(t,e){m||(e.message||(e.message=t),o.ok=!1,o.status="aborting",h=[],d={seq:0,changes:[],docs:[]},I(e))}function I(c){if(!(m||r.cancelled&&(o.status="cancelled",v)))if(o.status=o.status||"complete",o.end_time=(new Date).toISOString(),o.last_seq=_,m=!0,c){(c=Object(st.p)(c)).result=o;var f=(c.name||"").toLowerCase();"unauthorized"===f||"forbidden"===f?(r.emit("error",c),r.removeAllListeners()):function(t,e,n,r){if(!1===t.retry)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=tt.f),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var o=function(){t.current_back_off=fa};e.once("paused",function(){e.removeListener("active",o)}),e.once("active",o)}t.current_back_off=t.current_back_off||fa,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}(n,r,c,function(){la(t,e,n,r)})}else r.emit("complete",o),r.removeAllListeners()}function N(t,e,o){if(r.cancelled)return I();"number"==typeof e&&(d.pending=e),Object(tt.h)(n)(t)&&(d.seq=t.seq||o,d.changes.push(t),Object(tt.p)(function(){B(0===h.length&&P.live)}))}function F(t){if(E=!1,r.cancelled)return I();if(t.results.length>0)P.since=t.results[t.results.length-1].seq,$(),B(!0);else{var e=function(){w?(P.live=!0,$()):y=!0,B(!0)};c||0!==t.results.length?e():(v=!0,l.writeCheckpoint(t.last_seq,C).then(function(){v=!1,o.last_seq=_=t.last_seq,e()}).catch(z))}}function U(t){if(E=!1,r.cancelled)return I();L("changes rejected",t)}function $(){if(!E&&!y&&h.length<x){E=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",o);var e=t.changes(P).on("change",N);e.then(c,c),e.then(F).catch(U),n.retry&&(r._changes=e,r._abortChanges=o)}function o(){e.cancel()}function c(){r.removeListener("cancel",o)}}function V(){A().then(function(){if(!r.cancelled)return l.getCheckpoint().then(function(t){P={since:_=t,limit:k,batch_size:k,style:"all_docs",doc_ids:O,selector:j,return_docs:!0},n.filter&&("string"!=typeof n.filter?P.include_docs=!0:P.filter=n.filter),"heartbeat"in n&&(P.heartbeat=n.heartbeat),"timeout"in n&&(P.timeout=n.timeout),n.query_params&&(P.query_params=n.query_params),n.view&&(P.view=n.view),$()});I()}).catch(function(t){L("getCheckpoint rejected with ",t)})}function z(t){v=!1,L("writeCheckpoint completed with error",t)}r.ready(t,e),r.cancelled?I():(r._addedListeners||(r.once("cancel",I),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(t){n.complete(null,t)})),r._addedListeners=!0),void 0===n.since?V():A().then(function(){return v=!0,l.writeCheckpoint(n.since,C)}).then(function(){v=!1,r.cancelled?I():(_=n.since,V())}).catch(z))}function ha(){ot.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function pa(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function da(t,e,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Object(st.p)(st.b,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=Object(tt.e)(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new ha(n);return la(pa(t,n),pa(e,n),n,o),o}function va(t,e,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=Object(tt.e)(n)).PouchConstructor=n.PouchConstructor||this,new ya(t=pa(t,n),e=pa(e,n),n,r)}function ya(t,e,n,r){var o=this;this.canceled=!1;var c=n.push?Object(tt.b)({},n,n.push):n,f=n.pull?Object(tt.b)({},n,n.pull):n;function l(t){o.emit("change",{direction:"pull",change:t})}function h(t){o.emit("change",{direction:"push",change:t})}function d(t){o.emit("denied",{direction:"push",doc:t})}function v(t){o.emit("denied",{direction:"pull",doc:t})}function y(){o.pushPaused=!0,o.pullPaused&&o.emit("paused")}function m(){o.pullPaused=!0,o.pushPaused&&o.emit("paused")}function _(){o.pushPaused=!1,o.pullPaused&&o.emit("active",{direction:"push"})}function w(){o.pullPaused=!1,o.pushPaused&&o.emit("active",{direction:"pull"})}this.push=da(t,e,c),this.pull=da(e,t,f),this.pushPaused=!0,this.pullPaused=!0;var k={};function x(t){return function(e,n){("change"===e&&(n===l||n===h)||"denied"===e&&(n===v||n===d)||"paused"===e&&(n===m||n===y)||"active"===e&&(n===w||n===_))&&(e in k||(k[e]={}),k[e][t]=!0,2===Object.keys(k[e]).length&&o.removeAllListeners(e))}}function E(t,e,n){-1==t.listeners(e).indexOf(n)&&t.on(e,n)}n.live&&(this.push.on("complete",o.pull.cancel.bind(o.pull)),this.pull.on("complete",o.push.cancel.bind(o.push))),this.on("newListener",function(t){"change"===t?(E(o.pull,"change",l),E(o.push,"change",h)):"denied"===t?(E(o.pull,"denied",v),E(o.push,"denied",d)):"active"===t?(E(o.pull,"active",w),E(o.push,"active",_)):"paused"===t&&(E(o.pull,"paused",m),E(o.push,"paused",y))}),this.on("removeListener",function(t){"change"===t?(o.pull.removeListener("change",l),o.push.removeListener("change",h)):"denied"===t?(o.pull.removeListener("denied",v),o.push.removeListener("denied",d)):"active"===t?(o.pull.removeListener("active",w),o.push.removeListener("active",_)):"paused"===t&&(o.pull.removeListener("paused",m),o.push.removeListener("paused",y))}),this.pull.on("removeListener",x("pull")),this.push.on("removeListener",x("push"));var O=Promise.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return o.emit("complete",e),r&&r(null,e),o.removeAllListeners(),e},function(t){if(o.cancel(),r?r(t):o.emit("error",t),o.removeAllListeners(),r)throw t});this.then=function(t,e){return O.then(t,e)},this.catch=function(t){return O.catch(t)}}it()(ha,ot.EventEmitter),ha.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ha.prototype.ready=function(t,e){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),n.once("complete",function(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)}))},it()(ya,ot.EventEmitter),ya.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};var ga=function(t){t.replicate=da,t.sync=va,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(e,n,r){return t.constructor.replicate(e,t,n,r)},to:function(e,n,r){return t.constructor.replicate(t,e,n,r)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}};var ma=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,source){return source.subscribe(new ba(t,this.notifier))},t}(),ba=function(t){function e(e,n){var r=t.call(this,e)||this;r.hasValue=!1;var o=new ar(r,void 0,void 0);return r.add(o),r.innerSubscription=o,_r(r,n,void 0,void 0,o),r}return sn.a(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(t,e,n,r,o){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(wr);uo.plugin(ga),uo.plugin(Jo);var _a=new WeakSet,wa=function(){function t(t){var e=this;this._subs=[],this.collection=t,this._pouchEventEmitterObject=null,this._subjects={change:new Rn,docs:new Rn,denied:new Rn,active:new Dn(!1),complete:new Dn(!1),alive:new Dn(!1),error:new Rn},Object.keys(this._subjects).forEach(function(t){Object.defineProperty(e,t+"$",{get:function(){return this._subjects[t].asObservable()}})})}return t.prototype.cancel=function(){this._pouchEventEmitterObject&&this._pouchEventEmitterObject.cancel(),this._subs.forEach(function(sub){return sub.unsubscribe()})},t}();function ka(t,e){if(t._pouchEventEmitterObject)throw rn.a.newRxError("RC1");function n(t){return r.apply(this,arguments)}function r(){return(r=f()(o.a.mark(function t(e){var r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.state)||(r=[e.pull.state,e.push.state].reduce(function(t,e){return"active"===t||"active"===e?"active":"stopped"===t?t:e},"")),"active"!==r){t.next=6;break}return t.next=5,new Promise(function(t){return setTimeout(t,15)});case 5:return t.abrupt("return",n(e));case 6:return c="stopped"!==r,t.abrupt("return",c);case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var c;t._pouchEventEmitterObject=e,t._subs.push(Ko(e,"change").subscribe(function(e){return t._subjects.change.next(e)})),t._subs.push(Ko(e,"denied").subscribe(function(e){return t._subjects.denied.next(e)})),t._subs.push(Ko(e,"change").subscribe(function(e){0!==t._subjects.docs.observers.length&&"pull"===e.direction&&e.change.docs.filter(function(t){return"query"!==t.language}).map(function(e){return t.collection._handleFromPouch(e)}).forEach(function(e){return t._subjects.docs.next(e)})})),t._subs.push(Ko(e,"error").subscribe(function(e){return t._subjects.error.next(e)})),t._subs.push(Ko(e,"active").subscribe(function(){return t._subjects.active.next(!0)})),t._subs.push(Ko(e,"paused").subscribe(function(){return t._subjects.active.next(!1)})),t._subs.push(Ko(e,"complete").subscribe(function(e){var n=Array.from(t.collection._watchForChangesUnhandled);Promise.all(n).then(function(){return t._subjects.complete.next(e)})})),t._subs.push(Ko(e,"paused").pipe((c=Ko(e,"active"),function(source){return source.lift(new ma(c))})).subscribe(f()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t._pouchEventEmitterObject);case 2:r=e.sent,t._subjects.alive.next(r);case 4:case"end":return e.stop()}},e,this)}))))}function xa(t){var e=this,n=t.remote,r=t.waitForLeadership,o=void 0===r||r,c=t.direction,f=void 0===c?{pull:!0,push:!0}:c,l=t.options,h=void 0===l?{live:!0,retry:!0}:l,d=t.query;if(h=Object(an.b)(h),on.isInstanceOf(n)&&_a.has(n))throw rn.a.newRxError("RC3",{database:this.database.name,collection:this.name});if(Di.isInstanceOf(n)&&(n.watchForChanges(),n=n.pouch),d&&this!==d.collection)throw rn.a.newRxError("RC2",{query:d});var v=Object(an.k)(this.pouch,f);d&&(h.selector=d.keyCompress().selector);var y=new wa(this);return(o?this.database.waitForLeadership():Object(an.m)(0)).then(function(){var t=v(n,h);e.watchForChanges(),ka(y,t),e._repStates.push(y)}),y}var Ea={rxdb:!0,prototypes:{RxCollection:function(t){t.sync=xa}},overwritable:{},hooks:{createRxCollection:function(t){_a.add(t.pouch)}},sync:xa},Oa="rxdb-adapter-check";function ja(){return(ja=f()(o.a.mark(function t(e){var n,r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Oa+"-"+Object(an.d)(),r=null,t.prev=2,c=new on(Oa,Object(an.a)(e),{auto_compaction:!0,revs_limit:1}),t.next=6,c.info();case 6:return t.next=8,c.put({_id:n,value:{ok:!0,time:(new Date).getTime()}});case 8:return t.next=10,c.get(n);case 10:return r=t.sent,t.next=13,c.remove(r);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(2),t.abrupt("return",!1);case 18:if(!(r&&r.value&&r.value.ok)){t.next=22;break}return t.abrupt("return",!0);case 22:return t.abrupt("return",!1);case 23:case"end":return t.stop()}},t,this,[[2,15]])}))).apply(this,arguments)}var Sa={rxdb:!0,prototypes:{},overwritable:{checkAdapter:function(t){return ja.apply(this,arguments)}}},Ca=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]};this.password&&(r.passwordHash=Object(an.f)(this.password),r.encrypted=!e);var o=Object.keys(this.collections).filter(function(t){return!n||n.includes(t)}).filter(function(t){return"_"!==t.charAt(0)}).map(function(e){return t.collections[e]});return Promise.all(o.map(function(col){return col.dump(e)})).then(function(t){return r.collections=t,r})},Pa=function(t){var e=this,n=t.collections.filter(function(col){return!e.collections[col.name]}).map(function(col){return col.name});if(n.length>0)throw rn.a.newRxError("JD1",{missingCollections:n});return Promise.all(t.collections.map(function(t){return e.collections[t.name].importDump(t)}))},Aa=function(){var t=!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]),e={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]};this.database.password&&t&&(e.passwordHash=Object(an.f)(this.database.password),e.encrypted=!0);var n=ti.create("find",{},this);return this._pouchFind(n,null,t).then(function(t){return e.docs=t.map(function(t){return delete t._rev,t}),e})},Ra=function(t){var e=this;if(t.schemaHash!==this.schema.hash)throw rn.a.newRxError("JD2",{schemaHash:t.schemaHash,own:this.schema.hash});if(t.encrypted&&t.passwordHash!==Object(an.f)(this.database.password))throw rn.a.newRxError("JD3",{passwordHash:t.passwordHash,own:Object(an.f)(this.database.password)});var n=t.docs.map(function(t){return e._crypter.decrypt(t)}).map(function(t){return e.schema.validate(t)}).map(function(t){return e._pouchPut(t).then(function(){var n=t[e.schema.primaryPath],r=dn.a.create("INSERT",e.database,e,null,t);r.data.doc=n,e.$emit(r)})});return Promise.all(n)},Ta={rxdb:!0,prototypes:{RxDatabase:function(t){t.dump=Ca,t.importDump=Pa},RxCollection:function(t){t.dump=Aa,t.importDump=Ra}},overwritable:{}},Da=n(174),Ma=n.n(Da),Ba=n(253),La=n.n(Ba);uo.plugin(Jo);var Ia=new WeakMap,Na=new WeakMap,qa={new_edits:!0},Fa=function(t){function e(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(n=t.call(this,e.database,e.name,function(t){var e=Object(an.b)(t.jsonID);e.keyCompression=!1,delete e.properties._id,delete e.properties._rev,delete e.properties._attachments;return function t(e,n){delete e.encrypted,Object.values(e).filter(function(t){return"object"==typeof t}).forEach(function(e){return t(e,n)})}(e,e),ci.create(e)}(e.schema),r,{},e._methods)||this)._isInMemory=!0,n._parentCollection=e,n._parentCollection.onDestroy.then(function(){return n.destroy()}),n._crypter=hi.create(n.database.password,n.schema),n._changeStreams=[],n.onDestroy.then(function(){n._changeStreams.forEach(function(t){return t.cancel()}),n.pouch.destroy()}),n.options=e.options,Object.entries(e._statics).forEach(function(t){var e=t[0],r=t[1];return n.__defineGetter__(e,function(){return r.bind(La()(La()(n)))})}),n.pouch=new on("rxdb-in-memory-"+Object(an.n)(10),Object(an.a)("memory"),{}),n._observable$=new Rn,n._changeEventBuffer=Ei.create(La()(La()(n)));var o=Object.getPrototypeOf(e);return n._oldPouchPut=o._pouchPut.bind(La()(La()(n))),n._nonPersistentRevisions=new Set,n._nonPersistentRevisionsSubject=new Rn,n}Ma()(e,t);var n=e.prototype;return n.prepare=function(){var t=f()(o.a.mark(function t(){var e,n,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$a(this.schema,this.pouch);case 2:return this._subs.push(this._observable$.subscribe(function(t){var e=r._docCache.get(t.data.doc);e&&e._handleChangeEvent(t)})),t.next=5,Ua(this._parentCollection,this);case 5:this._parentCollection.watchForChanges(),this.watchForChanges(),e=Va(this).pipe(Er(function(t){return za(r._parentCollection,t).then(function(){return t._rev})})).subscribe(function(t){r._nonPersistentRevisions.delete(t),r._nonPersistentRevisionsSubject.next(r._nonPersistentRevisions.size)}),this._subs.push(e),n=Va(this._parentCollection).subscribe(function(t){return za(r,t)}),this._subs.push(n);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.awaitPersistence=function(){var t=this;return 0===this._nonPersistentRevisions.size?Promise.resolve():this._nonPersistentRevisionsSubject.pipe(cn(function(){return 0===t._nonPersistentRevisions.size}),Hr()).toPromise()},n._pouchPut=function(){var t=f()(o.a.mark(function t(e,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._oldPouchPut(e,n);case 2:return r=t.sent,this._nonPersistentRevisions.add(r.rev),t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),n.$emit=function(t){this._changeEventBuffer.hasChangeWithRevision(t.data.v&&t.data.v._rev)||(this._observable$.next(t),this._eventCounter||(this._eventCounter=0),this._eventCounter++,10===this._eventCounter&&(this._eventCounter=0,this.pouch.compact()))},n.sync=function(){throw rn.a.newRxError("IM2")},e}(Di.RxCollection);function Ua(t,e){return t.pouch.allDocs({attachments:!1,include_docs:!0}).then(function(n){var r=n.rows.map(function(t){return t.doc}).filter(function(t){return!t.language}).map(function(e){return t._handleFromPouch(e)}).map(function(e){return t.schema.swapPrimaryToId(e)});return 0===r.length?[]:e.pouch.bulkDocs({docs:r},{new_edits:!1}).then(function(){return r})})}function $a(t,e){return Promise.all(t.indexes.map(function(t){return e.createIndex({index:{fields:t}})}))}function Va(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return t._doNotEmitSet||(t._doNotEmitSet=new Set),Ko(t.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe(Object(map.a)(function(t){return t[0]}),cn(function(e){var n=e.id+":"+e.doc._rev;return!t._doNotEmitSet.has(n)}),cn(function(t){return e(t)}),Object(map.a)(function(e){return t._handleFromPouch(e.doc)}))}function za(t,e){return Ha.apply(this,arguments)}function Ha(){return(Ha=f()(o.a.mark(function t(e,n){var r,c,f,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._doNotEmitSet||(e._doNotEmitSet=new Set),r=e._handleToPouch(n),t.prev=2,t.next=5,e.pouch.get(r._id);case 5:c=t.sent,r._rev=c._rev,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),delete r._rev;case 12:return t.next=14,e.pouch.bulkDocs({docs:[r]},qa);case 14:if(!((f=t.sent).length>0)||f[0].ok){t.next=17;break}throw new Error(JSON.stringify(f[0]));case 17:return l=r._id+":"+f[0].rev,e._doNotEmitSet.add(l),setTimeout(function(){return e._doNotEmitSet.delete(l)},3e4),t.abrupt("return",r);case 21:case"end":return t.stop()}},t,this,[[2,9]])}))).apply(this,arguments)}var Wa=!1;function Ka(){return Ya.apply(this,arguments)}function Ya(){return(Ya=f()(o.a.mark(function t(){var col,e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Wa){t.next=4;break}if(Wa=!0,on.adapters&&on.adapters.memory){t.next=4;break}throw rn.a.newRxError("IM1");case 4:if(!Ia.has(this)){t.next=8;break}return t.next=7,Na.get(this);case 7:return t.abrupt("return",Ia.get(this));case 8:return col=new Fa(this),e=col.prepare(),Ia.set(this,col),Na.set(this,e),t.next=14,e;case 14:return t.abrupt("return",col);case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Ja={rxdb:!0,prototypes:{RxCollection:function(t){t.inMemory=Ka}},overwritable:{},spawnInMemory:Ka},Qa=n(254),Ga=new WeakMap,Xa=function(t){return Ga.has(t)||Ga.set(t,_i.create()),Ga.get(t)},Za=new WeakMap,ts=function(t){function e(e,n,r){var o;return(o=t.call(this,null,n)||this).id=e,o.parent=r,o}return Ma()(e,t),e}($n.createRxDocumentConstructor()),es={toPouchJson:function(){Object(an.b)(this._data)._id="_local/"+this.id},get isLocal(){return!0},get parentPouch(){return is(this.parent)},_handleChangeEvent:function(t){if(t.data.doc===this.primary)switch(t.data.op){case"UPDATE":var e=Object(an.b)(t.data.v);this._dataSync$.next(Object(an.b)(e));break;case"REMOVE":Xa(this.parent).delete(this.primary),this._deleted$.next(!0)}},get allAttachments$(){throw rn.a.newRxError("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){return this._dataSync$.asObservable()},$emit:function(t){return this.parent.$emit(t)},get:function(t){if(this._data){if("string"!=typeof t)throw rn.a.newRxTypeError("LD2",{objPath:t});var e=pn.a.get(this._data,t);return e=Object(an.b)(e)}},get$:function(path){if(path.includes(".item."))throw rn.a.newRxError("LD3",{path:path});if(path===this.primaryPath)throw rn.a.newRxError("LD4");return this._dataSync$.pipe(Object(map.a)(function(data){return pn.a.get(data,path)}),Mn()).asObservable()},set:function(t,e){if(!e){var data=Object(an.b)(t);return data._rev=this._data._rev,this._data=data,this}if("_id"===t)throw rn.a.newRxError("LD5",{objPath:t,value:e});if(!Object.is(this.get(t),e))return pn.a.set(this._data,t,e),this},_saveData:function(){var t=f()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=Object(an.b)(e))._id="_local/"+this.id,t.next=4,this.parentPouch.put(e);case 4:n=t.sent,e._rev=n.rev,this._dataSync$.next(e),r=dn.a.create("UPDATE",Zi.isInstanceOf(this.parent)?this.parent:this.parent.database,Di.isInstanceOf(this.parent)?this.parent:null,this,Object(an.b)(this._data),!0),this.$emit(r);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=this,e="_local/"+this.id;return this.parentPouch.remove(e,this._data._rev).then(function(){Xa(t.parent).delete(t.id);var e=dn.a.create("REMOVE",Zi.isInstanceOf(t.parent)?t.parent:t.parent.database,Di.isInstanceOf(t.parent)?t.parent:null,t,Object(an.b)(t._data),!0);t.$emit(e)})}},ns=!1,rs=function(){if(!ns){ns=!0;var t=$n.basePrototype;Object.getOwnPropertyNames(t).forEach(function(e){if(!Object.getOwnPropertyDescriptor(es,e)){var desc=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(es,e,desc)}});["populate","update","putAttachment","getAttachment","allAttachments"].forEach(function(t){return es[t]=function(t){return function(){throw rn.a.newRxError("LD6",{functionName:t})}}(t)})}};ts.create=function(t,data,e){rs(),function(t){if(!Za.has(t)){var sub=t.$.pipe(cn(function(t){return t.data.isLocal})).subscribe(function(e){var n=Xa(t).get(e.data.doc);n&&n._handleChangeEvent(e)});t._subs.push(sub),Za.set(t,sub)}Za.get(t)}(e);var n=new ts(t,data,e);return n.__proto__=es,Xa(e).set(t,n),n};var is=function(t){return Zi.isInstanceOf(t)?t._adminPouch:t.pouch},os=function(t,data){var e=this;return Di.isInstanceOf(this)&&this._isInMemory?this._parentCollection.insertLocal(t,data):(data=Object(an.b)(data),this.getLocal(t).then(function(n){if(n)throw rn.a.newRxError("LD7",{id:t,data:data});var r=is(e),o=Object(an.b)(data);return o._id="_local/"+t,r.put(o)}).then(function(n){return data._rev=n.rev,ts.create(t,data,e)}))},as=function(){var t=f()(o.a.mark(function t(e,data){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Di.isInstanceOf(this)||!this._isInMemory){t.next=2;break}return t.abrupt("return",this._parentCollection.upsertLocal(e,data));case 2:return t.next=4,this.getLocal(e);case 4:if(n=t.sent){t.next=10;break}return r=this.insertLocal(e,data),t.abrupt("return",r);case 10:return data._rev=n._data._rev,t.next=13,n.atomicUpdate(function(){return data});case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),ss=function(){var t=f()(o.a.mark(function t(e){var n,r,c,f,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Di.isInstanceOf(this)||!this._isInMemory){t.next=2;break}return t.abrupt("return",this._parentCollection.getLocal(e));case 2:if(n=is(this),r=Xa(this),c=r.get(e)){t.next=19;break}return t.prev=6,t.next=9,n.get("_local/"+e);case 9:if(f=t.sent){t.next=12;break}return t.abrupt("return",null);case 12:return l=ts.create(e,f,this),t.abrupt("return",l);case 16:return t.prev=16,t.t0=t.catch(6),t.abrupt("return",null);case 19:return t.abrupt("return",c);case 20:case"end":return t.stop()}},t,this,[[6,16]])}));return function(e){return t.apply(this,arguments)}}(),us={rxdb:!0,prototypes:{RxCollection:function(t){t.insertLocal=os,t.upsertLocal=as,t.getLocal=ss},RxDatabase:function(t){t.insertLocal=os,t.upsertLocal=as,t.getLocal=ss}},overwritable:{}};n.d(e,"a",function(){return cs}),n.d(e,"b",function(){return fs}),uo.plugin(fo),uo.plugin(ho),uo.plugin(bo),uo.plugin(wo),uo.plugin(Mo),uo.plugin(qo),uo.plugin(Ho),uo.plugin(Jo),uo.plugin(Ea),uo.plugin(Sa),uo.plugin(Ta),uo.plugin(Ja),uo.plugin(Qa.a),uo.plugin(us);var cs=uo.create,fs=(uo.removeDatabase,uo.plugin);uo.dbCount,uo.isRxDatabase,uo.isRxCollection,uo.isRxDocument,uo.isRxQuery,uo.isRxSchema,uo.RxSchema,uo.PouchDB,uo.QueryChangeDetector,uo.RxDatabase,uo.checkAdapter},function(t,e,n){"use strict";n.r(e);var r=n(140),o=n(167),c=n(156),f=n(258),l=n.n(f),h=n(274),d=n.n(h),v=n(137),y=n.n(v),m=n(147),_=n.n(m),w=n(275),k=n.n(w),x=n(281),E=n.n(x);function O(t){return"function"==typeof t.prefix?t.prefix():t}function j(){Error.call(this)}y()(j,Error),j.prototype.name="NotFoundError";var S=_.a.EventEmitter,C=new j,P=function(t,e,n,r){var o=new S;function c(t){var e,n={};if(r)for(e in r)void 0!==r[e]&&(n[e]=r[e]);if(t)for(e in t)void 0!==t[e]&&(n[e]=t[e]);return n}return o.sublevels={},o.options=r,o.version="6.5.4",o.methods={},e=e||[],o.put=function(n,r,f,l){"function"==typeof f&&(l=f,f={}),t.apply([{key:n,value:r,prefix:e.slice(),type:"put"}],c(f),function(t){if(t)return l(t);o.emit("put",n,r),l(null)})},o.prefix=function(){return e.slice()},o.batch=function(n,r,f){"function"==typeof r&&(f=r,r={}),n=n.map(function(t){return{key:t.key,value:t.value,prefix:t.prefix||e,keyEncoding:t.keyEncoding,valueEncoding:t.valueEncoding,type:t.type}}),t.apply(n,c(r),function(t){if(t)return f(t);o.emit("batch",n),f(null)})},o.get=function(n,r,o){"function"==typeof r&&(o=r,r={}),t.get(n,e,c(r),function(t,e){t?o(C):o(null,e)})},o.sublevel=function(r,f){return o.sublevels[r]=o.sublevels[r]||P(t,e.concat(r),n,c(f))},o.readStream=o.createReadStream=function(r){var o;(r=c(r)).prefix=e;var f=t.iterator(r);return(o=n(r,t.createDecoder(r))).setIterator(f),o},o.close=function(e){t.close(e)},o.isOpen=t.isOpen,o.isClosed=t.isClosed,o},A=k.a.Readable;function R(t,e){if(!(this instanceof R))return new R(t,e);A.call(this,{objectMode:!0,highWaterMark:t.highWaterMark}),this._waiting=!1,this._options=t,this._makeData=e}y()(R,A),R.prototype.setIterator=function(t){return this._iterator=t,this._destroyed?t.end(function(){}):this._waiting?(this._waiting=!1,this._read()):this},R.prototype._read=function(){var t=this;if(!t._destroyed)return t._iterator?void t._iterator.next(function(e,n,r){if(e||void 0===n&&void 0===r)return e||t._destroyed||t.push(null),t._cleanup(e);r=t._makeData(n,r),t._destroyed||t.push(r)}):this._waiting=!0},R.prototype._cleanup=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;t&&"iterator has ended"!==t.message&&e.emit("error",t),e._iterator?e._iterator.end(function(){e._iterator=null,e.emit("close")}):e.emit("close")}},R.prototype.destroy=function(){this._cleanup()};var T={encode:function(t){return""+t[0]+""+t[1]},decode:function(t){var e=t.toString(),n=e.indexOf("",1);return[e.substring(1,n),e.substring(n+1)]},lowerBound:"\0",upperBound:""},D=new E.a;var M=function(t){return P(function(t,e,n){function r(t,r,o,c){return e.encode([t,n.encodeKey(r,o,c)])}function o(t,e){return e&&e.options&&(t.keyEncoding=t.keyEncoding||e.options.keyEncoding,t.valueEncoding=t.valueEncoding||e.options.valueEncoding),t}return t.open(function(){}),{apply:function(e,c,f){c=c||{};for(var l=[],i=-1,h=e.length;++i<h;){var d=e[i];o(d,d.prefix),d.prefix=O(d.prefix),l.push({key:r(d.prefix,d.key,c,d),value:"del"!==d.type&&n.encodeValue(d.value,c,d),type:d.type})}t.db.batch(l,c,f)},get:function(e,o,c,f){return c.asBuffer=n.valueAsBuffer(c),t.db.get(r(o,e,c),c,function(t,e){t?f(t):f(null,n.decodeValue(e,c))})},createDecoder:function(t){return function(r,o){return{key:n.decodeKey(e.decode(r)[1],t),value:n.decodeValue(o,t)}}},isClosed:function(){return t.isClosed()},close:function(e){return t.close(e)},iterator:function(o){var c,f=function(t){var e={};for(var n in t)e[n]=t[n];return e}(o||{}),l=o.prefix||[];return d.a.toLtgt(o,f,function(t){return r(l,t,f,{})},e.lowerBound,e.upperBound),f.prefix=null,f.keyAsBuffer=f.valueAsBuffer=!1,"number"!=typeof f.limit&&(f.limit=-1),f.keyAsBuffer=e.buffer,f.valueAsBuffer=n.valueAsBuffer(f),c=t.db.iterator(f),{next:function(t){return c.next(t)},end:function(t){c.end(t)}}}}}(t,T,D),[],R,t.options)},B=n(283),L=n(166),I=n.n(L),N=n(284),F=n.n(N),U=n(285),$=n.n(U),V=n(150),z=n(157),H=n(158);function W(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}var K=W(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Y=W(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function J(t){if(!/^\d+-./.test(t))return Object(V.p)(V.e);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function Q(t,e,n){var o,c,f;n||(n={deterministic_revs:!0});var l={status:"available"};if(t._deleted&&(l.deleted=!0),e)if(t._id||(t._id=Object(r.y)()),c=Object(r.u)(t,n.deterministic_revs),t._rev){if((f=J(t._rev)).error)return f;t._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[c,l,[]]]]}],o=f.prefix+1}else t._rev_tree=[{pos:1,ids:[c,l,[]]}],o=1;else if(t._revisions&&(t._rev_tree=function(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,o=[r[0],e,[]],i=1,c=r.length;i<c;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}(t._revisions,l),o=t._revisions.start,c=t._revisions.ids[0]),!t._rev_tree){if((f=J(t._rev)).error)return f;o=f.prefix,c=f.id,t._rev_tree=[{pos:o,ids:[c,l,[]]}]}Object(r.m)(t._id),t._rev=o+"-"+c;var h={metadata:{},data:{}};for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var v="_"===d[0];if(v&&!K[d]){var y=Object(V.p)(V.c,d);throw y.message=V.c.message+": "+d,y}v&&!Y[d]?h.metadata[d.slice(1)]=t[d]:h.data[d]=t[d]}return h}function G(t,e,n,r,o,f,l,h,d){t=t||1e3;var v=h.new_edits,y=new c.a,m=0,_=e.length;function w(){++m===_&&d&&d()}e.forEach(function(t,e){if(t._id&&Object(H.e)(t._id)){var r=t._deleted?"_removeLocal":"_putLocal";n[r](t,{ctx:o},function(t,n){f[e]=t||n,w()})}else{var c=t.metadata.id;y.has(c)?(_--,y.get(c).push([t,e])):y.set(c,[[t,e]])}}),y.forEach(function(e,n){var o=0;function c(){++o<e.length?d():w()}function d(){var d=e[o],y=d[0],m=d[1];if(r.has(n))!function(t,e,n,r,i,o,c,f){if(Object(H.h)(e.rev_tree,n.metadata.rev)&&!f)return r[i]=n,o();var l=e.winningRev||Object(H.k)(e),h="deleted"in e?e.deleted:Object(H.d)(e,l),d="deleted"in n.metadata?n.metadata.deleted:Object(H.d)(n.metadata),v=/^1-/.test(n.metadata.rev);if(h&&!d&&f&&v){var y=n.data;y._rev=l,y._id=n.metadata.id,n=Q(y,f)}var m=Object(H.g)(e.rev_tree,n.metadata.rev_tree[0],t);if(f&&(h&&d&&"new_leaf"!==m.conflicts||!h&&"new_leaf"!==m.conflicts||h&&!d&&"new_branch"===m.conflicts)){var _=Object(V.p)(V.n);return r[i]=_,o()}var w=n.metadata.rev;n.metadata.rev_tree=m.tree,n.stemmedRevs=m.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var k=Object(H.k)(n.metadata),x=Object(H.d)(n.metadata,k),E=h===x?0:h<x?-1:1;c(n,k,x,w===k?x:Object(H.d)(n.metadata,w),!0,E,i,o)}(t,r.get(n),y,f,m,c,l,v);else{var _=Object(H.g)([],y.metadata.rev_tree[0],t);y.metadata.rev_tree=_.tree,y.stemmedRevs=_.stemmedRevs||[],function(t,e,n){var r=Object(H.k)(t.metadata),o=Object(H.d)(t.metadata,r);if("was_delete"in h&&o)return f[e]=Object(V.p)(V.g,"deleted"),n();if(v&&function(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}(t)){var c=Object(V.p)(V.n);return f[e]=c,n()}l(t,r,o,o,!1,o?0:1,e,n)}(y,m,c)}}d()})}var X=n(286),Z=n.n(X);function tt(t,e){var n=new Uint8Array(t);return Object(o.d)([n],{type:e})}function et(t,e){var n=e.prefix()[0],r=t._cache,o=r.get(n);return o||(o=new c.a,r.set(n,o)),o}function nt(){this._batch=[],this._cache=new c.a}nt.prototype.get=function(t,e,n){var o=et(this,t),c=o.get(e);return c?Object(r.p)(function(){n(null,c)}):null===c?Object(r.p)(function(){n({name:"NotFoundError"})}):void t.get(e,function(t,r){if(t)return"NotFoundError"===t.name&&o.set(e,null),n(t);o.set(e,r),n(null,r)})},nt.prototype.batch=function(t){for(var i=0,e=t.length;i<e;i++){var n=t[i],r=et(this,n.prefix);"put"===n.type?r.set(n.key,n.value):r.set(n.key,null)}this._batch=this._batch.concat(t)},nt.prototype.execute=function(t,e){for(var n=new c.b,r=[],i=this._batch.length-1;i>=0;i--){var o=this._batch[i],f=o.prefix.prefix()[0]+""+o.key;n.has(f)||(n.add(f),r.push(o))}t.batch(r,e)};var it="document-store",ot="by-sequence",at="attach-store",st="attach-binary-store",ut="local-store",ct="meta-store",ft=new c.a,lt="_local_last_update_seq",ht="_local_doc_count",pt="_local_uuid",vt="md5-",yt={encode:function(t){try{return JSON.stringify(t)}catch(e){return Z.a.stringify(t)}},decode:function(t){try{return JSON.parse(t)}catch(e){return Z.a.parse(t)}},buffer:!1,type:"cheap-json"},gt=new r.d;function mt(t){return"winningRev"in t?t.winningRev:Object(H.k)(t)}function bt(t,e){return"deleted"in t?t.deleted:Object(H.d)(t,e)}function _t(t,e,n){var r=[];return t.forEach(function(t){t.doc&&t.doc._attachments&&Object.keys(t.doc._attachments).forEach(function(e){var n=t.doc._attachments[e];"data"in n||r.push(n)})}),Promise.all(r.map(function(t){return function(t,e,n){var r=t.content_type;return new Promise(function(c,f){e.binaryStore.get(t.digest,function(e,l){var data;if(e){if("NotFoundError"!==e.name)return f(e);data=n.binary?Object(o.c)("",r):""}else data=n.binary?tt(l,r):l.toString("base64");delete t.stub,delete t.length,t.data=data,c()})})}(t,e,n)}))}var wt=function(t,e){t=Object(r.e)(t);var n,f,h=this,d={},v=t.revs_limit,y=t.name;void 0===t.createIfMissing&&(t.createIfMissing=!0);var m,_=t.db,w=Object(r.j)(_);function k(){d.docStore=f.sublevel(it,{valueEncoding:yt}),d.bySeqStore=f.sublevel(ot,{valueEncoding:"json"}),d.attachmentStore=f.sublevel(at,{valueEncoding:"json"}),d.binaryStore=f.sublevel(st,{valueEncoding:"binary"}),d.localStore=f.sublevel(ut,{valueEncoding:"json"}),d.metaStore=f.sublevel(ct,{valueEncoding:"json"}),"object"==typeof t.migrate?t.migrate.doMigrationTwo(f,d,x):x()}function x(){d.metaStore.get(lt,function(t,o){void 0===f._updateSeq&&(f._updateSeq=o||0),d.metaStore.get(ht,function(t,o){f._docCount=t?0:o,d.metaStore.get(pt,function(t,o){n=t?Object(r.y)():o,d.metaStore.put(pt,n,function(){Object(r.p)(function(){e(null,h)})})})})})}function E(t,e){try{t.apply(null,e)}catch(t){e[e.length-1](t)}}function O(){var t=f._queue.peekFront();"read"===t.type?function(t){for(var e=[t],i=1,n=f._queue.get(i);void 0!==n&&"read"===n.type;)e.push(n),i++,n=f._queue.get(i);var o=0;e.forEach(function(t){var n=t.args,c=n[n.length-1];n[n.length-1]=I()(function(t){c.apply(null,t),++o===e.length&&Object(r.p)(function(){e.forEach(function(){f._queue.shift()}),f._queue.length&&O()})}),E(t.fun,n)})}(t):function(t){var e=t.args,n=e[e.length-1];e[e.length-1]=I()(function(t){n.apply(null,t),Object(r.p)(function(){f._queue.shift(),f._queue.length&&O()})}),E(t.fun,e)}(t)}function j(t){return I()(function(e){f._queue.push({fun:t,args:e,type:"write"}),1===f._queue.length&&Object(r.p)(O)})}function S(t){return I()(function(e){f._queue.push({fun:t,args:e,type:"read"}),1===f._queue.length&&Object(r.p)(O)})}function C(t){return("0000000000000000"+t).slice(-16)}function P(t,e){"destroy"in _&&_.destroy(t,e)}ft.has(w)?m=ft.get(w):(m=new c.a,ft.set(w,m)),m.has(y)?(f=m.get(y),k()):m.set(y,M(l()(_(y),t,function(n){if(n)return m.delete(y),e(n);(f=m.get(y))._docCount=-1,f._queue=new F.a,"object"==typeof t.migrate?t.migrate.doMigrationOne(y,f,k):k()}))),h._remote=!1,h.type=function(){return"leveldb"},h._id=function(t){t(null,n)},h._info=function(t){var e={doc_count:f._docCount,update_seq:f._updateSeq,backend_adapter:Object(r.j)(_)};return Object(r.p)(function(){t(null,e)})},h._get=S(function(t,e,n){e=Object(r.e)(e),d.docStore.get(t,function(t,r){if(t||!r)return n(Object(V.p)(V.g,"missing"));var o;if(e.rev)o=e.latest?Object(H.f)(e.rev,r):e.rev;else if(o=mt(r),bt(r,o))return n(Object(V.p)(V.g,"deleted"));var c=r.rev_map[o];d.bySeqStore.get(C(c),function(t,e){if(!e)return n(Object(V.p)(V.g));if("_id"in e&&e._id!==r.id)return n(new Error("wrong doc returned"));if(e._id=r.id,"_rev"in e){if(e._rev!==o)return n(new Error("wrong doc returned"))}else e._rev=o;return n(null,{doc:e,metadata:r})})})}),h._getAttachment=function(t,e,n,r,c){var f=n.digest,l=n.content_type;d.binaryStore.get(f,function(t,e){if(t)return"NotFoundError"!==t.name?c(t):c(null,r.binary?function(t){return Object(o.d)([""],{type:t})}(l):"");r.binary?c(null,tt(e,l)):c(null,e.toString("base64"))})},h._bulkDocs=j(function(t,e,n){var l=e.new_edits,m=new Array(t.docs.length),_=new c.a,w=new c.a,k=new nt,x=0,E=f._updateSeq,O=t.docs,j=O.map(function(t){if(t._id&&Object(H.e)(t._id))return t;var e=Q(t,l,h.__opts);return e.metadata&&!e.metadata.rev_map&&(e.metadata.rev_map={}),e}),S=j.filter(function(t){return t.error});if(S.length)return n(S[0]);function P(t,e){var n=Promise.resolve();t.forEach(function(t,e){n=n.then(function(){return new Promise(function(n,r){h._doCompactionNoLock(e,t,{ctx:k},function(t){if(t)return r(t);n()})})})}),n.then(function(){e()},e)}function A(){P(w,function(t){if(t&&M(t),h.auto_compaction)return e=M,n=new c.a,_.forEach(function(t,e){n.set(e,Object(H.c)(t))}),void P(n,e);var e,n;M()})}function R(t,e,r,c,f,l,h,v){x+=l;var y=null,O=0;t.metadata.winningRev=e,t.metadata.deleted=r,t.data._id=t.metadata.id,t.data._rev=t.metadata.rev,c&&(t.data._deleted=!0),t.stemmedRevs.length&&w.set(t.metadata.id,t.stemmedRevs);var j,S,P=t.data._attachments?Object.keys(t.data._attachments):[];function A(t){O++,y||(t?v(y=t):O===P.length&&L())}function R(t,e,data,n){return function(r){!function(t,e,n,data,r){var o=t.data._attachments[n];delete o.data,o.digest=e,o.length=data.length;var c=t.metadata.id,f=t.metadata.rev;o.revpos=parseInt(f,10),D(c,f,e,function(t,n){return t?r(t):0===data.length?r(t):n?(k.batch([{type:"put",prefix:d.binaryStore,key:e,value:$()(data,"binary")}]),void r()):r(t)})}(t,vt+r,e,data,n)}}function T(t,e,n){return function(data){Object(z.a)(data,R(t,e,data,n))}}for(var i=0;i<P.length;i++){var data,M=P[i],B=t.data._attachments[M];if(B.stub)D(t.data._id,t.data._rev,B.digest,A);else if("string"==typeof B.data){try{data=Object(o.a)(B.data)}catch(t){return void n(Object(V.p)(V.a,"Attachment is not a valid base64 string"))}T(t,M,A)(data)}else j=B.data,S=T(t,M,A),Object(o.i)(j,S)}function L(){var e=t.metadata.rev_map[t.metadata.rev];if(e)return v();e=++E,t.metadata.rev_map[t.metadata.rev]=t.metadata.seq=e;var n=[{key:C(e),value:t.data,prefix:d.bySeqStore,type:"put"},{key:t.metadata.id,value:t.metadata,prefix:d.docStore,type:"put"}];k.batch(n),m[h]={ok:!0,id:t.metadata.id,rev:t.metadata.rev},_.set(t.metadata.id,t.metadata),v()}P.length||L()}var T={};function D(t,e,n,r){function o(r){var o=[t,e].join("@"),c={};return r?r.refs&&(c.refs=r.refs,c.refs[o]=!0):(c.refs={},c.refs[o]=!0),new Promise(function(t){k.batch([{type:"put",prefix:d.attachmentStore,key:n,value:c}]),t(!r)})}var c=T[n]||Promise.resolve();T[n]=c.then(function(){return new Promise(function(t,e){k.get(d.attachmentStore,n,function(n,r){if(n&&"NotFoundError"!==n.name)return e(n);t(r)})}).then(o).then(function(t){r(null,t)},r)})}function M(t){if(t)return Object(r.p)(function(){n(t)});k.batch([{prefix:d.metaStore,type:"put",key:lt,value:E},{prefix:d.metaStore,type:"put",key:ht,value:f._docCount+x}]),k.execute(f,function(t){if(t)return n(t);f._docCount+=x,f._updateSeq=E,gt.notify(y),Object(r.p)(function(){n(null,m)})})}if(!j.length)return n(null,[]);!function(t){var e=[];if(O.forEach(function(t){t&&t._attachments&&Object.keys(t._attachments).forEach(function(n){var r=t._attachments[n];r.stub&&e.push(r.digest)})}),!e.length)return t();var n,r=0;e.forEach(function(o){!function(t,e){k.get(d.attachmentStore,t,function(n){if(n){var r=Object(V.p)(V.i,"unknown stub attachment with digest "+t);e(r)}else e()})}(o,function(o){o&&!n&&(n=o),++r===e.length&&t(n)})})}(function(t){if(t)return n(t);!function(t){var e,n=0;function r(){if(++n===O.length)return t(e)}O.forEach(function(t){if(t._id&&Object(H.e)(t._id))return r();k.get(d.docStore,t._id,function(n,o){n?"NotFoundError"!==n.name&&(e=n):_.set(t._id,o),r()})})}(function(t){if(t)return n(t);G(v,j,h,_,k,m,R,e,A)})})}),h._allDocs=function(t,e){return"keys"in t?function(t,e){var n=e.keys,o={offset:e.skip};return Promise.all(n.map(function(n){var c=Object(r.b)({key:n,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete c[t]}),new Promise(function(r,f){t._allDocs(c,function(t,c){if(t)return f(t);e.update_seq&&void 0!==c.update_seq&&(o.update_seq=c.update_seq),o.total_rows=c.total_rows,r(c.rows[0]||{key:n,error:"not_found"})})})})).then(function(t){return o.rows=t,o})}(this,t):S(function(t,e){t=Object(r.e)(t),function(t){f.isClosed()?t(new Error("database is closed")):t(null,f._docCount)}(function(n,r){if(n)return e(n);var o,c={},l=t.skip||0;if(t.startkey&&(c.gte=t.startkey),t.endkey&&(c.lte=t.endkey),t.key&&(c.gte=c.lte=t.key),t.descending){c.reverse=!0;var h=c.lte;c.lte=c.gte,c.gte=h}if("number"==typeof t.limit&&(o=t.limit),0===o||"gte"in c&&"lte"in c&&c.gte>c.lte){var v={total_rows:r,offset:t.skip,rows:[]};return t.update_seq&&(v.update_seq=f._updateSeq),e(null,v)}var y=[],m=d.docStore.readStream(c),_=Object(B.obj)(function(e,n,r){var c=e.value,f=mt(c),h=bt(c,f);if(h){if("ok"!==t.deleted)return void r()}else{if(l-- >0)return void r();if("number"==typeof o&&o--<=0)return m.unpipe(),m.destroy(),void r()}function v(data){var e={id:c.id,key:c.id,value:{rev:f}};if(t.include_docs){if(e.doc=data,e.doc._rev=e.value.rev,t.conflicts){var n=Object(H.a)(c);n.length&&(e.doc._conflicts=n)}for(var o in e.doc._attachments)e.doc._attachments.hasOwnProperty(o)&&(e.doc._attachments[o].stub=!0)}if(!1===t.inclusive_end&&c.id===t.endkey)return r();if(h){if("ok"!==t.deleted)return r();e.value.deleted=!0,e.doc=null}y.push(e),r()}if(t.include_docs){var _=c.rev_map[f];d.bySeqStore.get(C(_),function(t,data){v(data)})}else v()},function(n){Promise.resolve().then(function(){if(t.include_docs&&t.attachments)return _t(y,d,t)}).then(function(){var n={total_rows:r,offset:t.skip,rows:y};t.update_seq&&(n.update_seq=f._updateSeq),e(null,n)},e),n()}).on("unpipe",function(){_.end()});m.on("error",e),m.pipe(_)})})(t,e)},h._changes=function(t){if((t=Object(r.e)(t)).continuous){var e=y+":"+Object(r.y)();return gt.addListener(y,e,h,t),gt.notify(y),{cancel:function(){gt.removeListener(y,e)}}}var n,o=t.descending,l=[],v=t.since||0,m=0,_={reverse:o};"limit"in t&&t.limit>0&&(n=t.limit),_.reverse||(_.start=C(t.since||0));var w=t.doc_ids&&new c.b(t.doc_ids),filter=Object(r.h)(t),k=new c.a;function x(){t.done=!0,t.return_docs&&t.limit&&t.limit<l.length&&(l.length=t.limit),E.unpipe(O),E.destroy(),t.continuous||t.cancelled||(t.include_docs&&t.attachments&&t.return_docs?_t(l,d,t).then(function(){t.complete(null,{results:l,last_seq:v})}):t.complete(null,{results:l,last_seq:v}))}var E=d.bySeqStore.readStream(_),O=Object(B.obj)(function(data,e,r){if(n&&m>=n)return x(),r();if(t.cancelled||t.done)return r();var s,c,h=(s=data.key,parseInt(s,10)),y=data.value;if(h===t.since&&!o)return r();if(w&&!w.has(y._id))return r();function _(e){var n=mt(e);function o(n){var o=t.processChange(n,e,t);o.seq=e.seq;var c=filter(o);if("object"==typeof c)return t.complete(c);c&&(m++,t.attachments&&t.include_docs?_t([o],d,t).then(function(){t.onChange(o)}):t.onChange(o),t.return_docs&&l.push(o)),r()}if(e.seq!==h)return r();if(v=h,n===y._rev)return o(y);var c=e.rev_map[n];d.bySeqStore.get(C(c),function(t,e){o(e)})}if(c=k.get(y._id))return _(c);d.docStore.get(y._id,function(e,n){if(t.cancelled||t.done||f.isClosed()||Object(H.e)(n.id))return r();k.set(y._id,n),_(n)})},function(e){if(t.cancelled)return e();t.return_docs&&t.limit&&t.limit<l.length&&(l.length=t.limit),e()}).on("unpipe",function(){O.end(),x()});return E.pipe(O),{cancel:function(){t.cancelled=!0,x()}}},h._close=function(t){if(f.isClosed())return t(Object(V.p)(V.k));f.close(function(e){e?t(e):(m.delete(y),t())})},h._getRevisionTree=function(t,e){d.docStore.get(t,function(t,n){t?e(Object(V.p)(V.g)):e(null,n.rev_tree)})},h._doCompaction=j(function(t,e,n,r){h._doCompactionNoLock(t,e,n,r)}),h._doCompactionNoLock=function(t,e,n,r){if("function"==typeof n&&(r=n,n={}),!e.length)return r();var o=n.ctx||new nt;o.get(d.docStore,t,function(l,h){if(l)return r(l);var v=e.map(function(t){var e=h.rev_map[t];return delete h.rev_map[t],e});Object(H.j)(h.rev_tree,function(t,n,r,o,c){var f=n+"-"+r;-1!==e.indexOf(f)&&(c.status="missing")});var y=[];y.push({key:h.id,value:h,type:"put",prefix:d.docStore});var m,_={},w=0;function k(n){if(n&&(m=n),++w===e.length){if(m)return r(m);!function(){var n=Object.keys(_);if(!n.length)return x();var r,f=0;function l(t){t&&(r=t),++f===n.length&&x(r)}var h=new c.a;e.forEach(function(e){h.set(t+"@"+e,!0)}),n.forEach(function(t){o.get(d.attachmentStore,t,function(e,n){if(e)return"NotFoundError"===e.name?l():l(e);var r=Object.keys(n.refs||{}).filter(function(t){return!h.has(t)}),o={};r.forEach(function(t){o[t]=!0}),r.length?y.push({key:t,type:"put",value:{refs:o},prefix:d.attachmentStore}):y=y.concat([{key:t,type:"del",prefix:d.attachmentStore},{key:t,type:"del",prefix:d.binaryStore}]),l()})})}()}}function x(t){return t?r(t):(o.batch(y),n.ctx?r():void o.execute(f,r))}v.forEach(function(t){y.push({key:C(t),type:"del",prefix:d.bySeqStore}),o.get(d.bySeqStore,C(t),function(t,e){if(t)return"NotFoundError"===t.name?k():k(t);Object.keys(e._attachments||{}).forEach(function(t){var n=e._attachments[t].digest;_[n]=!0}),k()})})})},h._getLocal=function(t,e){d.localStore.get(t,function(t,n){t?e(Object(V.p)(V.g)):e(null,n)})},h._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),e.ctx?h._putLocalNoLock(t,e,n):h._putLocalWithLock(t,e,n)},h._putLocalWithLock=j(function(t,e,n){h._putLocalNoLock(t,e,n)}),h._putLocalNoLock=function(t,e,n){delete t._revisions;var r=t._rev,o=t._id,c=e.ctx||new nt;c.get(d.localStore,o,function(l,h){if(l&&r)return n(Object(V.p)(V.n));if(h&&h._rev!==r)return n(Object(V.p)(V.n));t._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var v=[{type:"put",prefix:d.localStore,key:o,value:t}];c.batch(v);var y={ok:!0,id:t._id,rev:t._rev};if(e.ctx)return n(null,y);c.execute(f,function(t){if(t)return n(t);n(null,y)})})},h._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),e.ctx?h._removeLocalNoLock(t,e,n):h._removeLocalWithLock(t,e,n)},h._removeLocalWithLock=j(function(t,e,n){h._removeLocalNoLock(t,e,n)}),h._removeLocalNoLock=function(t,e,n){var r=e.ctx||new nt;r.get(d.localStore,t._id,function(o,c){if(o)return"NotFoundError"!==o.name?n(o):n(Object(V.p)(V.g));if(c._rev!==t._rev)return n(Object(V.p)(V.n));r.batch([{prefix:d.localStore,type:"del",key:t._id}]);var l={ok:!0,id:t._id,rev:"0-0"};if(e.ctx)return n(null,l);r.execute(f,function(t){if(t)return n(t);n(null,l)})})},h._destroy=function(t,e){var n,o=Object(r.j)(_);if(!ft.has(o))return P(y,e);(n=ft.get(o)).has(y)?(gt.removeAllListeners(y),n.get(y).close(function(){n.delete(y),P(y,e)})):P(y,e)}},kt=n(287),xt=n.n(kt);function Et(t,e){var n=Object(r.b)({db:xt.a},t);wt.call(this,n,e)}Et.valid=function(){return!0},Et.use_prefix=!1;e.default=function(t){t.adapter("memory",Et,!0)}},function(t,e,n){"use strict";n.r(e);var r=n(161),o=n(216),c=v("computed",o.d),f=v("computed",o.b),l=v("methods",o.a),h=v("methods",o.c);function d(t,e){function n(e){return function(a,b){if("string"==typeof b){var n=b,r=a;return e(n,{namespace:t})(r,n)}var o=a,c=function(a,b){var t={};return[a,b].forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t}(b||{},{namespace:t});return e(o,c)}}return e?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),n(e)):{State:n(c),Getter:n(f),Mutation:n(h),Action:n(l)}}function v(t,e){function n(map,n){return Object(r.createDecorator)(function(r,o){r[t]||(r[t]={});var c,f=((c={})[o]=map,c);r[t][o]=void 0!==n?e(n,f)[o]:e(f)[o]})}return function(a,b){if("string"==typeof b){var t=b,e=a;return n(t,void 0)(e,t)}return n(a,function(t){var e=t&&t.namespace;if("string"==typeof e)return"/"!==e[e.length-1]?e+"/":e}(b))}}n.d(e,"State",function(){return c}),n.d(e,"Getter",function(){return f}),n.d(e,"Action",function(){return l}),n.d(e,"Mutation",function(){return h}),n.d(e,"namespace",function(){return d})}])]);